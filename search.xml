<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>hexo ä½¿ç”¨æ•™ç¨‹</title>
      <link href="/2021/11/19/hexo/"/>
      <url>/2021/11/19/hexo/</url>
      
        <content type="html"><![CDATA[<h3 id="æ–°å»ºä¸€ç¯‡åšå®¢"><a href="#æ–°å»ºä¸€ç¯‡åšå®¢" class="headerlink" title="æ–°å»ºä¸€ç¯‡åšå®¢"></a>æ–°å»ºä¸€ç¯‡åšå®¢</h3><pre class="language-bash" data-language="bash"><code class="language-bash">$ hexo new <span class="token string">"My New Post"</span></code></pre><h3 id="æäº¤ä¿®æ”¹åˆ°my-blogä¸Š"><a href="#æäº¤ä¿®æ”¹åˆ°my-blogä¸Š" class="headerlink" title="æäº¤ä¿®æ”¹åˆ°my-blogä¸Š"></a>æäº¤ä¿®æ”¹åˆ°my-blogä¸Š</h3><pre class="language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> <span class="token function">add</span> <span class="token builtin class-name">.</span><span class="token function">git</span> commit -m <span class="token string">"msg"</span><span class="token function">git</span> push origin master:my-blog</code></pre><h3 id="è‡ªåŠ¨å¼€å¯è‡ªåŠ¨åŒ–éƒ¨ç½²"><a href="#è‡ªåŠ¨å¼€å¯è‡ªåŠ¨åŒ–éƒ¨ç½²" class="headerlink" title="è‡ªåŠ¨å¼€å¯è‡ªåŠ¨åŒ–éƒ¨ç½²"></a>è‡ªåŠ¨å¼€å¯è‡ªåŠ¨åŒ–éƒ¨ç½²</h3><pre class="language-bash" data-language="bash"><code class="language-bash">æ‰“å¼€https://jingwzeng.github.ioå°±å¯ä»¥è‡ªåŠ¨éƒ¨ç½²</code></pre><h3 id="è¡¨æƒ…åŒ…"><a href="#è¡¨æƒ…åŒ…" class="headerlink" title="è¡¨æƒ…åŒ…"></a>è¡¨æƒ…åŒ…</h3><p><span class="github-emoji"><span>ğŸ˜„</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> <span class="github-emoji"><span>ğŸ˜–</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f616.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> <span class="github-emoji"><span>ğŸ˜¨</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f628.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> <span class="github-emoji"><span>ğŸ˜°</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f630.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> <span class="github-emoji"><span>ğŸ˜£</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f623.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><br>è¡¨æƒ…åŒ…ä»£ç åœ°å€:<a href="https://www.webfx.com/tools/emoji-cheat-sheet/#tabs-3">https://www.webfx.com/tools/emoji-cheat-sheet/#tabs-3</a></p><p><span class="github-emoji"><span>ğŸ†–</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f196.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>  <span class="github-emoji"><span>8âƒ£</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/0038-20e3.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><span class="github-emoji"><span>ğŸ…°</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f170.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><br><span class="github-emoji"><span>ğŸ˜Š</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f60a.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span></p>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>TSçš„å­¦ä¹ ç¬”è®°</title>
      <link href="/2021/11/15/ts-de-xue-xi-bi-ji/"/>
      <url>/2021/11/15/ts-de-xue-xi-bi-ji/</url>
      
        <content type="html"><![CDATA[<h2 id="åŸºç¡€"><a href="#åŸºç¡€" class="headerlink" title="åŸºç¡€"></a>åŸºç¡€</h2><h3 id="å•¥æ˜¯-TSï¼Ÿ"><a href="#å•¥æ˜¯-TSï¼Ÿ" class="headerlink" title="å•¥æ˜¯ TSï¼Ÿ"></a>å•¥æ˜¯ TSï¼Ÿ</h3><p>æˆ‘æ˜¯è¿™æ ·è§£é‡Šçš„ï¼ŒJS æ˜¯ä¸€é—¨çš„åŠ¨æ€çš„è¯­è¨€ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒæ²¡æœ‰ç¼–è¯‘é˜¶æ®µï¼Œè¿™æ ·å°±ä¼šå¯¼è‡´ç­‰åˆ°è¿è¡Œçš„æ—¶å€™æ‰ä¼šå‘ç°æœ¬åº”è¯¥åœ¨ç¼–è¯‘æœŸé—´å°±çŸ¥é“çš„é”™è¯¯ï¼Œæ¯”å¦‚è¯´è¯­æ³•é”™è¯¯ã€‚TS å°±ä¸ä¸€æ ·äº†ï¼Œå®ƒæ˜¯ä¸€é—¨é™æ€çš„è¯­è¨€ï¼Œæ‰€ä»¥å®ƒä¼šæœ‰ç¼–è¯‘çš„é˜¶æ®µï¼Œå…ˆç¼–è¯‘æˆ JSï¼Œè¿™ä¸ªè¿‡ç¨‹å°±å¯ä»¥çŸ¥é“å¾ˆå¤šé”™è¯¯çš„åœ°æ–¹ï¼Œå› æ­¤ TS ä¼šæ¯” typescript æ›´åŠ å¼ºå¤§ã€‚</p><blockquote><p>TS ä¾æ—§æ˜¯ typescript ä¸€æ ·æ˜¯å¼±ç±»å‹çš„è¯­è¨€ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒå…¼å®¹æ‰€æœ‰çš„ typescript ç‰¹æ€§ï¼Œå¼ºå¼±ç±»å‹çš„åŒºåˆ«ç‰¹å¾æ˜¯ä¼šä¸ä¼šè¿›è¡Œç±»å‹çš„éšå½¢è½¬æ¢ï¼ŒJS ä¼šï¼ŒTS å…¼å®¹ typescript çš„æ‰€æœ‰ç‰¹å¾ï¼Œæ‰€ä»¥ä¹Ÿä¼šï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡æ‰‹æ®µæ¥é™åˆ¶ã€‚</p></blockquote><h3 id="åŸå§‹æ•°æ®ç±»å‹"><a href="#åŸå§‹æ•°æ®ç±»å‹" class="headerlink" title="åŸå§‹æ•°æ®ç±»å‹"></a>åŸå§‹æ•°æ®ç±»å‹</h3><h4 id="å¸ƒå°”å€¼"><a href="#å¸ƒå°”å€¼" class="headerlink" title="å¸ƒå°”å€¼"></a>å¸ƒå°”å€¼</h4><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œé€šè¿‡æ„é€ å‡½æ•°<code>Boolean</code>åˆ›é€ çš„å¯¹è±¡ä¸æ˜¯å¸ƒå°”å€¼ï¼Œè€Œæ˜¯<code>Boolean</code>å¯¹è±¡ã€‚å…¶ä»–çš„åŸºæœ¬ç±»å‹ä¹Ÿæ˜¯ä¸€æ ·ï¼Œé™¤äº†<code>null</code>å’Œ<code>undefined</code></p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">let</span> isDone<span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token comment">// âœ…</span><span class="token keyword">let</span> isDone<span class="token operator">:</span> Boolean <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Boolean</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// âœ…</span><span class="token keyword">let</span> isDone<span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Boolean</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// âŒ</span></code></pre><h4 id="æ•°å€¼"><a href="#æ•°å€¼" class="headerlink" title="æ•°å€¼"></a>æ•°å€¼</h4><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">let</span> a<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span><span class="token keyword">let</span> b<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">0b1010</span><span class="token punctuation">;</span> <span class="token comment">// ä¸ç®¡å‡ è¿›åˆ¶çš„æ•°å­—éƒ½æ˜¯ä¸€æ ·çš„</span><span class="token keyword">let</span> c<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">NaN</span><span class="token punctuation">;</span><span class="token keyword">let</span> d<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">Infinity</span><span class="token punctuation">;</span></code></pre><h4 id="å­—ç¬¦ä¸²"><a href="#å­—ç¬¦ä¸²" class="headerlink" title="å­—ç¬¦ä¸²"></a>å­—ç¬¦ä¸²</h4><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">let</span> name<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">"zengxpang"</span><span class="token punctuation">;</span><span class="token keyword">let</span> nickName<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">zjingw</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span> <span class="token comment">//æ¨¡æ¿å­—ç¬¦ä¸²ä¹Ÿä¸€æ ·</span></code></pre><h4 id="ç©ºå€¼"><a href="#ç©ºå€¼" class="headerlink" title="ç©ºå€¼"></a>ç©ºå€¼</h4><p>TS ç‰¹æœ‰çš„æ¦‚å¿µç©ºå€¼<code>void</code>,è¡¨ç¤ºå‡½æ•°æ²¡æœ‰ä»»ä½•è¿”å›å€¼ã€‚</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">function</span> <span class="token function">alertAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"My name is zengxpang"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>æˆ–è€… void ç±»å‹çš„å˜é‡åªæœ‰<code>null</code>æˆ–<code>undefined</code>ï¼Œä¸å»ºè®®ç”¨ ğŸ¤¯</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">let</span> a<span class="token operator">:</span> <span class="token keyword">void</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span><span class="token keyword">let</span> b<span class="token operator">:</span> <span class="token keyword">void</span> <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span></code></pre><h4 id="null-å’Œ-undefined"><a href="#null-å’Œ-undefined" class="headerlink" title="null å’Œ undefined"></a>null å’Œ undefined</h4><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">let</span> a<span class="token operator">:</span> <span class="token keyword">undefined</span> <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span><span class="token keyword">let</span> b<span class="token operator">:</span> <span class="token keyword">null</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span></code></pre><p>å®ƒä»¬ä¸<code>void</code>çš„åŒºåˆ«å°±æ˜¯,<code>null</code>å’Œ<code>undefined</code>æ˜¯æ‰€æœ‰ç±»å‹çš„å­ç±»å‹ï¼Œä¹Ÿå°±æ˜¯è¯´æ‰€æœ‰çš„ç±»å‹éƒ½å¯ä»¥æ˜¯å®ƒä»¬ã€‚æ¯”å¦‚</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">let</span> a<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span> <span class="token comment">// âœ… ä¸¥æ ¼æ¨¡å¼ä¸‹ä¼šæŠ¥é”™</span></code></pre><p>ä½†æ˜¯<code>void</code>ä¸è¡Œã€‚ä¸è¿‡éƒ½ä¸å»ºè®®ç”¨å•¦ã€‚çŸ¥é“å°±å¥½å•¦~~~å› ä¸ºè²Œä¼¼ç°åœ¨éƒ½ä¼šæŠ¥é”™ ğŸ¤¯</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">let</span> a<span class="token operator">:</span><span class="token builtin">number</span> <span class="token operator">=</span> <span class="token keyword">void</span> <span class="token comment">//âŒ</span></code></pre><h4 id="ä»»æ„å€¼-å’Œ-ç±»å‹æ¨å¯¼"><a href="#ä»»æ„å€¼-å’Œ-ç±»å‹æ¨å¯¼" class="headerlink" title="ä»»æ„å€¼ å’Œ ç±»å‹æ¨å¯¼"></a>ä»»æ„å€¼ å’Œ ç±»å‹æ¨å¯¼</h4><p>ä»»æ„å€¼<code>any</code>å°±æ˜¯å¯ä»¥è¡¨ç¤ºæˆä»»ä½•å€¼ï¼Œæ­¤æ—¶å’Œ typescript å·®ä¸å¤šã€‚</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">let</span> name<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token operator">=</span> <span class="token string">"zengxpang"</span><span class="token punctuation">;</span>name <span class="token operator">=</span> <span class="token number">8888</span><span class="token punctuation">;</span></code></pre><p>å¦‚æœå˜é‡ä¸å£°æ˜ç±»å‹ï¼Œé»˜è®¤ä¹Ÿæ˜¯<code>any</code>ç±»å‹</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">let</span> something<span class="token punctuation">;</span>something <span class="token operator">=</span> <span class="token string">"zengxpang"</span><span class="token punctuation">;</span> <span class="token comment">// å› ä¸ºè¿™é‡Œä¸æ˜¯å£°æ˜å³èµ‹å€¼ï¼Œæ‰€æœ‰æ˜¯æ²¡æœ‰ç±»å‹æ¨å¯¼çš„ï¼Œä¸ä¼šä¿é”™</span>something <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token comment">// ç­‰åŒäº</span><span class="token keyword">let</span> something<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">;</span>something <span class="token operator">=</span> <span class="token string">"zengxpang"</span><span class="token punctuation">;</span>something <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token comment">// å¦‚æœå®šä¹‰çš„æ—¶å€™æ²¡æœ‰èµ‹å€¼ï¼Œä¸ç®¡ä¹‹åæœ‰æ²¡æœ‰èµ‹å€¼ï¼Œéƒ½ä¼šè¢«æ¨æ–­æˆ any ç±»å‹è€Œå®Œå…¨ä¸è¢«ç±»å‹æ£€æŸ¥ï¼š</span></code></pre><p>æ³¨æ„</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">let</span> something <span class="token operator">=</span> <span class="token string">"zengxpang"</span><span class="token punctuation">;</span>something <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span> <span class="token comment">//âŒ å› ä¸ºTSçš„ç±»å‹æ¨å¯¼ï¼Œç›¸å½“äºlet something:string = 'zengxpang'</span><span class="token comment">// è¿˜æœ‰ä¸€ç§å†™æ³•æ¯”è¾ƒå®¹æ˜“æ··</span><span class="token keyword">let</span> something<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>something <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span> <span class="token comment">//âŒ å·²ç»æœ‰å®šä¹‰ç±»å‹å•¦</span>something <span class="token operator">=</span> <span class="token string">"zengxpang"</span><span class="token punctuation">;</span> <span class="token comment">// âœ…</span></code></pre><h3 id="è”åˆç±»å‹"><a href="#è”åˆç±»å‹" class="headerlink" title="è”åˆç±»å‹"></a>è”åˆç±»å‹</h3><p>å°±æ˜¯å–å€¼å¯ä»¥ä¸ºå¤šç§é€‰æ‹©ï¼Œå¤šç§ç±»å‹ä¸­çš„ä¸€ç§ã€‚</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">let</span> manyId<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">;</span>manyId <span class="token operator">=</span> <span class="token string">"zengxpang"</span><span class="token punctuation">;</span>manyId <span class="token operator">=</span> <span class="token number">8888</span><span class="token punctuation">;</span></code></pre><p>æ³¨æ„</p><p>è®¿é—®è”åˆç±»å‹é‡Œé¢çš„å±æ€§æˆ–è€…æ–¹æ³•ï¼Œå¦‚æœä¸ç¡®å®šæ˜¯å˜é‡åˆ°åº•æ˜¯è”åˆç±»å‹ä¸­çš„é‚£ä¸€ä¸ªï¼Œé‚£ä¹ˆåªèƒ½è®¿é—®æ­¤è”åˆç±»å‹çš„å…¬å‘Šå±æ€§å’Œæ–¹æ³•ã€‚</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">function</span> <span class="token function">getLength</span><span class="token punctuation">(</span>something<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> something<span class="token punctuation">.</span>length<span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token comment">//âŒ</span><span class="token comment">// å› ä¸ºnumberæ˜¯æ²¡æœ‰lengthå±æ€§çš„</span><span class="token keyword">function</span> <span class="token function">getLength</span><span class="token punctuation">(</span>something<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> something<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token comment">//âœ…</span><span class="token comment">// number å’Œstringéƒ½æœ‰toStringæ–¹æ³•</span></code></pre><p>ä¸€æ—¦ç¡®å®šäº†å˜é‡è¢«èµ‹å€¼çš„æ—¶å€™çš„ç±»å‹ï¼Œé‚£å°±å¯ä»¥ç”¨å•¦</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">let</span> a<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">;</span>a <span class="token operator">=</span> <span class="token string">"zengxpang"</span><span class="token punctuation">;</span><span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 9</span>a <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span><span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//âŒ</span></code></pre><h3 id="æ¥å£"><a href="#æ¥å£" class="headerlink" title="æ¥å£"></a>æ¥å£</h3><p>æ¥å£æ˜¯å¯¹è¡Œä¸ºçš„æŠ½è±¡ï¼Œç”¨ç±»å»å®ç°ã€‚åœ¨ä½¿ç”¨æ¥å£çš„æ—¶å€™å‘¢ï¼Œä½¿ç”¨è€…éœ€è¦ä¸æ¥å£çš„å½¢çŠ¶ä¿æŒä¸€è‡´ï¼Œç±»æ¯”ç°å®ä¸­ç”µè„‘æ¥å£ã€‚</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">interface</span> <span class="token class-name">Person</span><span class="token punctuation">{</span>    name<span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">;</span>    age<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">;</span>    sex<span class="token operator">?</span><span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// ?è¡¨ç¤ºå¯é€‰</span><span class="token punctuation">}</span><span class="token keyword">let</span> zengxpang <span class="token operator">:</span>Person<span class="token operator">=</span><span class="token punctuation">{</span>    name<span class="token operator">:</span><span class="token string">'zengxpang'</span><span class="token punctuation">,</span>    age<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">}</span>ï¼Œ<span class="token comment">// zengxpangçš„å½¢çŠ¶å°±è·Ÿæ¥å£Personçš„ä¸€è‡´å•¦ï¼Œè¿™æ˜¯å¿…é¡»çš„ã€‚å¤šå±æ€§ä¸è¡Œï¼›å°‘å±æ€§ä¹Ÿæ˜¯ä¸è¡Œçš„ï¼Œé™¤éå±æ€§æ˜¯å¯é€‰çš„</span></code></pre><p>æ¥å£ä¸­åŠ ä»»æ„å±æ€§</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>  age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>  <span class="token punctuation">[</span>propName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">let</span> zengxpang<span class="token operator">:</span> Person <span class="token operator">=</span> <span class="token punctuation">{</span>  name<span class="token operator">:</span> <span class="token string">"zengxpang"</span><span class="token punctuation">,</span>  age<span class="token operator">:</span> <span class="token number">23</span><span class="token punctuation">,</span>  speaker<span class="token operator">:</span> <span class="token string">"chinese"</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment">// ä½¿ç”¨[propName:string]å®šä¹‰äº†å±æ€§åæ˜¯ä»»æ„çš„å­—ç¬¦ä¸²å°±è¡Œ</span></code></pre><p>æ³¨æ„</p><p><strong>ä¸€æ—¦æ¥å£ä¸­æœ‰ä»»æ„ç±»å‹å­˜åœ¨çš„è¯ï¼Œé‚£ä¹ˆç¡®å®šå±æ€§å’Œå¯é€‰å±æ€§çš„ç±»å‹å¿…é¡»æ˜¯å®ƒçš„ç±»å‹çš„å­é›†ã€‚</strong> è¿™ä¸ªæ¦‚å¿µå¯èƒ½æ˜¯æœ‰ç‚¹è¶…å‡ºè®¤çŸ¥çš„ã€‚</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>  age<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> <span class="token comment">//âŒ</span>  <span class="token punctuation">[</span>propName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// å› ä¸ºä»»æ„å±æ€§çš„ç±»å‹éƒ½è¦æ±‚æ˜¯stringç±»å‹çš„ï¼Œä½†æ˜¯ageçš„å±æ€§ç±»å‹å±…ç„¶æ˜¯numberï¼Œæ‰€ä»¥ä¼šæŠ¥é”™ã€‚è§£å†³åŠæ³•æ˜¯ä½¿ç”¨è”åˆç±»å‹æˆ–è€…any(è§ä¸Šé¢)</span><span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>  age<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>  <span class="token punctuation">[</span>propName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token comment">//âœ…</span></code></pre><p>åªè¯»å±æ€§</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">interface</span> <span class="token class-name">Person</span><span class="token punctuation">{</span>    <span class="token keyword">readonly</span> idCard<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">let</span> zengxpang<span class="token operator">:</span>Person<span class="token punctuation">{</span>    idCard<span class="token operator">:</span><span class="token number">9527</span><span class="token punctuation">;</span> <span class="token comment">// å¿…é¡»ç»™è¯¥å±æ€§èµ‹å€¼ï¼Œä¸ç„¶ä¹Ÿä¼šæŠ¥é”™å“¦ï¼Œå’Œç¡®å®šå±æ€§ä¸€æ ·</span><span class="token punctuation">}</span>zengxpang<span class="token punctuation">.</span>idCard <span class="token operator">=</span> <span class="token number">9999</span> <span class="token comment">//âŒ æ— æ³•ä¿®æ”¹ï¼Œå®ƒæ˜¯åªè¯»å±æ€§æ¥çš„</span></code></pre><h3 id="æ•°ç»„"><a href="#æ•°ç»„" class="headerlink" title="æ•°ç»„"></a>æ•°ç»„</h3><p>è¡¨ç¤ºæ–¹æ³•æœ‰ä¸‰ç§ï¼š</p><ol><li>ç±»å‹+[]</li></ol><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">let</span> a<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><ol start="2"><li>æ³›å‹</li></ol><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">let</span> a<span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><ol start="3"><li>æ¥å£è¡¨ç¤º</li></ol><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">interface</span> <span class="token class-name">a</span> <span class="token punctuation">{</span>  <span class="token punctuation">[</span>index<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// è¡¨ç¤ºå¦‚æœç´¢å¼•æ˜¯æ•°å­—çš„è¯ï¼Œé‚£ä¹ˆå€¼å¿…é¡»ä¹Ÿæ˜¯number</span><span class="token keyword">let</span> b<span class="token operator">:</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><p>æ­£å¸¸æƒ…å†µä¸‹ä¸ä¼šç”¨è¿™ç§æ–¹å¼è¡¨ç¤ºï¼Œå¤ªéº»çƒ¦ï¼Œä½†æ˜¯å®ƒéœ€è¦ç”¨åœ¨ç±»æ•°ç»„ä¸­ã€‚ç±»æ•°ç»„åªèƒ½ç”¨æ¥å£çš„æ–¹å¼æ¥è¡¨ç¤ºã€‚</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">let</span> args<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> arguments<span class="token punctuation">;</span> <span class="token comment">//âŒ ç±»æ•°ç»„ä¸èƒ½ä½¿ç”¨æ™®é€šæ•°ç»„çš„è¡¨ç¤ºæ–¹æ³•ï¼Œè€Œåº”è¯¥ç”¨æ¥å£</span><span class="token punctuation">}</span></code></pre><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">let</span> args<span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token punctuation">[</span>index<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>    length<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>    callee<span class="token operator">:</span> <span class="token builtin">Function</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span> <span class="token operator">=</span> arguments<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">/*éœ€è¦æ³¨æ„çš„æ˜¯å‚è€ƒå•¥ä¸ŠèŠ‚æ¥å£éƒ¨åˆ†:ä¸€æ—¦æ¥å£ä¸­æœ‰ä»»æ„ç±»å‹å­˜åœ¨çš„è¯ï¼Œé‚£ä¹ˆç¡®å®šå±æ€§å’Œå¯é€‰å±æ€§çš„ç±»å‹å¿…é¡»æ˜¯å®ƒçš„ç±»å‹çš„å­é›†ã€‚æœ‰ä¸€ä¸ªå‰æï¼Œä»»æ„å±æ€§çš„ç±»å‹ä¸ºstringæ—¶ï¼Œé‚£ä¹ˆç¡®å®šå±æ€§å’Œå¯é€‰å±æ€§çš„ç±»å‹éƒ½å¿…é¡»ä¸ºå®ƒçš„ç±»å‹çš„å­é›†ï¼Œè¿™ä¸ªä¾‹å­æ˜¯numberç±»å‹ï¼Œæ‰€ä»¥æ²¡æœ‰æŠ¥é”™ï¼ŒæŠŠä»»æ„å±æ€§ç±»å‹æ¢æˆstringå°±ä¼šä¹Ÿå°±æ˜¯[index:number],indexæ˜¯numberç±»å‹ï¼Œä¸ä¼šæ£€æµ‹å…¶ä»–énumberç±»å‹çš„key*/</span><span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">let</span> args<span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token punctuation">[</span>index<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>    length<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>    callee<span class="token operator">:</span> <span class="token builtin">Function</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span> <span class="token operator">=</span> arguments<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">/*è¿™é‡Œä¹Ÿæ˜¯ä¸ä¼šæŠ¥é”™*/</span></code></pre><p><code>any</code>åœ¨æ•°ç»„ä¸­çš„ä½œç”¨å°±æ˜¯è¡¨ç¤ºæ•°ç»„ä¸­å¯ä»¥å‡ºç°ä»»æ„çš„ç±»å‹</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">let</span> list<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token string">"zengxpang"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token number">9527</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><h3 id="å‡½æ•°"><a href="#å‡½æ•°" class="headerlink" title="å‡½æ•°"></a>å‡½æ•°</h3><p>TS ä¸­çš„å‡½æ•°éœ€è¦è€ƒè™‘åˆ°è¾“å…¥å’Œè¾“å‡º</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> x <span class="token operator">+</span> y<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// è¾“å…¥çš„å‚æ•°å¤šä½™çš„æˆ–è€…ç¼ºå°‘çš„éƒ½ä¸å¯ä»¥</span></code></pre><p>å‡½æ•°è¡¨ç¤ºå¼</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript">ley <span class="token function-variable function">sum</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>x<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">,</span>y<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">{</span>    <span class="token keyword">return</span> x<span class="token operator">+</span>y<span class="token punctuation">}</span><span class="token comment">// ç¼–è¯‘å¯ä»¥é€šè¿‡ï¼Œä½†æ˜¯å…¶å®å·¦è¾¹æ˜¯é€šè¿‡ç±»å‹æ¨å¯¼çš„ï¼Œå®Œæ•´çš„å†™æ³•æ˜¯</span><span class="token keyword">let</span> <span class="token function-variable function">sum</span><span class="token operator">:</span><span class="token punctuation">(</span>x<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">,</span>y<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token function-variable function">number</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>x<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">,</span>y<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">{</span>    <span class="token keyword">return</span> x<span class="token operator">+</span>y<span class="token punctuation">}</span><span class="token comment">//æ­¤=&gt;ä¸ES6çš„=&gt;ç®­å¤´å‡½æ•°ä¸åŒï¼ŒTSé‡Œé¢çš„ç®­å¤´æ˜¯ç”¨æ¥è¡¨ç¤ºå‡½æ•°çš„å®šä¹‰ï¼Œå·¦è¾¹æ˜¯è¾“å…¥ç±»å‹ï¼Œå³è¾¹æ˜¯è¾“å‡ºç±»å‹</span></code></pre><p>æ¥å£å®šä¹‰å‡½æ•°çš„å½¢çŠ¶</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">interface</span> <span class="token class-name">func</span> <span class="token punctuation">{</span>  <span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">let</span> myFunc<span class="token operator">:</span> func<span class="token punctuation">;</span><span class="token function-variable function">myFunc</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> a<span class="token punctuation">.</span>length <span class="token operator">===</span> b<span class="token punctuation">.</span>length<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>å¯é€‰å‚æ•°</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">function</span> <span class="token function">func</span><span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> b<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> b <span class="token operator">?</span> a <span class="token operator">+</span> b <span class="token operator">:</span> a<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">let</span> zengxpang <span class="token operator">=</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token string">"aaa"</span><span class="token punctuation">,</span> <span class="token string">"bbb"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">let</span> lx <span class="token operator">=</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token string">"aaa"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">/*å¯é€‰å‚æ•°å¿…é¡»æ”¾åœ¨å¿…é€‰å‚æ•°çš„åé¢*/</span><span class="token keyword">function</span> <span class="token function">func</span><span class="token punctuation">(</span>b<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> a<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">//âŒ</span>  <span class="token keyword">return</span> b <span class="token operator">?</span> a <span class="token operator">+</span> b <span class="token operator">:</span> a<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>å‚æ•°çš„é»˜è®¤å€¼ï¼šTS çš„å‡½æ•°çš„é»˜è®¤å€¼ä¼šè¢«è‡ªåŠ¨å½“æˆæ˜¯å¯é€‰çš„å‚æ•°</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">function</span> <span class="token function">func</span><span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">"cat"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">let</span> zengxpang <span class="token operator">=</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token string">"aaa"</span><span class="token punctuation">,</span> <span class="token string">"bbb"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">let</span> lx <span class="token operator">=</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token string">"aaa"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">/*æ­¤æ—¶ä¸ç”¨éµå®ˆè¯¥è§„åˆ™ï¼šå¯é€‰å‚æ•°å¿…é¡»æ”¾åœ¨å¿…é€‰å‚æ•°çš„åé¢*/</span><span class="token keyword">function</span> <span class="token function">func</span><span class="token punctuation">(</span>b<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">"cat"</span><span class="token punctuation">,</span> a<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">//âœ…</span>  <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>å‰©ä½™å‚æ•°ï¼Œå…¶å®å°±æ˜¯ä¸€ä¸ªæ•°ç»„</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">function</span> <span class="token function">func</span><span class="token punctuation">(</span>arrData<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token operator">...</span>items<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  items<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    arrData<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token function">func</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// rest å‚æ•°åªèƒ½æ˜¯æœ€åä¸€ä¸ªå‚æ•°</span></code></pre><p>é‡è½½ï¼šè®©å‡½æ•°æ¥å—ä¸åŒæ•°é‡æˆ–è€…ç±»å‹çš„å‚æ•°ï¼Œç„¶ååšä¸åŒçš„å¤„ç†</p><p>ç”¨è”åˆç±»å‹å®ç°:ä¸å¤Ÿç²¾ç¡®ï¼Œåº”è¯¥æ˜¯è¾“å…¥ä¸ºæ•°å­—çš„æ—¶å€™ï¼Œè¾“å‡ºä¹Ÿä¸ºä¹‹å¯¹åº”ä¸ºæ•°å­—ã€‚</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">function</span> <span class="token function">reverse</span><span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> x <span class="token operator">===</span> <span class="token string">"number"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token function">Number</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> x <span class="token operator">===</span> <span class="token string">"string"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> x<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p>ç”¨é‡è½½å®ç°ï¼š</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">function</span> <span class="token function">reverse</span><span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token function">reverse</span><span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token function">reverse</span><span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> x <span class="token operator">===</span> <span class="token string">"number"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token function">Number</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> x <span class="token operator">===</span> <span class="token string">"string"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> x<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment">// é‡å¤å®šä¹‰äº†å¤šæ¬¡å‡½æ•° reverseï¼Œå‰å‡ æ¬¡éƒ½æ˜¯å‡½æ•°å®šä¹‰ï¼Œæœ€åä¸€æ¬¡æ˜¯å‡½æ•°å®ç°ã€‚</span><span class="token comment">// TSä¼šä¼˜å…ˆä»æœ€å‰é¢çš„å‡½æ•°å®šä¹‰å¼€å§‹åŒ¹é…,æ‰€ä»¥å¤šä¸ªå‡½æ•°å®šä¹‰å¦‚æœæœ‰åŒ…å«å…³ç³»ï¼Œéœ€è¦ä¼˜å…ˆæŠŠç²¾ç¡®çš„å®šä¹‰å†™åœ¨å‰é¢ã€‚</span></code></pre><h3 id="ç±»å‹æ–­è¨€"><a href="#ç±»å‹æ–­è¨€" class="headerlink" title="ç±»å‹æ–­è¨€"></a>ç±»å‹æ–­è¨€</h3><p>æ–­è¨€å°±æ˜¯æ‰‹åŠ¨æŒ‡å®šä¸€ä¸ªå€¼çš„ç±»å‹ã€‚</p><p>è¯­æ³•</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript">å€¼ <span class="token keyword">as</span> ç±»å‹<span class="token punctuation">;</span></code></pre><p>ç”¨é€”</p><p><strong>1.å°†ä¸€ä¸ªè”åˆç±»å‹æ–­è¨€ä¸ºå…¶ä¸­ä¸€ä¸ªç±»å‹</strong></p><p>è”åˆç±»å‹é‚£èŠ‚æèµ·è¿‡ï¼Œä½¿ç”¨è”åˆç±»å‹çš„æ—¶å€™ï¼Œå½“ TS ä¸ç¡®å®šå˜é‡æ˜¯å“ªä¸ªç±»å‹çš„è¯ï¼Œåªèƒ½è®¿é—®æ­¤è”åˆç±»å‹çš„å…¬å…±å±æ€§å’Œæ–¹æ³•ã€‚æœ‰çš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ä¸ç¡®å®šç±»å‹çš„æ—¶å€™å°±è®¿é—®å…¶ä¸­ä¸€ä¸ªç±»å‹ç‰¹æœ‰çš„å±æ€§æˆ–è€…æ–¹æ³•çš„æ—¶å€™ï¼Œå°±å¯ä»¥ä½¿ç”¨æ–­è¨€ã€‚</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">interface</span> <span class="token class-name">Cat</span> <span class="token punctuation">{</span>  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>  <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">interface</span> <span class="token class-name">Fish</span> <span class="token punctuation">{</span>  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>  <span class="token function">swim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">//âŒ å› ä¸ºä¸ç¡®å®šæ­¤æ—¶çš„ç±»å‹</span><span class="token keyword">function</span> <span class="token function">isFish</span><span class="token punctuation">(</span>animal<span class="token operator">:</span> Cat <span class="token operator">|</span> Fish<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> animal<span class="token punctuation">.</span>swim <span class="token operator">===</span> <span class="token string">"function"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">//âœ…</span><span class="token keyword">function</span> <span class="token function">isFish</span><span class="token punctuation">(</span>animal<span class="token operator">:</span> Cat <span class="token operator">|</span> Fish<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token punctuation">(</span>animal <span class="token keyword">as</span> Fish<span class="token punctuation">)</span><span class="token punctuation">.</span>swim <span class="token operator">===</span> <span class="token string">"function"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>æ–­è¨€æ˜¯æ¬ºéª— TS çš„ç¼–è¯‘å™¨çš„ã€‚ç‰¹åˆ«å®¹æ˜“å‡ºé”™ï¼Œæ‰€ä»¥è¿˜æ˜¯å°‘ç”¨å¥½ç‚¹ã€‚æ¯”å¦‚ï¼š</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">interface</span> <span class="token class-name">Cat</span> <span class="token punctuation">{</span>  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>  <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">interface</span> <span class="token class-name">Fish</span> <span class="token punctuation">{</span>  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>  <span class="token function">swim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token function">swim</span><span class="token punctuation">(</span>animal<span class="token operator">:</span> Cat <span class="token operator">|</span> Fish<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token punctuation">(</span>animal <span class="token keyword">as</span> Fish<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">swim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">const</span> tom<span class="token operator">:</span> Cat <span class="token operator">=</span> <span class="token punctuation">{</span>  name<span class="token operator">:</span> <span class="token string">"Tom"</span><span class="token punctuation">,</span>  <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"run"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token function">swim</span><span class="token punctuation">(</span>tom<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>ç¼–è¯‘çš„æ—¶å€™ä¸ä¼šæŠ¥é”™ï¼Œä½†æ˜¯æ‰§è¡Œçš„æ—¶å€™ä¼šã€‚å› ä¸º animal å¯ä»¥æœ‰ä¸¤ç§ç±»å‹ï¼Œä½†æ˜¯ Cat ç±»å‹æ˜¯æ²¡æœ‰ swim çš„æ–¹æ³•çš„ã€‚</p><p><strong>2.å°†ä¸€ä¸ªçˆ¶ç±»æ–­è¨€ä¸ºæ›´åŠ å…·ä½“çš„å­ç±»</strong></p><p>ç±»ä¹‹é—´çš„ç»§æ‰¿å…³ç³»çš„æ—¶å€™</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">class</span> <span class="token class-name"><span class="token constant">A</span></span> <span class="token keyword">extends</span> <span class="token class-name">Error</span> <span class="token punctuation">{</span>  code<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name"><span class="token constant">B</span></span> <span class="token keyword">extends</span> <span class="token class-name">Error</span> <span class="token punctuation">{</span>  statusCode<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token function">whichError</span><span class="token punctuation">(</span>error<span class="token operator">:</span> Error<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token punctuation">(</span>error <span class="token keyword">as</span> <span class="token constant">A</span><span class="token punctuation">)</span><span class="token punctuation">.</span>code <span class="token operator">===</span> <span class="token string">"number"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// è¿™é‡Œå¯ä»¥åˆ©ç”¨instanceofæ¥åˆ¤æ–­ï¼Œåˆ¤æ–­æ˜¯ä¸æ˜¯åœ¨åŸå‹ä¸Šå˜› error instanceof Aã€‚ä½†æ˜¯æ›´å¤šçš„æƒ…å†µæ˜¯Aã€Bä¸æ˜¯ä¸€ä¸ªçœŸæ­£çš„ç±»ï¼Œè€Œæ˜¯ä¸€ä¸ªTSçš„æ¥å£ã€‚æ¥å£æ˜¯æ²¡åŠæ³•ä½¿ç”¨instanceofæ–¹æ³•çš„ã€‚æ‰€ä»¥æ­¤æ—¶å°±åªèƒ½ç”¨asæ–­è¨€å•¦</span></code></pre><p>**3.å°†ä»»ä½•ä¸€ä¸ªç±»å‹æ–­è¨€ä¸º any **</p><p>ç†è§£è¿™ä¸ªä½œç”¨ä¹‹å‰ï¼Œéœ€è¦æ¸…æ¥šçš„æ˜¯ï¼šTS å½“æˆ‘ä»¬å¼•ç”¨ä¸€ä¸ªåœ¨æ­¤ç±»å‹ä¸Šä¸å­˜åœ¨çš„å±æ€§æˆ–è€…æ–¹æ³•çš„æ—¶å€™ï¼Œä¼šæŠ¥é”™</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">const</span> foo<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>foo<span class="token punctuation">.</span>length <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//âŒ</span></code></pre><p>è®¾æƒ³è¿™æ ·çš„åœºæ™¯ï¼šç¡®å®šè¿™æ®µä»£ç ä¸ä¼šå‡ºé”™:å¾€ window ä¸ŠåŠ ä¸€ä¸ªå±æ€§ï¼ŒTS ç¼–è¯‘ä¼šæŠ¥é”™ï¼Œæç¤ºæˆ‘ä»¬ <code>window</code> ä¸Šä¸å­˜åœ¨ <code>foo</code> å±æ€§ã€‚</p><pre class="language-none"><code class="language-none">window.foo = 1   //âŒ(window as any).foo = 1  //âœ… å› ä¸ºåœ¨anyç±»å‹çš„å˜é‡ä¸Šï¼Œä»»ä½•å±æ€§éƒ½æ˜¯å¯ä»¥è¢«è®¿é—®çš„</code></pre><p>**4.å°† any æ–­è¨€ä¸ºä¸€ä¸ªå…·æœ‰çš„ç±»å‹ **</p><p>å°±æ˜¯äº¡ç¾Šè¡¥ç‰¢ï¼Œé˜²æ­¢æ»‹ç”Ÿæ›´å¤šçš„ anyã€‚ç¬¬ä¸‰æ–¹åŒ…æˆ–è€…ä»¥å‰çš„æ—§ä»£ç ã€‚</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">function</span> <span class="token function">getCacheData</span><span class="token punctuation">(</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">any</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> <span class="token punctuation">(</span>window <span class="token keyword">as</span> <span class="token builtin">any</span><span class="token punctuation">)</span><span class="token punctuation">.</span>cache<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">interface</span> <span class="token class-name">Cat</span> <span class="token punctuation">{</span>  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>  <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">const</span> tom <span class="token operator">=</span> <span class="token function">getCaCheData</span><span class="token punctuation">(</span><span class="token string">"tom"</span><span class="token punctuation">)</span> <span class="token keyword">as</span> Cat<span class="token punctuation">;</span> <span class="token comment">// è¿”å›å€¼ä»anyæ–­è¨€ä¸ºCatç±»å‹ã€‚å°±å¯ä»¥æ˜ç¡®tomçš„ç±»å‹å•¦ã€‚ä¹‹åå°±ä¸ä¼šä¸€ç›´anyä¸‹å»</span>tom<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h4 id="æ–­è¨€çš„é™åˆ¶"><a href="#æ–­è¨€çš„é™åˆ¶" class="headerlink" title="æ–­è¨€çš„é™åˆ¶"></a>æ–­è¨€çš„é™åˆ¶</h4><p><strong>è¦ä½¿å¾— <code>A</code> èƒ½å¤Ÿè¢«æ–­è¨€ä¸º <code>B</code>ï¼Œåªéœ€è¦ <code>A</code> å…¼å®¹ <code>B</code> æˆ– <code>B</code> å…¼å®¹ <code>A</code> å³å¯</strong></p><h4 id="åŒé‡æ–­è¨€"><a href="#åŒé‡æ–­è¨€" class="headerlink" title="åŒé‡æ–­è¨€"></a>åŒé‡æ–­è¨€</h4><p><strong>é™¤éè¿«ä¸å¾—å·²ï¼Œåƒä¸‡åˆ«ç”¨åŒé‡æ–­è¨€ã€‚</strong></p><h4 id="æ–­è¨€-VS-ç±»å‹è½¬æ¢"><a href="#æ–­è¨€-VS-ç±»å‹è½¬æ¢" class="headerlink" title="æ–­è¨€ VS ç±»å‹è½¬æ¢"></a>æ–­è¨€ VS ç±»å‹è½¬æ¢</h4><p>æ–­è¨€åªä¼šå½±å“ TS ç¼–è¯‘æ—¶çš„ç±»å‹ï¼Œç¼–è¯‘å®Œæˆä¹‹åå°±ä¼šè¢«åˆ é™¤æ‰ã€‚æ‰€ä»¥æ–­è¨€æ˜¯ä¸ä¼šå½±å“å˜é‡çš„ç±»å‹çš„ã€‚</p><h4 id="æ–­è¨€-VS-ç±»å‹å£°æ˜"><a href="#æ–­è¨€-VS-ç±»å‹å£°æ˜" class="headerlink" title="æ–­è¨€ VS ç±»å‹å£°æ˜"></a>æ–­è¨€ VS ç±»å‹å£°æ˜</h4><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">function</span> <span class="token function">getCacheData</span><span class="token punctuation">(</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">any</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> <span class="token punctuation">(</span>window <span class="token keyword">as</span> <span class="token builtin">any</span><span class="token punctuation">)</span><span class="token punctuation">.</span>cache<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">interface</span> <span class="token class-name">Cat</span> <span class="token punctuation">{</span>  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>  <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// æ–­è¨€</span><span class="token keyword">const</span> tom <span class="token operator">=</span> <span class="token function">getCacheData</span><span class="token punctuation">(</span><span class="token string">"tom"</span><span class="token punctuation">)</span> <span class="token keyword">as</span> Cat<span class="token punctuation">;</span>tom<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// ç±»å‹å£°æ˜</span><span class="token keyword">const</span> tom<span class="token operator">:</span> Cat <span class="token operator">=</span> <span class="token function">getCacheData</span><span class="token punctuation">(</span><span class="token string">"tom"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>tom<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>åŒºåˆ«æ˜¯ï¼š</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">interface</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">interface</span> <span class="token class-name">Cat</span> <span class="token punctuation">{</span>  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>  <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">const</span> animal<span class="token operator">:</span> Animal <span class="token operator">=</span> <span class="token punctuation">{</span>  name<span class="token operator">:</span> <span class="token string">"tom"</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment">// æ–­è¨€</span><span class="token keyword">let</span> tom <span class="token operator">=</span> animal <span class="token keyword">as</span> Cat<span class="token punctuation">;</span> <span class="token comment">//âœ…  çˆ¶ç±»å¯ä»¥è¢«æ–­è¨€ä¸ºå…·ä½“çš„å­ç±»</span><span class="token comment">// ç±»å‹å£°æ˜</span><span class="token keyword">let</span> tom<span class="token operator">:</span> Cat <span class="token operator">=</span> animal<span class="token punctuation">;</span> <span class="token comment">//âŒ</span></code></pre><p><code>Animal</code> å¯ä»¥çœ‹ä½œæ˜¯ <code>Cat</code> çš„çˆ¶ç±»ï¼Œå½“ç„¶ä¸èƒ½å°†çˆ¶ç±»çš„å®ä¾‹èµ‹å€¼ç»™ç±»å‹ä¸ºå­ç±»çš„å˜é‡ã€‚</p><p>å®ƒä»¬æ ¸å¿ƒåŒºåˆ«å°±åœ¨äºï¼š</p><ul><li><code>animal</code> æ–­è¨€ä¸º <code>Cat</code>ï¼Œåªéœ€è¦æ»¡è¶³ <code>Animal</code> å…¼å®¹ <code>Cat</code> æˆ– <code>Cat</code> å…¼å®¹ <code>Animal</code> å³å¯</li><li><code>animal</code> èµ‹å€¼ç»™ <code>tom</code>ï¼Œéœ€è¦æ»¡è¶³ <code>Cat</code> å…¼å®¹ <code>Animal</code> æ‰è¡Œ</li></ul><p>ä½†æ˜¯ <code>Cat</code> å¹¶ä¸å…¼å®¹ <code>Animal</code>ã€‚</p><p><code>getCacheData('tom')</code> æ˜¯ <code>any</code> ç±»å‹ï¼Œ<code>any</code> å…¼å®¹ <code>Cat</code>ï¼Œ<code>Cat</code> ä¹Ÿå…¼å®¹ <code>any</code>ã€‚æ•…</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">const</span> tom <span class="token operator">=</span> <span class="token function">getCacheData</span><span class="token punctuation">(</span><span class="token string">"tom"</span><span class="token punctuation">)</span> <span class="token keyword">as</span> Cat<span class="token punctuation">;</span></code></pre><p>ç­‰ä»·äº</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">const</span> tom<span class="token operator">:</span> Cat <span class="token operator">=</span> <span class="token function">getCacheData</span><span class="token punctuation">(</span><span class="token string">"tom"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>çŸ¥é“äº†å®ƒä»¬çš„æ ¸å¿ƒåŒºåˆ«ï¼Œå°±çŸ¥é“äº†ç±»å‹å£°æ˜æ˜¯æ¯”ç±»å‹æ–­è¨€æ›´åŠ ä¸¥æ ¼çš„ã€‚</p><p>æ‰€ä»¥ä¸ºäº†å¢åŠ ä»£ç çš„è´¨é‡ï¼Œæˆ‘ä»¬æœ€å¥½ä¼˜å…ˆä½¿ç”¨ç±»å‹å£°æ˜ï¼Œè¿™ä¹Ÿæ¯”ç±»å‹æ–­è¨€çš„ <code>as</code> è¯­æ³•æ›´åŠ ä¼˜é›…ã€‚</p><h4 id="æ–­è¨€-VS-æ³›å‹"><a href="#æ–­è¨€-VS-æ³›å‹" class="headerlink" title="æ–­è¨€ VS æ³›å‹"></a>æ–­è¨€ VS æ³›å‹</h4><p>åˆ©ç”¨æ³›å‹å®ç°ä¸Šé¢çš„ä¾‹å­</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">function</span> <span class="token generic-function"><span class="token function">getCacheData</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> <span class="token punctuation">(</span>window <span class="token keyword">as</span> <span class="token builtin">any</span><span class="token punctuation">)</span><span class="token punctuation">.</span>cache<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">interface</span> <span class="token class-name">Cat</span> <span class="token punctuation">{</span>  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>  <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">const</span> tom <span class="token operator">=</span> <span class="token generic-function"><span class="token function">getCacheData</span><span class="token generic class-name"><span class="token operator">&lt;</span>Cat<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">"tom"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>tom<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>é€šè¿‡ç»™ <code>getCacheData</code> å‡½æ•°æ·»åŠ äº†ä¸€ä¸ªæ³›å‹ <code>&lt;T&gt;</code>ï¼Œæˆ‘ä»¬å¯ä»¥æ›´åŠ è§„èŒƒçš„å®ç°å¯¹ <code>getCacheData</code> è¿”å›å€¼çš„çº¦æŸï¼Œè¿™ä¹ŸåŒæ—¶å»é™¤æ‰äº†ä»£ç ä¸­çš„ <code>any</code>ï¼Œæ˜¯æœ€ä¼˜çš„ä¸€ä¸ªè§£å†³æ–¹æ¡ˆã€‚</p><h3 id="å†…ç½®å¯¹è±¡"><a href="#å†…ç½®å¯¹è±¡" class="headerlink" title="å†…ç½®å¯¹è±¡"></a>å†…ç½®å¯¹è±¡</h3><p>typescript çš„å†…ç½®å¯¹è±¡ï¼ŒTS å·²ç»å®šä¹‰å¥½äº†ç±»å‹</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token comment">//ECMAScriptçš„å†…ç½®å¯¹è±¡</span><span class="token keyword">let</span> b<span class="token operator">:</span> Boolean <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Boolean</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">let</span> e<span class="token operator">:</span> Error <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">"Error occurred"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">let</span> d<span class="token operator">:</span> Date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">let</span> r<span class="token operator">:</span> RegExp <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[a-z]</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span><span class="token comment">// DOMä¸BOM</span><span class="token keyword">let</span> body<span class="token operator">:</span> HTMLElement <span class="token operator">=</span> document<span class="token punctuation">.</span>body<span class="token punctuation">;</span><span class="token keyword">let</span> allDiv<span class="token operator">:</span> NodeList <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">"div"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"click"</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>e<span class="token operator">:</span> MouseEvent<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">// Do something</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><pre class="language-typescript" data-language="typescript"><code class="language-typescript">Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token string">"2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//âŒ</span><span class="token comment">//å†…éƒ¨å®šä¹‰æ˜¯</span><span class="token keyword">interface</span> <span class="token class-name">Math</span> <span class="token punctuation">{</span>  <span class="token comment">/**   * Returns the value of a base expression taken to a specified power.   * @param x The base value of the expression.   * @param y The exponent value of the expression.   */</span>  <span class="token function">pow</span><span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h2 id="è¿›é˜¶"><a href="#è¿›é˜¶" class="headerlink" title="è¿›é˜¶"></a>è¿›é˜¶</h2><h3 id="ç±»å‹çš„åˆ«å"><a href="#ç±»å‹çš„åˆ«å" class="headerlink" title="ç±»å‹çš„åˆ«å"></a>ç±»å‹çš„åˆ«å</h3><p>ç±»å‹åˆ«åç”¨æ¥ç»™ä¸€ä¸ªç±»å‹èµ·ä¸ªæ–°åå­—ã€‚åˆ©ç”¨<code>type</code>å…³é”®å­—ï¼Œç»å¸¸ç”¨åœ¨è”åˆç±»å‹ä¸Šã€‚</p><pre class="language-typeScript" data-language="typeScript"><code class="language-typeScript">type Name = string;type NameResolver = () =&gt; string;type NameOrResolver = Name | NameResolver;function getName(n: NameOrResolver): Name {    if (typeof n === 'string') {        return n;    } else {        return n();    }}</code></pre><h3 id="å­—é¢é‡ç±»å‹"><a href="#å­—é¢é‡ç±»å‹" class="headerlink" title="å­—é¢é‡ç±»å‹"></a>å­—é¢é‡ç±»å‹</h3><p>å°±æ˜¯ç”¨æ¥çº¦æŸå–å€¼åªèƒ½æ˜¯è§„å®šçš„å…¶ä¸­ä¸€ä¸ªï¼Œ<strong>è·Ÿç±»å‹çš„åˆ«åä¸€æ ·éƒ½æ˜¯ç”¨ type</strong></p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">type</span> <span class="token class-name">a</span> <span class="token operator">=</span><span class="token string">'click'</span> <span class="token operator">|</span> <span class="token string">'scroll'</span> <span class="token operator">|</span><span class="token string">'mousrmove'</span><span class="token keyword">function</span> <span class="token function">handleEvent</span><span class="token punctuation">(</span>ele<span class="token operator">:</span>element<span class="token punctuation">,</span>event<span class="token operator">:</span>a<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token operator">...</span><span class="token punctuation">}</span><span class="token function">handleEvent</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'app'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'dblclick'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//âŒï¼Œevent ä¸èƒ½ä¸º 'dblclick'</span></code></pre><h3 id="å…ƒç»„"><a href="#å…ƒç»„" class="headerlink" title="å…ƒç»„"></a>å…ƒç»„</h3><p>å…ƒç»„å’Œæ•°ç»„å·®ä¸å¤šï¼Œåªä¸è¿‡ TS é‡Œé¢çš„æ•°ç»„çš„å…ƒç´ éƒ½æ˜¯ç›¸åŒç±»å‹çš„ï¼Œè€Œå…ƒç»„å¯ä»¥æ˜¯ä¸åŒç±»å‹çš„ã€‚å…¶å®å…ƒç»„ä¹Ÿæ¯”è¾ƒå°‘ç”¨ï¼Œå…ˆäº†è§£ã€‚</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">let</span> zengxpang<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">number</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token number">123</span><span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><h3 id="æšä¸¾"><a href="#æšä¸¾" class="headerlink" title="æšä¸¾"></a>æšä¸¾</h3><p>æšä¸¾ç±»å‹ç”¨åœ¨å–å€¼è¢«é™å®šåœ¨ä¸€å®šçš„èŒƒå›´ï¼Œæ¯”å¦‚ä¸€ä¸ªæ˜ŸæœŸåªæœ‰å›ºå®šçš„ 7 å¤©ã€‚</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">enum</span> Days <span class="token punctuation">{</span>  Sun<span class="token punctuation">,</span>  Mon<span class="token punctuation">,</span>  Tue<span class="token punctuation">,</span>  Wed<span class="token punctuation">,</span>  Thu<span class="token punctuation">,</span>  Fri<span class="token punctuation">,</span>  Sat<span class="token punctuation">,</span><span class="token punctuation">}</span></code></pre><p>äº’ç›¸æ˜ å°„ï¼Œè·Ÿæ•°ç»„ä¸€æ ·ï¼Œä¹Ÿæ˜¯ä» 0 å¼€å§‹é€’å¢ï¼Œä½†æ˜¯è¿˜å¯ä»¥æ ¹æ®æšä¸¾ååå‘æ˜ å°„</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript">Days<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"Sun"</span><span class="token punctuation">;</span> <span class="token comment">// true</span>Days<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"Sat"</span><span class="token punctuation">;</span> <span class="token comment">// true</span>Day<span class="token punctuation">[</span><span class="token string">"Sun"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// true</span>Day<span class="token punctuation">[</span><span class="token string">"Sat"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span> <span class="token comment">// true</span></code></pre><p>æ‰‹åŠ¨èµ‹å€¼ï¼šæ˜¯å¯ä»¥è¿›è¡Œæ‰‹åŠ¨èµ‹å€¼ï¼Œå¹¶ä¸”è¿™ç§æ‰‹åŠ¨èµ‹å€¼å¦‚æœä¸é€’å¢ä¹‹åçš„å€¼é‡å¤äº†ï¼ŒTS ä¹Ÿä¸ä¼šå¯Ÿè§‰</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">enum</span> Days <span class="token punctuation">{</span>  Sun <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">,</span>  Mon <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>  Tue<span class="token punctuation">,</span>  Wed<span class="token punctuation">,</span>  Thu<span class="token punctuation">,</span>  Fri<span class="token punctuation">,</span>  Sat<span class="token punctuation">,</span><span class="token punctuation">}</span> <span class="token comment">// 7 1 2 3 4 5 6</span><span class="token keyword">enum</span> Days <span class="token punctuation">{</span>  Sun <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">,</span>  Mon <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>  Tue<span class="token punctuation">,</span>  Wed<span class="token punctuation">,</span>  Thu<span class="token punctuation">,</span>  Fri<span class="token punctuation">,</span>  Sat<span class="token punctuation">,</span><span class="token punctuation">}</span> <span class="token comment">// 3 1 2 3 4 5 6</span><span class="token comment">// æ‰‹åŠ¨èµ‹å€¼çš„æšä¸¾é¡¹å¯ä»¥ä¸æ˜¯æ•°å­—</span><span class="token keyword">enum</span> Days <span class="token punctuation">{</span>  Sun <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">,</span>  Mon<span class="token punctuation">,</span>  Tue<span class="token punctuation">,</span>  Wed<span class="token punctuation">,</span>  Thu<span class="token punctuation">,</span>  Fri<span class="token punctuation">,</span>  Sat <span class="token operator">=</span> <span class="token string">"S"</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token comment">// æ‰‹åŠ¨èµ‹å€¼çš„æšä¸¾é¡¹ä¹Ÿå¯ä»¥ä¸ºå°æ•°æˆ–è´Ÿæ•°ï¼Œæ­¤æ—¶åç»­æœªæ‰‹åŠ¨èµ‹å€¼çš„é¡¹çš„é€’å¢æ­¥é•¿ä»ä¸º 1</span><span class="token keyword">enum</span> Days <span class="token punctuation">{</span>  Sun <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">,</span>  Mon <span class="token operator">=</span> <span class="token number">1.5</span><span class="token punctuation">,</span>  Tue<span class="token punctuation">,</span>  Wed<span class="token punctuation">,</span>  Thu<span class="token punctuation">,</span>  Fri<span class="token punctuation">,</span>  Sat<span class="token punctuation">,</span><span class="token punctuation">}</span> <span class="token comment">// 7 1.5 2.5 3.5 4.5 5.5 6.5</span></code></pre><p>æšä¸¾é¡¹æœ‰ä¸¤ç§ç±»å‹ï¼šå¸¸æ•°é¡¹å’Œè®¡ç®—æ‰€å¾—é¡¹</p><p>ä¸Šé¢çš„éƒ½æ˜¯å¸¸æ•°é¡¹ï¼Œè®¡ç®—æ‰€å¾—é¡¹å¦‚ä¸‹</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">enum</span> Color <span class="token punctuation">{</span>  Red<span class="token punctuation">,</span>  Green<span class="token punctuation">,</span>  Blue <span class="token operator">=</span> <span class="token string">"blue"</span><span class="token punctuation">.</span>length<span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token comment">// å¦‚æœè®¡ç®—è®¡ç®—æ‰€å¾—é¡¹åé¢æœ‰æœªæ‰‹åŠ¨èµ‹å€¼çš„é¡¹ï¼Œå°±æŠ¥é”™</span><span class="token keyword">enum</span> Color <span class="token punctuation">{</span>  Red <span class="token operator">=</span> <span class="token string">"red"</span><span class="token punctuation">.</span>length<span class="token punctuation">,</span>  Green<span class="token punctuation">,</span>  Blue<span class="token punctuation">,</span><span class="token punctuation">}</span> <span class="token comment">//âŒ</span></code></pre><h4 id="å¸¸æ•°æšä¸¾"><a href="#å¸¸æ•°æšä¸¾" class="headerlink" title="å¸¸æ•°æšä¸¾"></a>å¸¸æ•°æšä¸¾</h4><p>ä¸èƒ½åŒ…å«è®¡ç®—æ‰€å¾—é¡¹ï¼Œå¦åˆ™æŠ¥é”™</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">const</span> <span class="token keyword">enum</span> Directions <span class="token punctuation">{</span>  Up<span class="token punctuation">,</span>  Down<span class="token punctuation">,</span>  Left<span class="token punctuation">,</span>  Right<span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token keyword">let</span> directions <span class="token operator">=</span> <span class="token punctuation">[</span>  Directions<span class="token punctuation">.</span>Up<span class="token punctuation">,</span>  Directions<span class="token punctuation">.</span>Down<span class="token punctuation">,</span>  Directions<span class="token punctuation">.</span>Left<span class="token punctuation">,</span>  Directions<span class="token punctuation">.</span>Right<span class="token punctuation">,</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">// ç¼–è¯‘å¾—åˆ°</span><span class="token keyword">var</span> directions <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span> <span class="token comment">/* Up */</span><span class="token punctuation">,</span> <span class="token number">1</span> <span class="token comment">/* Down */</span><span class="token punctuation">,</span> <span class="token number">2</span> <span class="token comment">/* Left */</span><span class="token punctuation">,</span> <span class="token number">3</span> <span class="token comment">/* Right */</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//âŒ</span><span class="token keyword">const</span> <span class="token keyword">enum</span> Color <span class="token punctuation">{</span>  Red<span class="token punctuation">,</span>  Green<span class="token punctuation">,</span>  Blue <span class="token operator">=</span> <span class="token string">"blue"</span><span class="token punctuation">.</span>length<span class="token punctuation">,</span><span class="token punctuation">}</span></code></pre><h4 id="å¤–éƒ¨æšä¸¾"><a href="#å¤–éƒ¨æšä¸¾" class="headerlink" title="å¤–éƒ¨æšä¸¾"></a>å¤–éƒ¨æšä¸¾</h4><p>ä½¿ç”¨ <code>declare enum</code> å®šä¹‰çš„æšä¸¾ç±»å‹ã€‚</p><p><code>declare</code> å®šä¹‰çš„ç±»å‹åªä¼šç”¨äºç¼–è¯‘æ—¶çš„æ£€æŸ¥ï¼Œç¼–è¯‘ç»“æœä¸­ä¼šè¢«åˆ é™¤ã€‚</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">declare</span> <span class="token keyword">enum</span> Directions <span class="token punctuation">{</span>  Up<span class="token punctuation">,</span>  Down<span class="token punctuation">,</span>  Left<span class="token punctuation">,</span>  Right<span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token keyword">let</span> directions <span class="token operator">=</span> <span class="token punctuation">[</span>  Directions<span class="token punctuation">.</span>Up<span class="token punctuation">,</span>  Directions<span class="token punctuation">.</span>Down<span class="token punctuation">,</span>  Directions<span class="token punctuation">.</span>Left<span class="token punctuation">,</span>  Directions<span class="token punctuation">.</span>Right<span class="token punctuation">,</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">// ç¼–è¯‘å¾—åˆ°</span><span class="token keyword">var</span> directions <span class="token operator">=</span> <span class="token punctuation">[</span>  Directions<span class="token punctuation">.</span>Up<span class="token punctuation">,</span>  Directions<span class="token punctuation">.</span>Down<span class="token punctuation">,</span>  Directions<span class="token punctuation">.</span>Left<span class="token punctuation">,</span>  Directions<span class="token punctuation">.</span>Right<span class="token punctuation">,</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">// å¤–éƒ¨æšä¸¾ä¸å£°æ˜è¯­å¥ä¸€æ ·ï¼Œå¸¸å‡ºç°åœ¨å£°æ˜æ–‡ä»¶ä¸­ã€‚åŒæ—¶ä½¿ç”¨ declare å’Œ const ä¹Ÿæ˜¯å¯ä»¥çš„ï¼š</span><span class="token keyword">declare</span> <span class="token keyword">const</span> <span class="token keyword">enum</span> Directions <span class="token punctuation">{</span>  Up<span class="token punctuation">,</span>  Down<span class="token punctuation">,</span>  Left<span class="token punctuation">,</span>  Right<span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token keyword">let</span> directions <span class="token operator">=</span> <span class="token punctuation">[</span>  Directions<span class="token punctuation">.</span>Up<span class="token punctuation">,</span>  Directions<span class="token punctuation">.</span>Down<span class="token punctuation">,</span>  Directions<span class="token punctuation">.</span>Left<span class="token punctuation">,</span>  Directions<span class="token punctuation">.</span>Right<span class="token punctuation">,</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">// ç¼–è¯‘å¾—åˆ°</span><span class="token keyword">var</span> directions <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span> <span class="token comment">/* Up */</span><span class="token punctuation">,</span> <span class="token number">1</span> <span class="token comment">/* Down */</span><span class="token punctuation">,</span> <span class="token number">2</span> <span class="token comment">/* Left */</span><span class="token punctuation">,</span> <span class="token number">3</span> <span class="token comment">/* Right */</span><span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><h3 id="ç±»"><a href="#ç±»" class="headerlink" title="ç±»"></a>ç±»</h3><p>TS é™¤äº†å®ç° ES6 ä¸­ç±»çš„åŠŸèƒ½ä¹‹å¤–ï¼Œè¿˜å¢åŠ äº†ä¸€äº›æ–°çš„ç”¨æ³•ã€‚</p><h4 id="TS-å¢åŠ çš„ç”¨æ³•"><a href="#TS-å¢åŠ çš„ç”¨æ³•" class="headerlink" title="TS å¢åŠ çš„ç”¨æ³•"></a>TS å¢åŠ çš„ç”¨æ³•</h4><p><strong>public/private/protected</strong></p><ul><li><p><code>public</code> ä¿®é¥°çš„å±æ€§æˆ–æ–¹æ³•æ˜¯å…¬æœ‰çš„ï¼Œå¯ä»¥åœ¨ä»»ä½•åœ°æ–¹è¢«è®¿é—®åˆ°ï¼Œé»˜è®¤æ‰€æœ‰çš„å±æ€§å’Œæ–¹æ³•éƒ½æ˜¯ <code>public</code> çš„</p></li><li><p><code>private</code> ä¿®é¥°çš„å±æ€§æˆ–æ–¹æ³•æ˜¯ç§æœ‰çš„ï¼Œä¸èƒ½åœ¨å£°æ˜å®ƒçš„ç±»çš„å¤–éƒ¨è®¿é—®ã€‚â‘  å­ç±»ä¸­ä¹Ÿä¸èƒ½è®¿é—®ã€â‘¡ å½“æ„é€ å‡½æ•°<code>constructor</code>ä¸º<code>private</code>æ—¶å€™ï¼Œè¯¥ç±»ä¸èƒ½è¢«ç»§æ‰¿æˆ–è€…å®ä¾‹åŒ–</p></li><li><p><code>protected</code> ä¿®é¥°çš„å±æ€§æˆ–æ–¹æ³•æ˜¯å—ä¿æŠ¤çš„ï¼Œå®ƒå’Œ <code>private</code> ç±»ä¼¼ï¼ŒåŒºåˆ«æ˜¯å®ƒåœ¨å­ç±»ä¸­ä¹Ÿæ˜¯å…è®¸è¢«è®¿é—®çš„ã€‚</p><p>â‘  å­ç±»ä¸­å¯ä»¥è®¿é—®ã€â‘¡ å½“æ„é€ å‡½æ•°<code>constructor</code>ä¸º<code>protected</code>æ—¶å€™ï¼Œåªèƒ½è¢«ç»§æ‰¿ä¸èƒ½è¢«å®ä¾‹åŒ–</p></li></ul><h5 id="å‚æ•°å±æ€§ï¼šä¿®é¥°ç¬¦å’Œreadonlyè¿˜å¯ä»¥ä½¿ç”¨åœ¨æ„é€ å‡½æ•°å‚æ•°ä¸­ï¼Œç­‰åŒäºç±»ä¸­å®šä¹‰è¯¥å±æ€§åŒæ—¶ç»™è¯¥å±æ€§èµ‹å€¼ï¼Œä½¿ä»£ç æ›´ç®€æ´ã€‚"><a href="#å‚æ•°å±æ€§ï¼šä¿®é¥°ç¬¦å’Œreadonlyè¿˜å¯ä»¥ä½¿ç”¨åœ¨æ„é€ å‡½æ•°å‚æ•°ä¸­ï¼Œç­‰åŒäºç±»ä¸­å®šä¹‰è¯¥å±æ€§åŒæ—¶ç»™è¯¥å±æ€§èµ‹å€¼ï¼Œä½¿ä»£ç æ›´ç®€æ´ã€‚" class="headerlink" title="å‚æ•°å±æ€§ï¼šä¿®é¥°ç¬¦å’Œreadonlyè¿˜å¯ä»¥ä½¿ç”¨åœ¨æ„é€ å‡½æ•°å‚æ•°ä¸­ï¼Œç­‰åŒäºç±»ä¸­å®šä¹‰è¯¥å±æ€§åŒæ—¶ç»™è¯¥å±æ€§èµ‹å€¼ï¼Œä½¿ä»£ç æ›´ç®€æ´ã€‚"></a>å‚æ•°å±æ€§ï¼šä¿®é¥°ç¬¦å’Œ<code>readonly</code>è¿˜å¯ä»¥ä½¿ç”¨åœ¨æ„é€ å‡½æ•°å‚æ•°ä¸­ï¼Œç­‰åŒäºç±»ä¸­å®šä¹‰è¯¥å±æ€§åŒæ—¶ç»™è¯¥å±æ€§èµ‹å€¼ï¼Œä½¿ä»£ç æ›´ç®€æ´ã€‚</h5><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>  <span class="token keyword">public</span> <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token keyword">public</span> name<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment">// ç¼–è¯‘å¾—åˆ°</span><span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>  <span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p><strong>readonly</strong></p><p>åªå…è®¸å‡ºç°åœ¨å±æ€§å£°æ˜æˆ–ç´¢å¼•ç­¾åæˆ–æ„é€ å‡½æ•°ä¸­ã€‚</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>  <span class="token keyword">readonly</span> name<span class="token punctuation">;</span>  <span class="token keyword">public</span> <span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Animal</span><span class="token punctuation">(</span><span class="token string">"Jack"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Jack</span>a<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">"Tom"</span><span class="token punctuation">;</span> <span class="token comment">//âŒ åªè¯»å±æ€§</span></code></pre><p>æ³¨æ„å¦‚æœ <code>readonly</code> å’Œå…¶ä»–è®¿é—®ä¿®é¥°ç¬¦åŒæ—¶å­˜åœ¨çš„è¯ï¼Œéœ€è¦å†™åœ¨å…¶åé¢ã€‚</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>  <span class="token keyword">public</span> <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token keyword">public</span> <span class="token keyword">readonly</span> name<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment">// ç¼–è¯‘å¾—åˆ°</span><span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>  <span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p><strong>æŠ½è±¡ç±»</strong></p><p>æŠ½è±¡ç±»ä¸èƒ½è¢«å®ä¾‹åŒ–ï¼Œå­ç±»ä¸­å¿…é¡»å®ç°æŠ½è±¡ç±»ä¸­çš„æŠ½è±¡æ–¹æ³•ã€‚</p><p><strong>ç±»çš„ç±»å‹</strong></p><p>ç»™å®ä¾‹åŠ ç´¯çš„ç±»å‹ï¼Œè·Ÿæ¥å£ä¸€æ ·</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>  <span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">My name is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">let</span> a<span class="token operator">:</span> Animal <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Animal</span><span class="token punctuation">(</span><span class="token string">"Jack"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h4 id="ç±»ä¸æ¥å£"><a href="#ç±»ä¸æ¥å£" class="headerlink" title="ç±»ä¸æ¥å£"></a>ç±»ä¸æ¥å£</h4><p>è¿™èŠ‚æ˜¯è®¨è®ºæ¥å£çš„å¦ä¸€ä¸ªç”¨é€”ï¼Œå¯¹ç±»çš„ä¸€éƒ¨åˆ†è¡Œä¸ºè¿›è¡ŒæŠ½è±¡ã€‚æ³¨æ„æ˜¯ä¸€éƒ¨åˆ†ã€‚</p><p><strong>ç±»å®ç°æ¥å£</strong></p><p>ç»§æ‰¿çš„è¯ä¸€ä¸ªç±»åªèƒ½ç»§æ‰¿ä¸€ä¸ªç±»ï¼Œè€Œæœ‰äº›ç±»ä¹‹é—´æ˜¯å…¬å…±çš„ç‰¹æ€§ï¼Œå¯ä»¥æŠŠè¿™äº›å…¬å…±çš„ç‰¹å¾æå–æˆæ¥å£ã€‚</p><p>ä¸¾ä¾‹æ¥è¯´ï¼Œé—¨æ˜¯ä¸€ä¸ªç±»ï¼Œé˜²ç›—é—¨æ˜¯é—¨çš„å­ç±»ã€‚å¦‚æœé˜²ç›—é—¨æœ‰ä¸€ä¸ªæŠ¥è­¦å™¨çš„åŠŸèƒ½ï¼Œæˆ‘ä»¬å¯ä»¥ç®€å•çš„ç»™é˜²ç›—é—¨æ·»åŠ ä¸€ä¸ªæŠ¥è­¦æ–¹æ³•ã€‚è¿™æ—¶å€™å¦‚æœæœ‰å¦ä¸€ä¸ªç±»ï¼Œè½¦ï¼Œä¹Ÿæœ‰æŠ¥è­¦å™¨çš„åŠŸèƒ½ï¼Œå°±å¯ä»¥è€ƒè™‘æŠŠæŠ¥è­¦å™¨æå–å‡ºæ¥ï¼Œä½œä¸ºä¸€ä¸ªæ¥å£ï¼Œé˜²ç›—é—¨å’Œè½¦éƒ½å»å®ç°å®ƒï¼š</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">interface</span> <span class="token class-name">Alarm</span> <span class="token punctuation">{</span>  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name">Door</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name">SecurityDoor</span> <span class="token keyword">extends</span> <span class="token class-name">Door</span> <span class="token keyword">implements</span> <span class="token class-name">Alarm</span> <span class="token punctuation">{</span>  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"SecurityDoor alert"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name">Car</span> <span class="token keyword">implements</span> <span class="token class-name">Alarm</span> <span class="token punctuation">{</span>  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"Car alert"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p>ä¸€ä¸ªç±»å¯ä»¥å®ç°å¤šä¸ªæ¥å£ï¼š<code>Car</code> å®ç°äº† <code>Alarm</code> å’Œ <code>Light</code> æ¥å£ï¼Œæ—¢èƒ½æŠ¥è­¦ï¼Œä¹Ÿèƒ½å¼€å…³è½¦ç¯ã€‚</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">interface</span> <span class="token class-name">Alarm</span> <span class="token punctuation">{</span>  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">interface</span> <span class="token class-name">Light</span> <span class="token punctuation">{</span>  <span class="token function">lightOn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>  <span class="token function">lightOff</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name">Car</span> <span class="token keyword">implements</span> <span class="token class-name">Alarm</span><span class="token punctuation">,</span> Light <span class="token punctuation">{</span>  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"Car alert"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token function">lightOn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"Car light on"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token function">lightOff</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"Car light off"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p><strong>æ¥å£ç»§æ‰¿æ¥å£</strong></p><p>æ¥å£ä¸æ¥å£ä¹‹é—´å¯ä»¥æ˜¯ç»§æ‰¿å…³ç³»ï¼š<code>LightableAlarm</code> ç»§æ‰¿äº† <code>Alarm</code>ï¼Œé™¤äº†æ‹¥æœ‰ <code>alert</code> æ–¹æ³•ä¹‹å¤–ï¼Œè¿˜æ‹¥æœ‰ä¸¤ä¸ªæ–°æ–¹æ³• <code>lightOn</code> å’Œ <code>lightOff</code>ã€‚</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">interface</span> <span class="token class-name">Alarm</span> <span class="token punctuation">{</span>  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">interface</span> <span class="token class-name">LightableAlarm</span> <span class="token keyword">extends</span> <span class="token class-name">Alarm</span> <span class="token punctuation">{</span>  <span class="token function">lightOn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>  <span class="token function">lightOff</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p><strong>æ¥å£ç»§æ‰¿ç±»</strong></p><p>è¿™æ˜¯ TS ä¸­ç‰¹æœ‰çš„ã€‚Java ä¸­ä¸èƒ½åšåˆ°ã€‚</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">class</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span>  x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>  y<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>  <span class="token function">constructor</span><span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> x<span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> y<span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">interface</span> <span class="token class-name">Point3d</span> <span class="token keyword">extends</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span>  z<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">let</span> point3d<span class="token operator">:</span> Point3d <span class="token operator">=</span> <span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> z<span class="token operator">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>è§£é‡Šï¼šåœ¨å£°æ˜ class Point çš„æ—¶å€™ï¼Œé™¤äº†åˆ›å»ºä¸€ä¸ªåä¸º Point çš„ç±»çš„æ—¶å€™ï¼ŒåŒæ—¶ä¹Ÿåˆ›å»ºäº†ä¸€ä¸ªåä¸º Point çš„ç±»å‹ã€‚é‚£ä¹ˆå®ƒæ˜¯ç±»å‹çš„è¯ï¼Œå°±å¯ä»¥è¿™æ ·ç”¨ï¼š</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">class</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span>  x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>  y<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>  <span class="token function">constructor</span><span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> x<span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> y<span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token function">printPoint</span><span class="token punctuation">(</span>p<span class="token operator">:</span> Point<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>x<span class="token punctuation">,</span> p<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token function">printPoint</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Point</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// è¿™æ ·çœ‹ä¸å¤ªç†Ÿæ‚‰ï¼Œå…¶å®å®ƒæ˜¯ç­‰ä»·äºä¸‹é¢çš„</span><span class="token keyword">class</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span>  x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>  y<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>  <span class="token function">constructor</span><span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> x<span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> y<span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">interface</span> <span class="token class-name">PointInstanceType</span> <span class="token punctuation">{</span>  <span class="token comment">// æ–°å£°æ˜çš„ PointInstanceType ï¼Œå…¶å®ä¸class Pointçš„æ—¶å€™åˆ›å»ºçš„Pointçš„ç±»å‹æ˜¯ç­‰ä»·çš„</span>  <span class="token comment">/*æ³¨æ„çœ‹:è¿™é‡Œå¹¶ä¸åŒ…æ‹¬constructorã€‚å› ä¸ºåˆ›å»ºç±»å‹æ˜¯ä¸åŒ…æ‹¬æ„é€ å‡½æ•°ã€ä¹Ÿä¸åŒ…æ‹¬é™æ€å±æ€§å’Œæ–¹æ³•åªåŒ…æ‹¬å®ä¾‹å±æ€§å’Œå®ä¾‹æ–¹æ³•ã€‚åœ¨æ¥å£ç»§æ‰¿ç±»çš„æ—¶å€™ï¼Œä¹Ÿåªä¼šç»§æ‰¿å®ƒçš„å®ä¾‹å±æ€§å’Œå®ä¾‹æ–¹æ³•ã€‚å¦‚ä¸‹ä¸ªä¾‹å­*/</span>  x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>  y<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token function">printPoint</span><span class="token punctuation">(</span>p<span class="token operator">:</span> PointInstanceType<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>x<span class="token punctuation">,</span> p<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token function">printPoint</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Point</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">class</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span>  <span class="token comment">/** é™æ€å±æ€§ï¼Œåæ ‡ç³»åŸç‚¹ */</span>  <span class="token keyword">static</span> origin <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Point</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">/** é™æ€æ–¹æ³•ï¼Œè®¡ç®—ä¸åŸç‚¹è·ç¦» */</span>  <span class="token keyword">static</span> <span class="token function">distanceToOrigin</span><span class="token punctuation">(</span>p<span class="token operator">:</span> Point<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">sqrt</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>x <span class="token operator">*</span> p<span class="token punctuation">.</span>x <span class="token operator">+</span> p<span class="token punctuation">.</span>y <span class="token operator">*</span> p<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token comment">/** å®ä¾‹å±æ€§ï¼Œx è½´çš„å€¼ */</span>  x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>  <span class="token comment">/** å®ä¾‹å±æ€§ï¼Œy è½´çš„å€¼ */</span>  y<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>  <span class="token comment">/** æ„é€ å‡½æ•° */</span>  <span class="token function">constructor</span><span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> x<span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> y<span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token comment">/** å®ä¾‹æ–¹æ³•ï¼Œæ‰“å°æ­¤ç‚¹ */</span>  <span class="token function">printPoint</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>x<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">interface</span> <span class="token class-name">PointInstanceType</span> <span class="token punctuation">{</span>  x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>  y<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>  <span class="token function">printPoint</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">let</span> p1<span class="token operator">:</span> Point<span class="token punctuation">;</span><span class="token keyword">let</span> p2<span class="token operator">:</span> PointInstanceType<span class="token punctuation">;</span></code></pre><h3 id="æ³›å‹"><a href="#æ³›å‹" class="headerlink" title="æ³›å‹"></a>æ³›å‹</h3><p>æ³›å‹æ˜¯æŒ‡åœ¨å®šä¹‰å‡½æ•°ã€æ¥å£ã€ç±»çš„æ—¶å€™ï¼Œä¸é¢„å…ˆæŒ‡å®šå…·ä½“çš„ç±»å‹ï¼Œç­‰åˆ°ä½¿ç”¨çš„æ—¶å€™å†æŒ‡å®šç±»å‹çš„ä¸€ç§ç‰¹æ€§ã€‚</p><p>æ³¨æ„ï¼šåœ¨å‡½æ•°åå­—åé¢æ·»åŠ <code>&lt;T&gt;</code>,å…¶ä¸­<code>T</code>ä»£è¡¨ä»»æ„è¾“å…¥çš„ç±»å‹ï¼Œåœ¨åé¢çš„è¾“å…¥<code>value:T</code>å’Œè¾“å‡º<code>Array&lt;T&gt;</code>æ‰å¯ä»¥ä½¿ç”¨ã€‚åœ¨è°ƒç”¨çš„æ—¶å€™æŒ‡å®šç±»å‹<code>&lt;string&gt;</code>æˆ–è€…ä¸æŒ‡å®šè®© TS çš„ç±»å‹æ¨å¯¼æ¥åšã€‚</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">function</span> <span class="token generic-function"><span class="token function">creatArr</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>length<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>  <span class="token keyword">let</span> res<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    res<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token keyword">return</span> res<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token generic-function"><span class="token function">creatArr</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">"a"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ['a','a','a']</span></code></pre><p>å¤šä¸ªç±»å‹å‚æ•°</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">function</span> <span class="token generic-function"><span class="token function">swap</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">U</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>tuple<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">U</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token constant">U</span><span class="token punctuation">,</span> <span class="token constant">T</span><span class="token punctuation">]</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> <span class="token punctuation">[</span>tuple<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> tuple<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token function">swap</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token string">"seven"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ['seven', 7]</span></code></pre><p><strong>æ³›å‹çº¦æŸ</strong></p><p>åœ¨ä½¿ç”¨æ³›å‹çš„æ—¶å€™ï¼Œå› ä¸ºä¸çŸ¥é“å®ƒä¼šä½¿ç”¨å“ªç§ç±»å‹ï¼Œæ‰€ä»¥æœ‰äº›å±äºç‰¹å®šç±»å‹çš„æ–¹æ³•æˆ–è€…å±æ€§å°±ä¸èƒ½ç”¨ã€‚æ¯”å¦‚æ•°å­—ä¸­æ˜¯æ²¡æœ‰ length å±æ€§çš„</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">function</span> <span class="token generic-function"><span class="token function">loggingIdentity</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>arg<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span> <span class="token punctuation">{</span>  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arg<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">return</span> arg<span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token comment">//âŒ</span></code></pre><p>æ‰€ä»¥è¿™ä¸ªæ—¶å€™å°±å¯ä»¥è¿›è¡Œçº¦æŸï¼Œåªå…è®¸è¿™ä¸ªå‡½æ•°ä¼ å…¥é‚£äº›åŒ…å« <code>length</code> å±æ€§çš„å˜é‡ã€‚</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">interface</span> <span class="token class-name">Lengthwise</span> <span class="token punctuation">{</span>  length<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token generic-function"><span class="token function">loggingIdentity</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> Lengthwise<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>arg<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span> <span class="token punctuation">{</span>  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arg<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">return</span> arg<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>å¤šä¸ªå‚æ•°ä¹‹é—´äº’ç›¸çº¦æŸ:è¦æ±‚ <code>T</code> ç»§æ‰¿ <code>U</code>ï¼Œè¿™æ ·å°±ä¿è¯äº† <code>U</code> ä¸Šä¸ä¼šå‡ºç° <code>T</code> ä¸­ä¸å­˜åœ¨çš„å­—æ®µã€‚</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">function</span> <span class="token generic-function"><span class="token function">copyFields</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token constant">U</span><span class="token punctuation">,</span> <span class="token constant">U</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>target<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> source<span class="token operator">:</span> <span class="token constant">U</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span> <span class="token punctuation">{</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> id <span class="token keyword">in</span> source<span class="token punctuation">)</span> <span class="token punctuation">{</span>    target<span class="token punctuation">[</span>id<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span>source<span class="token punctuation">)</span><span class="token punctuation">[</span>id<span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token keyword">return</span> target<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> c<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> d<span class="token operator">:</span> <span class="token number">4</span> <span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token function">copyFields</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> <span class="token punctuation">{</span> b<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> d<span class="token operator">:</span> <span class="token number">20</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>æ³›å‹æ¥å£</strong></p><p>åˆ©ç”¨å«æœ‰æ³›å‹çš„æ¥å£å®šä¹‰å‡½æ•°çš„å½¢çŠ¶</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">interface</span> <span class="token class-name">CreateArrayFunc</span> <span class="token punctuation">{</span>  <span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>length<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">let</span> createArray<span class="token operator">:</span> CreateArrayFunc<span class="token punctuation">;</span><span class="token function-variable function">createArray</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>length<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>  <span class="token keyword">let</span> result<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    result<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token keyword">return</span> result<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token function">createArray</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">"x"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ['x', 'x', 'x']</span><span class="token comment">// è¿›ä¸€æ­¥ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠæ³›å‹å‚æ•°æå‰åˆ°æ¥å£åä¸Šï¼š</span><span class="token keyword">interface</span> <span class="token class-name">CreateArrayFunc<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token punctuation">{</span>  <span class="token punctuation">(</span>length<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">let</span> createArray<span class="token operator">:</span> CreateArrayFunc<span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">&gt;</span><span class="token punctuation">;</span> <span class="token comment">//æ­¤æ—¶åœ¨ä½¿ç”¨æ³›å‹æ¥å£çš„æ—¶å€™ï¼Œéœ€è¦å®šä¹‰æ³›å‹çš„ç±»å‹ã€‚</span><span class="token function-variable function">createArray</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>length<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>  <span class="token keyword">let</span> result<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    result<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token keyword">return</span> result<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token function">createArray</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">"x"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ['x', 'x', 'x']</span></code></pre><p><strong>æ³›å‹ç±»</strong></p><p>ä¸æ³›å‹æ¥å£ç±»ä¼¼ï¼Œæ³›å‹ä¹Ÿå¯ä»¥ç”¨äºç±»çš„ç±»å‹å®šä¹‰ä¸­ï¼š</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">class</span> <span class="token class-name">GenericNumber<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token punctuation">{</span>  zeroValue<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">;</span>  <span class="token function-variable function">add</span><span class="token operator">:</span> <span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token constant">T</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">let</span> myGenericNumber <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GenericNumber<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>myGenericNumber<span class="token punctuation">.</span>zeroValue <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>myGenericNumber<span class="token punctuation">.</span><span class="token function-variable function">add</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> x <span class="token operator">+</span> y<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p><strong>æ³›å‹å‚æ•°çš„é»˜è®¤ç±»å‹</strong></p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">function</span> <span class="token generic-function"><span class="token function">createArray</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token operator">=</span> <span class="token builtin">string</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>length<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>  <span class="token keyword">let</span> result<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    result<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token keyword">return</span> result<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h3 id="å£°æ˜åˆå¹¶"><a href="#å£°æ˜åˆå¹¶" class="headerlink" title="å£°æ˜åˆå¹¶"></a>å£°æ˜åˆå¹¶</h3><p><strong>å‡½æ•°çš„åˆå¹¶</strong></p><p>ç”¨é‡è½½</p><p><strong>æ¥å£çš„åˆå¹¶</strong></p><p>åˆå¹¶çš„å±æ€§çš„ç±»å‹å¿…é¡»æ˜¯å”¯ä¸€çš„</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">interface</span> <span class="token class-name">Alarm</span> <span class="token punctuation">{</span>  price<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">interface</span> <span class="token class-name">Alarm</span> <span class="token punctuation">{</span>  weight<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// åˆå¹¶</span><span class="token keyword">interface</span> <span class="token class-name">Alarm</span> <span class="token punctuation">{</span>  price<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>  weight<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// æ³¨æ„</span><span class="token keyword">interface</span> <span class="token class-name">Alarm</span> <span class="token punctuation">{</span>  price<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">interface</span> <span class="token class-name">Alarm</span> <span class="token punctuation">{</span>  price<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> <span class="token comment">// è™½ç„¶é‡å¤äº†ï¼Œä½†æ˜¯ç±»å‹éƒ½æ˜¯ `number`ï¼Œæ‰€ä»¥ä¸ä¼šæŠ¥é”™</span>  weight<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">//âŒ</span><span class="token keyword">interface</span> <span class="token class-name">Alarm</span> <span class="token punctuation">{</span>  price<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">interface</span> <span class="token class-name">Alarm</span> <span class="token punctuation">{</span>  price<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// ç±»å‹ä¸ä¸€è‡´ï¼Œä¼šæŠ¥é”™</span>  weight<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>æ¥å£ä¸­æ–¹æ³•çš„åˆå¹¶</p><pre class="language-typescript" data-language="typescript"><code class="language-typescript"><span class="token keyword">interface</span> <span class="token class-name">Alarm</span> <span class="token punctuation">{</span>  price<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>  <span class="token function">alert</span><span class="token punctuation">(</span>s<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">interface</span> <span class="token class-name">Alarm</span> <span class="token punctuation">{</span>  weight<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>  <span class="token function">alert</span><span class="token punctuation">(</span>s<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> n<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// åˆå¹¶</span><span class="token keyword">interface</span> <span class="token class-name">Alarm</span> <span class="token punctuation">{</span>  price<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>  weight<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>  <span class="token function">alert</span><span class="token punctuation">(</span>s<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>  <span class="token function">alert</span><span class="token punctuation">(</span>s<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> n<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> typeScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> typeScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vueæºç </title>
      <link href="/2021/11/12/vue-yuan-ma/"/>
      <url>/2021/11/12/vue-yuan-ma/</url>
      
        <content type="html"><![CDATA[<h4 id="å“åº”å¼åŸç†"><a href="#å“åº”å¼åŸç†" class="headerlink" title="å“åº”å¼åŸç†"></a>å“åº”å¼åŸç†</h4><p>å“åº”å¼çš„è¿‡ç¨‹æ˜¯å•¥ï¼Ÿ</p><p>åˆ©ç”¨ getter/setter æ¥å¯¹æ¯ä¸ªå¯¹è±¡çš„å±æ€§è¿›è¡Œç›‘å¬ï¼Œå±æ€§å˜åŒ–ä¹‹åå‘¢ï¼Œå‘é€åˆ°å¯¹åº”çš„ç»„ä»¶çš„å†…éƒ¨ï¼Œè®©å¯¹åº”çš„ç»„ä»¶æ¥åˆ©ç”¨è™šæ‹Ÿ dom æ›´æ–°ç»„ä»¶ï¼Œè¿›è€Œæ¥æ›´æ–°è§†å›¾ã€‚</p><p><code>Object.defineProperty(obj,prop,desc)</code>:ç›´æ¥åœ¨ä¸€ä¸ªå¯¹è±¡ä¸Šå®šä¹‰ä¸€ä¸ªæ–°å±æ€§ï¼Œæˆ–è€…ä¿®æ”¹ä¸€ä¸ªå·²ç»å­˜åœ¨çš„å±æ€§</p><ul><li>obj éœ€è¦å®šä¹‰å±æ€§çš„å½“å‰å¯¹è±¡</li><li>prop å½“å‰éœ€è¦å®šä¹‰çš„å±æ€§å</li><li>desc å±æ€§æè¿°ç¬¦</li></ul><p>javcript æœ‰ä¸‰ç§ç±»å‹çš„å±æ€§</p><ol><li>å‘½åæ•°æ®å±æ€§ï¼šæ‹¥æœ‰ä¸€ä¸ªç¡®å®šçš„å€¼çš„å±æ€§ã€‚è¿™ä¹Ÿæ˜¯æœ€å¸¸è§çš„å±æ€§</li><li>å‘½åè®¿é—®å™¨å±æ€§ï¼šé€šè¿‡<code>getter</code>å’Œ<code>setter</code>è¿›è¡Œè¯»å–å’Œèµ‹å€¼çš„å±æ€§</li><li>å†…éƒ¨å±æ€§ï¼šç”± JavaScript å¼•æ“å†…éƒ¨ä½¿ç”¨çš„å±æ€§ï¼Œä¸èƒ½é€šè¿‡ JavaScript ä»£ç ç›´æ¥è®¿é—®åˆ°ï¼Œä¸è¿‡å¯ä»¥é€šè¿‡ä¸€äº›æ–¹æ³•é—´æ¥çš„è¯»å–å’Œè®¾ç½®ã€‚æ¯”å¦‚ï¼Œæ¯ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ªå†…éƒ¨å±æ€§<code>[[Prototype]]</code>ï¼Œä½ ä¸èƒ½ç›´æ¥è®¿é—®è¿™ä¸ªå±æ€§ï¼Œä½†å¯ä»¥é€šè¿‡<code>Object.getPrototypeOf()</code>æ–¹æ³•é—´æ¥çš„è¯»å–åˆ°å®ƒçš„å€¼ã€‚è™½ç„¶å†…éƒ¨å±æ€§é€šå¸¸ç”¨ä¸€ä¸ªåŒå•æ‹¬å·åŒ…å›´çš„åç§°æ¥è¡¨ç¤ºï¼Œä½†å®é™…ä¸Šè¿™å¹¶ä¸æ˜¯å®ƒä»¬çš„åå­—ï¼Œå®ƒä»¬æ˜¯ä¸€ç§æŠ½è±¡æ“ä½œï¼Œæ˜¯ä¸å¯è§çš„ï¼Œæ ¹æœ¬æ²¡æœ‰ä¸Šé¢ä¸¤ç§å±æ€§æœ‰çš„é‚£ç§å­—ç¬¦ä¸²ç±»å‹çš„å±æ€§</li></ol><p>desc åˆ†ä¸ºä¸¤ç±»ï¼šæ•°æ®æè¿°ç¬¦å’Œå­˜å–æè¿°ç¬¦ï¼Œä¸å¯ä»¥æ··åˆä½¿ç”¨</p><table><thead><tr><th>å±æ€§å</th><th>å«ä¹‰</th><th>æ•°æ®æè¿°ç¬¦</th><th>å­˜å–æè¿°ç¬¦</th><th>é»˜è®¤å€¼</th></tr></thead><tbody><tr><td>value</td><td>å€¼</td><td>âœ…</td><td>âŒ</td><td>undefined</td></tr><tr><td>get</td><td>ä¸€ä¸ªç»™å±æ€§æä¾›<code>getter</code>çš„æ–¹æ³•ï¼Œå¦‚æœæ²¡æœ‰<code>getter</code>åˆ™ä¸º<code>undefined</code>ã€‚è¿”å›å€¼æ˜¯è¢«ä½œç”¨çš„å±æ€§çš„é‚£ä¸ªå€¼ã€‚è¯¥å±æ€§è¢«è¯»å–å°±è§¦å‘è¯¥æ–¹æ³•ã€‚</td><td>âŒ</td><td>âœ…</td><td>undefined</td></tr><tr><td>set</td><td>ä¸€ä¸ªç»™å±æ€§æä¾›<code>setter</code>çš„æ–¹æ³•ï¼Œå¦‚æœæ²¡æœ‰<code>setter</code>åˆ™ä¸º<code>undefined</code>ã€‚è¯¥æ–¹æ³•å°†æ¥å—å”¯ä¸€å‚æ•°ï¼Œå¹¶å°†è¯¥å‚æ•°çš„æ–°å€¼èµ‹å€¼ç»™è¯¥å±æ€§ã€‚è¯¥å±æ€§è¢«èµ‹å€¼å°±è§¦å‘è¯¥æ–¹æ³•ã€‚</td><td>âŒ</td><td>âœ…</td><td>undefined</td></tr><tr><td>writable</td><td>æ˜¯å¦å¯ä»¥æ”¹å˜å±æ€§çš„å€¼</td><td>âœ…</td><td>âŒ</td><td>false</td></tr><tr><td>enumerable</td><td>æè¿°å±æ€§æ˜¯å¦ä¼šå‡ºç°åœ¨<code>for in</code>æˆ–è€… <code>Object.keys()</code>çš„éå†ä¸­</td><td>âœ…</td><td>âœ…</td><td>false</td></tr><tr><td>configurable</td><td>æè¿°å±æ€§æ˜¯å¦é…ç½®ï¼Œä»¥åŠå¯å¦åˆ é™¤</td><td>âœ…</td><td>âœ…</td><td>false</td></tr></tbody></table><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>obj<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">"zxp"</span><span class="token punctuation">;</span><span class="token comment">// ç­‰ä»·äºä¸‹é¢çš„ä»£ç </span><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token string">"name"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>  value<span class="token operator">:</span> <span class="token string">"zxp"</span><span class="token punctuation">,</span>  writable<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  configurable<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  enumerable<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><pre class="language-js" data-language="js"><code class="language-js">Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token string">"name"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>  value<span class="token operator">:</span> <span class="token string">"zxp"</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// ç­‰ä»·äºä¸‹é¢çš„ä»£ç </span>Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token string">"name"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>  value<span class="token operator">:</span> <span class="token string">"zxp"</span><span class="token punctuation">,</span>  writable<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>  configurable<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>  enumerable<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><hr><p>ä¸ºäº†å•¥è€Œçœ‹æºç ï¼š</p><blockquote><ol><li> å­¦ä¹  vue çš„åŸç†</li><li> ç¬¬ä¸€é˜¶æ®µï¼š(ä¸è¦æ±‚è‡ªå·±å…¨éƒ¨çœ‹æ‡‚æºç ï¼Œä½†æ˜¯å¾—çŸ¥é“å®ç°çš„åŸç†ï¼Œè‚¯å®šæœ‰å¥½å¤šç»†èŠ‚ä»£ç æ˜¯çœ‹ä¸æ‡‚çš„)</li><li> å­¦ä¹ è®¾è®¡æ¨¡å¼ï¼ˆå¬è¯´ vue æŠŠèƒ½ç”¨åˆ°çš„è®¾è®¡æ¨¡å¼éƒ½ç”¨ä¸Šäº†ï¼‰</li></ol></blockquote><p><img src="https://cdn.jsdelivr.net/gh/JingWZeng/markdownImg/img/202110291158590.png" alt="image-20211029115835479"></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">//å°è£…</span><span class="token comment">//è¿™é‡Œçš„dataå°±æ˜¯ç›®æ ‡çš„objå¯¹è±¡ï¼Œkeyå°±æ˜¯è¯¥å¯¹è±¡çš„å±æ€§ï¼Œvalæ˜¯æœªæ›´æ–°ä¹‹å‰çš„å€¼</span><span class="token comment">//ä»dataä¸­çš„keyè¯»å–æ•°æ®  --&gt;get</span><span class="token comment">//ä»dataä¸­çš„keyè®¾ç½®æ•°æ®  --&gt;set</span><span class="token keyword">function</span> <span class="token function">de</span><span class="token punctuation">(</span><span class="token parameter">data<span class="token punctuation">,</span> key<span class="token punctuation">,</span> val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> key<span class="token punctuation">,</span> <span class="token punctuation">{</span>    enumerable<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>    configurable<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>    <span class="token function-variable function">get</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">return</span> val<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token function-variable function">set</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">newVal</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span>val <span class="token operator">===</span> newVal<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span>      val <span class="token operator">=</span> newVal<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">cb</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">{</span> val <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"è§†å›¾è·Ÿæ–°å•¦å•¦å•¦"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// è®¢é˜…è€…</span><span class="token keyword">class</span> <span class="token class-name">Dep</span> <span class="token punctuation">{</span>  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// ç”¨æ¥å­˜æ”¾Watcherå¯¹è±¡çš„æ•°ç»„ï¼ˆä¿å­˜çš„å°±æ˜¯watcherå¯¹è±¡ï¼‰</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>subs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token function">addSub</span><span class="token punctuation">(</span><span class="token parameter">sub</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>subs<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>sub<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token comment">// é€šçŸ¥æ‰€æœ‰çš„watcherå¯¹è±¡æ›´æ–°è§†å›¾</span>  <span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>subs<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">sub</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>      sub<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment">// è§‚å¯Ÿè€…</span><span class="token keyword">class</span> <span class="token class-name">Watcher</span> <span class="token punctuation">{</span>  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// åœ¨newä¸€ä¸ªwatcherå¯¹è±¡çš„æ—¶å€™å‘¢ï¼ŒthisæŒ‡å‘çš„å°±æ˜¯è¯¥å®ä¾‹ï¼ŒæŠŠè¯¥å¯¹è±¡èµ‹å€¼ç»™Dep.targetå±æ€§ï¼Œåœ¨getçš„æ—¶å€™ä¼šç”¨åˆ°çš„ã€‚</span>    Dep<span class="token punctuation">.</span>target <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token comment">/* æ›´æ–°è§†å›¾çš„æ–¹æ³• */</span>  <span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"è§†å›¾æ›´æ–°å•¦ï½"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span>Dep<span class="token punctuation">.</span>target <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span><span class="token comment">//å…¥å‚æ˜¯ä¸€ä¸ª objï¼ˆéœ€è¦ç»‘å®šçš„å¯¹è±¡ï¼‰ã€keyï¼ˆobjçš„æŸä¸€ä¸ªå±æ€§ï¼‰ï¼Œvalï¼ˆå…·ä½“çš„å€¼ï¼‰</span><span class="token keyword">function</span> <span class="token function">defineReactive</span><span class="token punctuation">(</span><span class="token parameter">obj<span class="token punctuation">,</span> key<span class="token punctuation">,</span> val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">const</span> dep <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dep</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> key<span class="token punctuation">,</span> <span class="token punctuation">{</span>    enumerable<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>    configurable<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>    <span class="token function-variable function">get</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token function">reactiveGetter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token comment">/* å°†Dep.targetï¼ˆå³å½“å‰çš„Watcherå¯¹è±¡å­˜å…¥depçš„subsä¸­ï¼‰ */</span>      dep<span class="token punctuation">.</span><span class="token function">addSub</span><span class="token punctuation">(</span>Dep<span class="token punctuation">.</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// watcherå¯¹è±¡å­˜æ”¾åœ¨äº†Dep.targetä¸­</span>      <span class="token keyword">return</span> val<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token function-variable function">set</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token function">reactiveSetter</span><span class="token punctuation">(</span><span class="token parameter">newVal</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span>newVal <span class="token operator">===</span> val<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>      <span class="token comment">/* åœ¨setçš„æ—¶å€™è§¦å‘depçš„notifyæ¥é€šçŸ¥æ‰€æœ‰çš„Watcherå¯¹è±¡æ›´æ–°è§†å›¾ */</span>      <span class="token comment">//cb(newVal);</span>      dep<span class="token punctuation">.</span><span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token function">observer</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>value <span class="token operator">||</span> <span class="token keyword">typeof</span> value <span class="token operator">!==</span> <span class="token string">"object"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span><span class="token punctuation">;</span>    <span class="token comment">/*    æ•°ç»„çš„ä¾¦æµ‹æ–¹å¼æ˜¯ä¸ä¸€æ ·çš„ï¼Œå› ä¸ºæ•°ç»„å˜åŒ–çš„æ—¶å€™ä¸ä¼šè§¦å‘getterã€setteræ–¹æ³•ã€‚ä¾‹å¦‚this.arr.push(1)    å®ƒæ˜¯é€šè¿‡ArrayåŸå‹ä¸Šé¢çš„æ–¹æ³•æ¥æ”¹å˜æ•°ç»„çš„å†…å®¹çš„ã€‚    */</span>  <span class="token punctuation">}</span>  Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">key</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    <span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token function">defineReactive</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> key<span class="token punctuation">,</span> value<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// obj key val</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name">Vue</span> <span class="token punctuation">{</span>  <span class="token comment">//   constructor(options) {</span>  <span class="token comment">//     this._data = options.data;</span>  <span class="token comment">//     observer(this._data);</span>  <span class="token comment">//   }</span>  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>_data <span class="token operator">=</span> options<span class="token punctuation">.</span>data<span class="token punctuation">;</span>    <span class="token function">observer</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>_data<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// æ–°å»ºä¸€ä¸ªwatcherå¯¹è±¡ï¼Œè¿™ä¸ªæ—¶å€™å‘¢ï¼ŒDep.targetä¼šæŒ‡å‘è¿™ä¸ªå¯¹è±¡çš„</span>    <span class="token keyword">new</span> <span class="token class-name">Watcher</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// åœ¨è¿™é‡Œæ¨¡æ‹Ÿrenderçš„è¿‡ç¨‹ï¼Œä¸ºäº†è§¦å‘testå±æ€§çš„getå‡½æ•°ï¼ˆè¯»å–çš„æ—¶å€™è§¦å‘ï¼‰</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">render: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>_data<span class="token punctuation">.</span>test<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">let</span> o <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  data<span class="token operator">:</span> <span class="token punctuation">{</span>    test<span class="token operator">:</span> <span class="token string">"xxx"</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">/** * options * {data:{ *    test:'xxx'} * } */</span>o<span class="token punctuation">.</span>_data<span class="token punctuation">.</span>test <span class="token operator">=</span> <span class="token string">"yyyy"</span><span class="token punctuation">;</span>o<span class="token punctuation">.</span>_data<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">"zjw"</span><span class="token punctuation">;</span> <span class="token comment">// è¿™ä¸ªæ£€æµ‹ä¸åˆ°çš„ vueæä¾›äº†vm.$setè§£å†³</span><span class="token keyword">delete</span> o<span class="token punctuation">.</span>_data<span class="token punctuation">.</span>name<span class="token punctuation">;</span> <span class="token comment">// è¿™ä¸ªä¹Ÿæ£€æµ‹ä¸åˆ°çš„ vueæä¾›äº†vm.$deleteè§£å†³</span><span class="token comment">// render: xxx</span><span class="token comment">// è§†å›¾æ›´æ–°å•¦ï½</span></code></pre><blockquote><p>æ€»ç»“ï¼šğŸ¤¯</p><p><code>render function</code>çš„æ—¶å€™å…¶å®å°±æ˜¯è¯»å–äº†<code>data</code>é‡Œé¢çš„å±æ€§ï¼Œè¯»å–çš„æ—¶å€™å‘¢ï¼Œä¼šè§¦å‘(<code>touch</code>)è¿™ä¸ªç†Ÿæ‚‰çš„<code>getter</code>æ–¹æ³•ï¼Œè¿™ä¸ªæ—¶å€™åœ¨<code>Vue</code>é‡Œé¢ä¼š<code>new</code>ä¸€ä¸ª<code>watcher</code>å‡ºæ¥,æ­¤æ—¶<code>new</code>å‡ºæ¥çš„<code>watcher</code>çš„<code>this</code>æŒ‡å‘å°±æ˜¯è¯¥å®ä¾‹ï¼Œä¹Ÿå°±æ˜¯å®ƒè‡ªå·±ï¼Œè¿™ä¸ªæ—¶å€™æŠŠ<code>this</code>èµ‹å€¼ç»™<code>Dep</code>ï¼ˆå­˜æ”¾ä¾èµ–çš„åœ°æ–¹ï¼‰çš„ä¸€ä¸ªå…¨å±€å±æ€§<code>target</code>ï¼Œè¿™ä¸ª<code>target</code>åœ¨<code>getter</code>æ–¹æ³•ä¸­è¢«å­˜è¿›å»<code>Sub</code>å‡½æ•°é‡Œé¢<code>subs</code>ï¼ˆå­˜æ”¾ä¾èµ–çš„æ•°ç»„ï¼‰é‡Œé¢å»ã€‚ç„¶åå‘¢ï¼Œåœ¨<code>setter</code>æ–¹æ³•ä¸­ï¼Œä¹Ÿå°±æ˜¯æ›´æ–°å±æ€§å€¼çš„æ—¶å€™ï¼Œå»éå†<code>subs</code>æ•°ç»„é‡Œé¢çš„æ¯ä¸€ä¸ª<code>watcher</code>ï¼Œè®©æ¯ä¸€ä¸ª<code>watcher</code>å»æ‰§è¡Œæ›´æ–°è§†å›¾çš„æ–¹æ³•ã€‚<code>Watcher</code>çš„è§’è‰²å…¶å®å°±æ˜¯ä¸€ä¸ªä¸­é—´äººï¼Œè´Ÿè´£ä¾èµ–æ”¶é›†,ç„¶åä¾èµ–æœ‰æ›´æ–°çš„æ—¶å€™é€šçŸ¥ç›¸åº”çš„è§†å›¾æ”¹å˜ã€‚</p></blockquote><h4 id="VNode"><a href="#VNode" class="headerlink" title="VNode"></a>VNode</h4><p><code>VNode</code>å…¶å®å°±æ˜¯ä¸€ä¸ª<code>JS</code>çš„å¯¹è±¡<code>{}</code>ï¼Œå¯ä»¥å«ä»–èŠ‚ç‚¹æè¿°å¯¹è±¡ã€‚å°±æ˜¯æ˜¯``JS<code>æ¥æ¨¡æ‹ŸçœŸå®çš„</code>dom<code>ã€‚**VNode-&gt;dom-&gt;é¡µé¢**ã€‚å› ä¸º</code>vue<code>å®ƒæ˜¯çŠ¶æ€å‘ç”Ÿæ”¹å˜ä¹‹åï¼Œé€šè¿‡</code>Watcher<code>é€šçŸ¥åˆ°æœ‰ç”¨åˆ°è¯¥çŠ¶æ€çš„ç»„ä»¶ï¼Œç„¶åç»„ä»¶å†…éƒ¨å»æ›´æ–°ã€‚é‚£è¿™é‡Œå°±æœ‰ä¸€ä¸ªå¥½æ£’çš„åœ°æ–¹å•¦ã€‚ä¸ºäº†é˜²æ­¢ä¸€ä¸ªå°å°çš„å˜åŒ–ï¼Œå¯¼è‡´é‡æ–°æ¸²æŸ“æ•´ä¸ªç»„ä»¶çš„é—®é¢˜å‘ç”Ÿã€‚æ‰€ä»¥</code>vue<code>æ˜¯æ€ä¹ˆåšçš„å‘¢ã€‚å®ƒæŠŠä¸Šä¸€æ¬¡çš„</code>VNode<code>ç¼“å­˜èµ·æ¥ï¼Œè·Ÿæ›´æ–°çš„</code>VNode<code>è¿›è¡Œå¯¹æ¯”ã€‚è¿™é‡Œç”¨çš„æ˜¯</code>diff<code>ç®—æ³•ã€‚ç„¶åï¼ŒæŸ¥æ‰¾å‡ºå“ªé‡Œæœ‰å˜åŒ–ï¼Œåˆ°çœŸå®</code>dom<code>é‚£é‡Œåªéœ€è¦æ”¹å˜é‚£ä¸ªéœ€è¦è¢«æ”¹å˜çš„</code>dom`ç»“æ„å°±å¯ä»¥å•¦ã€‚</p><h4 id="patch"><a href="#patch" class="headerlink" title="patch"></a>patch</h4><p>patch å°±æ˜¯ä½œç”¨äº oldVNode å’Œ VNode ä¹‹é—´ã€‚å®ƒçš„ä½œç”¨å°±æ˜¯æ¯”è¾ƒä¸¤ä¸ª VNode ä¹‹é—´çš„å·®å¼‚ï¼Œç„¶åä¿®æ”¹ domï¼Œæœ€åå»æ¸²æŸ“è§†å›¾è¿™ä¸€æ•´ä¸ªè¿‡ç¨‹ã€‚</p><ul><li>åˆ›å»ºæ–°å¢çš„èŠ‚ç‚¹</li></ul><p>ä¸»è¦å‘ç”Ÿåœ¨ä¸¤ä¸ªåœºæ™¯ï¼Œä¸€æ˜¯ç¬¬ä¸€æ¬¡æ¸²æŸ“çš„æ—¶å€™ï¼Œå¹¶æ²¡æœ‰ oldVNodeï¼ŒäºŒæ˜¯ oldVNode ä¸­æ²¡æœ‰æœ€æ–°çš„ VNode(èŠ‚ç‚¹)ã€‚</p><ul><li>ä¿®æ”¹éœ€è¦æ›´æ–°çš„èŠ‚ç‚¹</li></ul><p>å¦‚æœæ˜¯åŒä¸€èŠ‚ç‚¹çš„è¯ï¼Œé‚£å°±åªéœ€è¦æ›´æ–°ä¸åŒçš„å±æ€§å°±å¯ä»¥å•¦ã€‚</p><ul><li>åˆ é™¤å·²ç»åºŸå¼ƒçš„èŠ‚ç‚¹</li></ul><p>å°±æ˜¯ VNode ä¸­æ²¡æœ‰ oldVNode çš„æ‰€å¯¹åº”çš„èŠ‚ç‚¹ã€‚æ›¿æ¢èŠ‚ç‚¹çš„è¿‡ç¨‹å°±æ˜¯æŠŠæ–°çš„ dom èŠ‚ç‚¹æ’è¿›å»ï¼Œæ—§çš„ dom èŠ‚ç‚¹åˆ é™¤æ‰ã€‚</p><img src="https://cdn.jsdelivr.net/gh/JingWZeng/markdownImg/img/202110291550585.png" alt="image-20211029155030527" style="zoom: 80%;"><h4 id="æœªå®Œï¼Œå¾…è¡¥å……"><a href="#æœªå®Œï¼Œå¾…è¡¥å……" class="headerlink" title="æœªå®Œï¼Œå¾…è¡¥å……"></a>æœªå®Œï¼Œå¾…è¡¥å……</h4>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
          <category> Vue2 </category>
          
          <category> æºç ç³»åˆ— </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å‰ç«¯ </tag>
            
            <tag> Vue2 </tag>
            
            <tag> æºç ç³»åˆ— </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>class</title>
      <link href="/2021/10/30/class/"/>
      <url>/2021/10/30/class/</url>
      
        <content type="html"><![CDATA[<h3 id="ç±»åŸºæœ¬ä½¿ç”¨"><a href="#ç±»åŸºæœ¬ä½¿ç”¨" class="headerlink" title="ç±»åŸºæœ¬ä½¿ç”¨"></a>ç±»åŸºæœ¬ä½¿ç”¨</h3><blockquote><p>ä¸‹ä¸ªçš„é¡¹ç›®éœ€è¦ç”¨åˆ° ts çš„ classã€‚æœ¬æ–‡æ€»ç»“ä¸‹ class çš„ç”¨æ³•ã€‚</p></blockquote><p>ES6 å¼•è¿›æ¥çš„ class åªæ˜¯ä¸€ä¸ªè¯­æ³•ç³–ã€‚</p><p>ä¾‹å­ï¼šES5 ç”Ÿæˆçš„å®ä¾‹å¯¹è±¡æ˜¯é€šè¿‡æ„é€ å‡½æ•°ç”Ÿæˆçš„ã€‚æœ‰äº›äººè§‰å¾—ä¸å¥½å“‡ï¼Œè™½ç„¶æˆ‘ä¸è§‰å¾—(åº”è¯¥æ˜¯è‡ªå·±è§è¯†å°‘ ğŸ¤”)ã€‚</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">Point</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> x<span class="token punctuation">;</span>  <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> y<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token class-name">Point</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">toString</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>x<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> + </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>y<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1+2</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">let</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Point</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>p<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>å¦‚æœç”¨ ES6 çš„ class æ¥å®ç°çš„è¯ï¼šå…¶å® ES6ï¼Œå°±æ˜¯æ„é€ å‡½æ•°çš„å¦å¤–ä¸€ç§å†™æ³•ã€‚</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span>  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// æ„é€ å‡½æ•°  constructionæ˜¯ç±»çš„é»˜è®¤æ–¹æ³•ï¼Œå¦‚æœä¸æ˜¾å¼å†™å‡ºæ¥ï¼Œå°±ä¼šé»˜è®¤æ·»åŠ ç©ºçš„è¯¥æ–¹æ³•ã€‚é»˜è®¤è¿”å›return thisã€‚å¯ä»¥æ˜¾ç¤ºçš„æ”¹å˜è¿”å›ã€‚ä¾‹å¦‚return Object.create(null) æŒ‡å‘ç©º</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> x<span class="token punctuation">;</span> <span class="token comment">// thiså°±æ˜¯æŒ‡ç”Ÿæˆçš„å®ä¾‹</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> y<span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// åœ¨åŸå‹ä¸Šé¢çš„æ–¹æ³•,æ–¹æ³•éƒ½å®šä¹‰åœ¨äº†åŸå‹ä¸Šé¢äº†</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>x<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> + </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>y<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1+2</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">let</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Point</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>p<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> Point<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//function</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Point <span class="token operator">===</span> <span class="token class-name">Point</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>constructor <span class="token operator">=</span> <span class="token class-name">Point</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true  pä¸Šé¢æ²¡æœ‰constructionï¼Œå®ƒå»åŸå‹é“¾ä¸Šå»æ‰¾çš„</span></code></pre><p>ç”±äºç±»çš„æ–¹æ³•éƒ½å®šä¹‰åœ¨<code>prototype</code>ä¸Šé¢,æ‰€ä»¥å¯ä»¥åˆ©ç”¨ <code>Object.assign()</code>æ–¹æ³•ä¸€æ¬¡æ€§æ·»åŠ å¤šä¸ªæ–¹æ³•ã€‚</p><pre class="language-js" data-language="js"><code class="language-js">Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token class-name">Point</span><span class="token punctuation">.</span>prototype<span class="token punctuation">,</span><span class="token punctuation">{</span>    <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token function">toValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token operator">...</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>ç±»çš„å†…éƒ¨å®šä¹‰çš„æ–¹æ³•ï¼Œéƒ½æ˜¯ä¸å¯æšä¸¾çš„ã€‚ä½†æ˜¯å¯ä»¥åˆ©ç”¨<code>Object.getOwnPropertyNames</code>å¾—åˆ°ã€‚ä½†æ˜¯ ES5 ä¸­æ˜¯å¯ä»¥æšä¸¾çš„ã€‚</p><pre class="language-js" data-language="js"><code class="language-js">Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token class-name">Point</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//[]</span>Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyNames</span><span class="token punctuation">(</span><span class="token class-name">Point</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ["toString","toValue"]</span></code></pre><p>å®ä¾‹çš„å±æ€§é™¤éæ˜¾å¼å®šä¹‰åœ¨å…¶æœ¬èº«ï¼ˆthis ä¸Šï¼‰ï¼Œå¦åˆ™éƒ½æ˜¯å®šä¹‰åœ¨åŸå‹ä¸Š(class ä¸Š)ã€‚</p><pre class="language-js" data-language="js"><code class="language-js">point<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">"x"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span>point<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">"y"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span>point<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">"toString"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false å®šä¹‰åœ¨åŸå‹ä¸Šï¼ˆclass)</span>point<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">"toValue"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false å®šä¹‰åœ¨åŸå‹ä¸Šï¼ˆclass)</span>point<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">"toString"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span></code></pre><p><code>Object.getPrototypeOf(å®ä¾‹)</code>è·å¾—å®ä¾‹å¯¹è±¡çš„åŸå‹ã€‚</p><p>å–å€¼å‡½æ•°ï¼ˆ<code>getter</code>ï¼‰å’Œå­˜å€¼å‡½æ•°ï¼ˆ<code>setter</code>ï¼‰ä¸ ES5 ä¸€è‡´ã€‚</p><p>ç±»çš„å±æ€§åï¼Œå¯ä»¥é‡‡ç”¨è¡¨è¾¾å¼çš„å½¢å¼ã€‚</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> name <span class="token operator">=</span> <span class="token string">'getName'</span><span class="token keyword">class</span> <span class="token class-name">Point</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token comment">//</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><blockquote><p>æ³¨æ„</p><ul><li><p>ç±»çš„å†…éƒ¨é‡‡ç”¨çš„éƒ½æ˜¯ä¸¥æ ¼æ¨¡å¼ï¼Œä¸ç”¨æ˜¾å¼çš„æŒ‡å‡º</p></li><li><p>ç±»ä¸å­˜åœ¨å˜é‡æå‡ã€‚è·Ÿç»§æ‰¿æœ‰å…³ï¼Œå› ä¸ºå¿…é¡»è¦æœ‰çˆ¶äº²ï¼Œå„¿å­æ‰å¯ä»¥ç»§æ‰¿</p></li><li></li><li><p>name å±æ€§ï¼Œè¿”å›ç´§è·Ÿåœ¨ class å…³é”®å­—åé¢çš„ç±»å</p></li></ul><pre class="language-js" data-language="js"><code class="language-js">Point<span class="token punctuation">.</span>name<span class="token punctuation">;</span> <span class="token comment">// Point</span></code></pre></blockquote><h3 id="å®ä¾‹å±æ€§çš„æ–°å†™æ³•"><a href="#å®ä¾‹å±æ€§çš„æ–°å†™æ³•" class="headerlink" title="å®ä¾‹å±æ€§çš„æ–°å†™æ³•"></a>å®ä¾‹å±æ€§çš„æ–°å†™æ³•</h3><p>å®ä¾‹å±æ€§é™¤äº†å¯ä»¥å†™åœ¨<code>constructor</code>é‡Œé¢ä¹‹å¤–ï¼Œä¹Ÿå¯ä»¥å†™åœ¨ç±»çš„æœ€ä¸Šé¢ã€‚æ˜¯ä¸€æ ·çš„ã€‚</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">Count</span> <span class="token punctuation">{</span>  _count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// è¿™æ—¶å€™æ˜¯ä¸éœ€è¦åŠ thiså…³é”®å­—çš„ æ¨èå†™æ³•ï¼Œæ¯”è¾ƒç®€æ´</span>  <span class="token keyword">get</span> <span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_count<span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token function">increment</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>_count<span class="token operator">++</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment">// ä¸ä¸‹é¢çš„ä½œç”¨ç›¸åŒ-------------------------------------</span><span class="token keyword">class</span> <span class="token class-name">Count</span> <span class="token punctuation">{</span>  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>_count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token keyword">get</span> <span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_count<span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token function">increment</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>_count<span class="token operator">++</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h3 id="é™æ€æ–¹æ³•"><a href="#é™æ€æ–¹æ³•" class="headerlink" title="é™æ€æ–¹æ³•"></a>é™æ€æ–¹æ³•</h3><p>é™æ€æ–¹æ³•å°±æ˜¯åœ¨æ–¹æ³•åå­—é¢å‰åŠ å…³é”®å­—<code>static</code>ã€‚è¡¨ç¤ºè¯¥æ–¹æ³•ä¸ä¼šè¢«å®ä¾‹ç»§æ‰¿ã€‚å°±æ˜¯å®ä¾‹ä¸èƒ½è°ƒç”¨ï¼Œåªå¯ä»¥è®©ç±»è‡ªå·±è°ƒç”¨ã€‚**<em>é™æ€æ–¹æ³•ä¸­çš„<code>this</code>æŒ‡çš„æ˜¯ç±»æœ¬èº«ï¼Œè€Œä¸æ˜¯å®ä¾‹ã€‚</em>**</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span>  <span class="token keyword">static</span> <span class="token function">myMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"xxx"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"yyy"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span>Foo<span class="token punctuation">.</span><span class="token function">myMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// xxx yyy</span><span class="token keyword">let</span> foo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>foo<span class="token punctuation">.</span><span class="token function">myMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//æŠ¥é”™âŒ</span></code></pre><p>çˆ¶ç±»çš„é™æ€æ–¹æ³•æ˜¯å¯ä»¥è¢«å­ç±»ç»§æ‰¿çš„</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">static</span> <span class="token function">myMehod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'xxx'</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name">Bar</span> <span class="token keyword">extends</span> <span class="token class-name">Foo</span><span class="token punctuation">{</span><span class="token punctuation">}</span>Bar<span class="token punctuation">.</span><span class="token function">myMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">// xxx</span></code></pre><p>ä¹Ÿå¯ä»¥åœ¨<code>super</code>å¯¹è±¡ä¸Šè°ƒç”¨</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">Bar</span> <span class="token keyword">extends</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span>  <span class="token keyword">static</span> <span class="token function">youMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">myMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"yyy"</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span>Bar<span class="token punctuation">.</span><span class="token function">youMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// xxxyyy</span></code></pre><h3 id="é™æ€å±æ€§"><a href="#é™æ€å±æ€§" class="headerlink" title="é™æ€å±æ€§"></a>é™æ€å±æ€§</h3><p>é™æ€å±æ€§å°±æ˜¯ç±»æœ¬èº«çš„å±æ€§ï¼Œè€Œä¸æ˜¯å®šä¹‰åœ¨å®ä¾‹å¯¹è±¡ï¼ˆthis ä¸Šï¼‰çš„å±æ€§ã€‚</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token comment">// è€å†™æ³•</span>Foo<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">"zjw"</span><span class="token punctuation">;</span><span class="token comment">// æ–°å†™æ³• æ¨è</span><span class="token keyword">class</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span>  <span class="token keyword">static</span> name <span class="token operator">=</span> <span class="token string">"zjw"</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h3 id="ç§æœ‰æ–¹æ³•å’Œç§æœ‰å±æ€§"><a href="#ç§æœ‰æ–¹æ³•å’Œç§æœ‰å±æ€§" class="headerlink" title="ç§æœ‰æ–¹æ³•å’Œç§æœ‰å±æ€§"></a>ç§æœ‰æ–¹æ³•å’Œç§æœ‰å±æ€§</h3><p>å› ä¸º ES6 æ²¡æœ‰æä¾›ç›¸åº”çš„æ–¹æ³•ï¼Œåªèƒ½è‡ªå·±å°è£…ã€‚ç§æœ‰æ–¹æ³•å’Œç§æœ‰å±æ€§åªèƒ½åœ¨ç±»çš„å†…éƒ¨è®¿é—®ï¼Œå¤–éƒ¨æ˜¯ä¸èƒ½è®¿é—®çš„ã€‚</p><blockquote><p>éœ€è¦æ³¨æ„é™æ€æ–¹æ³•å’Œç§æœ‰æ–¹æ³•çš„åŒºåˆ«å•Šï¼š</p><ul><li><p>é™æ€æ–¹æ³•åªå¯ä»¥æ˜¯ç±»è‡ªèº«è°ƒç”¨ï¼Œ**ç±»çš„å®ä¾‹ï¼ˆä¹Ÿå°±æ˜¯ new å‡ºæ¥çš„å¯¹è±¡)**æ˜¯ä¸å¯ä»¥è°ƒç”¨çš„ã€‚ä½†æ˜¯å®ƒæ˜¯å¯ä»¥ç»§æ‰¿çš„ã€‚ä¸è¿‡æ„Ÿè§‰è¿™ç§æ–¹æ³•æ²¡å•¥ç”¨ã€‚</p></li><li><p>ç§æœ‰æ–¹æ³•æ˜¯åœ¨ç±»çš„å†…éƒ¨æ‰å¯ä»¥è°ƒç”¨ï¼Œå¤–éƒ¨ä¸è¡Œã€‚</p></li></ul></blockquote><p>ç§æœ‰æ–¹æ³•</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">Widget</span> <span class="token punctuation">{</span>  <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">baz</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">bar</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> baz<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token comment">// ...</span><span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token parameter">baz</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>snaf <span class="token operator">=</span> baz<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>ç§æœ‰å±æ€§</p><pre class="language-js" data-language="js"><code class="language-js">ææ¡ˆï¼šåˆ©ç”¨#<span class="token punctuation">[</span>å˜é‡å<span class="token operator">|</span>æ–¹æ³•å<span class="token punctuation">]</span></code></pre><h3 id="new-target-å±æ€§"><a href="#new-target-å±æ€§" class="headerlink" title="new.target å±æ€§"></a>new.target å±æ€§</h3><p>å®ƒè¿”å›çš„æ˜¯ new å‘½ä»¤ä½œç”¨äºçš„é‚£ä¸ªæ„é€ å‡½æ•°ï¼Œå¦‚æœæ„é€ å‡½æ•°ä¸æ˜¯é€šè¿‡ new å‘½ä»¤æˆ–è€… Reflect.construct()è°ƒç”¨çš„è¯ï¼Œnew.target è¿”å› undefinedã€‚æ‰€ä»¥è¿™ä¸ªå±æ€§å¯ä»¥ç”¨æ¥åˆ¤æ–­æ„é€ å‡½æ•°æ˜¯ä¸æ˜¯é€šè¿‡ new æ–¹æ³•è°ƒç”¨çš„ã€‚</p><p>ä¸€ä¸ªå¾ˆå¥½çš„åº”ç”¨å°±æ˜¯ï¼šå¯ä»¥å†™å‡ºä¸èƒ½ç‹¬ç«‹ä½¿ç”¨ï¼Œå¿…é¡»ç»§æ‰¿ä¹‹åæ‰å¯ä»¥ä½¿ç”¨çš„ç±»(å› ä¸ºå­ç±»ç»§æ‰¿çˆ¶ç±»çš„æ—¶å€™å‘¢ï¼Œnew.target è¿”å›çš„æ˜¯å­ç±»)</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">Shape</span> <span class="token punctuation">{</span>  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">new</span><span class="token punctuation">.</span>target <span class="token operator">===</span> Shape<span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token comment">// new.targetè¿™é‡Œè¿”å›çš„æ˜¯Rectangleã€‚å¦‚æœæ˜¯è‡ªå·±new Shape()è°ƒç”¨çš„è¯ï¼Œé‚£å°±æ˜¯è¿”å›Shape</span>      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">"æœ¬ç±»ä¸èƒ½å®ä¾‹åŒ–"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name">Rectangle</span> <span class="token keyword">extends</span> <span class="token class-name">Shape</span> <span class="token punctuation">{</span>  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">length<span class="token punctuation">,</span> width</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// ...</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Shape</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æŠ¥é”™</span><span class="token keyword">var</span> y <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Rectangle</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ­£ç¡®</span></code></pre><h3 id="super"><a href="#super" class="headerlink" title="super()"></a>super()</h3><ul><li>ç¬¬ä¸€ç§æƒ…å†µå°±æ˜¯ï¼Œsuper å½“æˆå‡½æ•°è°ƒç”¨ï¼Œå¦‚æœå­ç±»å®šä¹‰äº† constructorï¼Œé‚£ä¹ˆå¿…é¡»åœ¨å­ç±»çš„ constructor é‡Œé¢è°ƒç”¨ super()å‡½æ•°ï¼Œè¿™æ ·æ‰å¯ä»¥æŠŠçˆ¶ç±»çš„ this æŒ‡å‘å­ç±»ï¼Œç›¸å½“äºè°ƒç”¨çˆ¶ç±»çš„ constructorï¼Œå¯ä»¥ä¼ é€’å‚æ•°è¿‡å»ã€‚</li></ul><p>è¿™é‡Œï¼Œsuper è™½ç„¶æ˜¯ä»£è¡¨ç€çˆ¶ç±» A çš„æ„é€ å‡½æ•°ï¼Œä½†æ˜¯è¿”å›çš„æ˜¯å­ç±» B çš„å®ä¾‹ã€‚ä¹Ÿå°±æ˜¯è¯´ super å†…éƒ¨çš„ this æŒ‡å‘çš„ B çš„å®ä¾‹ã€‚ç›¸å½“äº<code>A.prototype.constructor.call(this)</code></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">A</span> <span class="token punctuation">{</span>  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">new</span><span class="token punctuation">.</span>target<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name">B</span> <span class="token keyword">extends</span> <span class="token class-name">A</span> <span class="token punctuation">{</span>  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">new</span> <span class="token class-name">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// A</span><span class="token keyword">new</span> <span class="token class-name">B</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// B  è¿™ä¸ªä¹Ÿæ°æ°è¯´æ˜äº†new.targetåœ¨å­ç±»ç»§æ‰¿çˆ¶ç±»çš„æ—¶å€™ï¼ŒæŒ‡å‘çš„å…¶å®æ˜¯å­ç±»çš„æ„é€ å‡½æ•°B</span></code></pre><blockquote><p>ä½œä¸ºå‡½æ•°çš„æ—¶å€™ï¼Œåªå¯ä»¥ç”¨åœ¨ constructor å¯¹è±¡é‡Œé¢ã€‚å…¶ä»–åœ°æ–¹éƒ½ä¼šæŠ¥é”™ã€‚</p></blockquote><ul><li>ç¬¬äºŒç§æƒ…å†µå°±æ˜¯ï¼Œsuper()å½“æˆå¯¹è±¡è°ƒç”¨ï¼Œå¦‚æœå­ç±»çš„æ–¹æ³•æ˜¯æ™®é€šæ–¹æ³•ï¼Œsuper åªèƒ½è°ƒç”¨çˆ¶äº²åŸå‹ï¼ˆpropotypeï¼‰ä¸Šçš„æ–¹æ³•ã€‚super è¿˜è·Ÿä¸Šä¸‹æ–‡ç¯å¢ƒæœ‰å…³ã€‚å¦‚æœå­ç±»çš„æ–¹æ³•æ˜¯é™æ€æ–¹æ³•ï¼Œé‚£ä¹ˆ super ç›¸å½“äºç¥–å…ˆçš„æ„é€ å‡½æ•°ï¼ŒæŒ‡å‘çš„å°±æ˜¯çˆ¶ç±»ï¼Œè€Œä¸æ˜¯çˆ¶ç±»çš„åŸå‹å¯¹è±¡ã€‚</li></ul><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">A</span> <span class="token punctuation">{</span>  <span class="token function">p</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token number">2</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name">B</span> <span class="token keyword">extends</span> <span class="token class-name">A</span> <span class="token punctuation">{</span>  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">p</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">B</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><blockquote><ul><li><p>æ³¨æ„æŒ‡å‘çš„æ˜¯çˆ¶ç±»çš„åŸå‹å¯¹è±¡ï¼Œè¿™å°±è¯´æ˜åªå¯ä»¥è°ƒç”¨åŸå‹ä¸Šé¢çš„æ–¹æ³•ï¼ˆprototype ä¸Šï¼‰ï¼Œçˆ¶ç±»å®ä¾‹ä¸Šçš„æ–¹æ³•æˆ–è€…å±æ€§ï¼ˆclass ä¸Šï¼‰ï¼Œæ˜¯æ²¡åŠæ³•æ‹¿åˆ°çš„ã€‚</p></li><li><p>ES6 è§„å®šï¼Œåœ¨å­ç±»æ™®é€šæ–¹æ³•ä¸­é€šè¿‡<code>super</code>è°ƒç”¨çˆ¶ç±»çš„æ–¹æ³•æ—¶ï¼Œæ–¹æ³•å†…éƒ¨çš„<code>this</code>æŒ‡å‘å½“å‰çš„å­ç±»å®ä¾‹ã€‚</p></li><li><p>åœ¨å­ç±»çš„é™æ€æ–¹æ³•ä¸­é€šè¿‡<code>super</code>è°ƒç”¨çˆ¶ç±»çš„æ–¹æ³•æ—¶ï¼Œæ–¹æ³•å†…éƒ¨çš„<code>this</code>æŒ‡å‘å½“å‰çš„å­ç±»ï¼Œè€Œä¸æ˜¯å­ç±»çš„å®ä¾‹ã€‚</p></li></ul></blockquote><h3 id="ç±»çš„ç»§æ‰¿"><a href="#ç±»çš„ç»§æ‰¿" class="headerlink" title="ç±»çš„ç»§æ‰¿"></a>ç±»çš„ç»§æ‰¿</h3><p>ES5 å¯ä»¥åˆ©ç”¨åŸå‹é“¾å®ç°ç»§æ‰¿ï¼ŒES6 çš„ class å¯ä»¥åˆ©ç”¨ extends å…³é”®å­—æ¥å®ç°ã€‚è¿™é‡Œå…ˆè¯´ä¸‹ ES5 çš„ç»§æ‰¿æ˜¯æ€ä¹ˆå›äº‹ï¼Œå®è´¨ä¸Šæ˜¯å…ˆåˆ›é€ å­ç±»çš„å®ä¾‹å¯¹è±¡ this,ç„¶åå†å°†çˆ¶ç±»çš„æ–¹æ³•æ·»åŠ åˆ° this ä¸Šé¢<code>Parent.apply(this)</code>ã€‚ES6 çš„ä¸å®ƒä¸åŒï¼ˆæµç¨‹ç›¸åï¼‰ï¼Œå®è´¨ä¸Šå…ˆå°†çˆ¶ç±»çš„å®ä¾‹å¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•å…ˆæ”¾åˆ° this ä¸Šé¢ï¼ˆåˆ©ç”¨çš„æ˜¯ super æ–¹æ³•ï¼Œè¿™ä¹Ÿå°±æ˜¯ä¸ºå•¥å¿…é¡»åœ¨å­ç±»çš„ constructor ä¸­è°ƒç”¨ super æ–¹æ³•çš„åŸå› ï¼‰ï¼Œç„¶åå†ç”¨å­ç±»çš„æ„é€ å‡½æ•°ä¿®æ”¹ thisã€‚</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">ColorPoint</span> <span class="token keyword">extends</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span>  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> color</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">super</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è°ƒç”¨çš„æ˜¯çˆ¶ç±»çš„constructor(x,y)</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>color <span class="token operator">=</span> color<span class="token punctuation">;</span> <span class="token comment">// thisæŒ‡å‘çš„æ˜¯ColorPointçš„å®ä¾‹å¯¹è±¡</span>  <span class="token punctuation">}</span>  <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// é‡å†™çˆ¶ç±»çš„æ–¹æ³•</span>    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>color <span class="token operator">+</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//è°ƒç”¨çˆ¶ç±»çš„toString()</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">let</span> cp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ColorPoint</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>å¦‚æœå†™äº† constructor ä½†æ˜¯æ²¡æœ‰æ˜¾å¼è°ƒç”¨ super æ–¹æ³•ï¼Œä¼šæŠ¥é”™</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">ColorPoint</span> <span class="token keyword">extends</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span>  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment">//å› ä¸ºå­ç±»è‡ªå·±çš„thiså¯¹è±¡ï¼Œå¿…é¡»å…ˆé€šè¿‡çˆ¶ç±»çš„æ„é€ å‡½æ•°å®Œæˆå¡‘é€ ï¼Œå¾—åˆ°ä¸çˆ¶ç±»åŒæ ·çš„å®ä¾‹å±æ€§å’Œæ–¹æ³•ï¼Œç„¶åå†å¯¹å…¶è¿›è¡ŒåŠ å·¥ï¼ŒåŠ ä¸Šå­ç±»è‡ªå·±çš„å®ä¾‹å±æ€§å’Œæ–¹æ³•ã€‚å¦‚æœä¸è°ƒç”¨superæ–¹æ³•ï¼Œå­ç±»å°±å¾—ä¸åˆ°thiså¯¹è±¡ã€‚</span><span class="token keyword">let</span> cp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ColorPoint</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//æŠ¥é”™âŒ</span><span class="token comment">// æ³¨æ„</span><span class="token keyword">class</span> <span class="token class-name">ColorPoint</span> <span class="token keyword">extends</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span>  <span class="token comment">// æ²¡æœ‰æ˜¾å¼å†™å‡ºconstructoræ–¹æ³•çš„è¯ï¼Œä¼šé»˜è®¤è°ƒç”¨</span>  <span class="token comment">/* ç­‰åŒäº      constructor(...args){ // argså°±æ˜¯çˆ¶ç±»çš„constructorçš„å‚æ•°      super(...args)      }    */</span><span class="token punctuation">}</span><span class="token keyword">let</span> cp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ColorPoint</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//æ­£ç¡®âœ…</span></code></pre><blockquote><p>æ³¨æ„ï¼š</p><p>ä¸Šé¢çš„ä¸€å †ä¸œè¥¿éƒ½æ˜¯åœ¨å¼ºè°ƒä¸€å¥è¯ï¼šåœ¨å­ç±»çš„æ„é€ å‡½æ•°ä¸­ï¼Œåªæœ‰å…ˆä½¿ç”¨ superï¼Œæ‰æœ‰ thisã€‚å› ä¸ºå­ç±»å®ä¾‹çš„æ„å»ºï¼ŒåŸºäºçˆ¶ç±»å®ä¾‹ï¼Œåªæœ‰ super æ–¹æ³•æ‰èƒ½è°ƒç”¨çˆ¶ç±»å®ä¾‹ã€‚</p></blockquote><blockquote><p>å‰é¢ä¹Ÿæåˆ°é™æ€æ–¹æ³•æ˜¯å¯ä»¥è¢«ç»§æ‰¿çš„ã€‚</p></blockquote><p><strong>ES5 çš„ç»§æ‰¿å’Œ ES6 çš„ç»§æ‰¿åŒºåˆ«</strong></p><p>ä¸åšè¿‡å¤šçš„æ–‡å­—è¯´æ˜ï¼ŒES6 çš„ class ç»§æ‰¿å‚è€ƒ<a href="https://es6.ruanyifeng.com/#docs/class-extends"></a><a href="https://es6.ruanyifeng.com/">ECMAScript 6 å…¥é—¨-Class ç»§æ‰¿</a></p><p><strong><em>ES5</em></strong></p><p><img src="https://cdn.jsdelivr.net/gh/JingWZeng/markdownImg/img/202110301155117.png" alt="image-20211030115516007"></p><p><strong><em>ES6</em></strong></p><p><img src="https://cdn.jsdelivr.net/gh/JingWZeng/markdownImg/img/202110301156500.png" alt="image-20211030115606459"></p><h3 id="Object-getPrototypeOf"><a href="#Object-getPrototypeOf" class="headerlink" title="Object.getPrototypeOf()"></a>Object.getPrototypeOf()</h3><p>åˆ¤æ–­ä¸€ä¸ªç±»æ˜¯å¦ç»§æ‰¿äº†å¦ä¸€ä¸ªç±»ï¼ˆçŸ¥é“å°±è¡Œï¼‰</p><p><code>Object.getPrototypeOf</code>æ–¹æ³•å¯ä»¥ç”¨æ¥ä»å­ç±»ä¸Šè·å–çˆ¶ç±»ã€‚</p><pre class="language-js" data-language="js"><code class="language-js">Object<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span>ColorPoint<span class="token punctuation">)</span> <span class="token operator">===</span> Point<span class="token punctuation">;</span> <span class="token comment">// true</span></code></pre><h3 id="åŸç”Ÿæ„é€ å‡½æ•°çš„ç»§æ‰¿"><a href="#åŸç”Ÿæ„é€ å‡½æ•°çš„ç»§æ‰¿" class="headerlink" title="åŸç”Ÿæ„é€ å‡½æ•°çš„ç»§æ‰¿"></a>åŸç”Ÿæ„é€ å‡½æ•°çš„ç»§æ‰¿</h3><p>ES5 å’Œ ES6 çš„ç»§æ‰¿æœºåˆ¶(è§æœ¬æ–‡çš„ Class ç»§æ‰¿ä¸€èŠ‚)å†³å®šäº† ES5 æ˜¯æ— æ³•å»ç»§æ‰¿åŸç”Ÿçš„ JS æ„é€ å‡½æ•°çš„ã€‚è€Œ ES6 å´å¯ä»¥åšåˆ°ã€‚(è¿™ä¸ªè§£é‡Šäº†è§£å°±è¡Œ)ã€‚</p><p>é‡ç‚¹çœ‹ ES6 æ˜¯å¦‚ä½•å»æ˜¯å®ç°è¿™ç§ç»§æ‰¿çš„ã€‚</p><h3 id="mixin-æ¨¡å¼"><a href="#mixin-æ¨¡å¼" class="headerlink" title="mixin æ¨¡å¼"></a>mixin æ¨¡å¼</h3><p>Mixin æŒ‡çš„æ˜¯å¤šä¸ªå¯¹è±¡åˆæˆä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œæ–°å¯¹è±¡å…·æœ‰å„ä¸ªç»„æˆæˆå‘˜çš„æ¥å£ã€‚å°†å¤šä¸ªç±»åˆå¹¶æˆä¸€ä¸ªå¤§ç±»</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">mix</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>mixins</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">class</span> <span class="token class-name">Mix</span> <span class="token punctuation">{</span>    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> mixin <span class="token keyword">of</span> mixins<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">copyProperties</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">mixin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ‹·è´å®ä¾‹å±æ€§</span>      <span class="token punctuation">}</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> mixin <span class="token keyword">of</span> mixins<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">copyProperties</span><span class="token punctuation">(</span>Mix<span class="token punctuation">,</span> mixin<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ‹·è´é™æ€å±æ€§</span>    <span class="token function">copyProperties</span><span class="token punctuation">(</span><span class="token class-name">Mix</span><span class="token punctuation">.</span>prototype<span class="token punctuation">,</span> mixin<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ‹·è´åŸå‹å±æ€§</span>  <span class="token punctuation">}</span>  <span class="token keyword">return</span> Mix<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token function">copyProperties</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> source</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">of</span> Reflect<span class="token punctuation">.</span><span class="token function">ownKeys</span><span class="token punctuation">(</span>source<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>key <span class="token operator">!==</span> <span class="token string">"constructor"</span> <span class="token operator">&amp;&amp;</span> key <span class="token operator">!==</span> <span class="token string">"prototype"</span> <span class="token operator">&amp;&amp;</span> key <span class="token operator">!==</span> <span class="token string">"name"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">let</span> desc <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyDescriptor</span><span class="token punctuation">(</span>source<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>      Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> key<span class="token punctuation">,</span> desc<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment">// ç çš„mixå‡½æ•°ï¼Œå¯ä»¥å°†å¤šä¸ªå¯¹è±¡åˆæˆä¸ºä¸€ä¸ªç±»ã€‚ä½¿ç”¨çš„æ—¶å€™ï¼Œåªè¦ç»§æ‰¿è¿™ä¸ªç±»å³å¯ã€‚</span><span class="token keyword">class</span> <span class="token class-name">DistributedEdit</span> <span class="token keyword">extends</span> <span class="token class-name">mix</span><span class="token punctuation">(</span>Loggable<span class="token punctuation">,</span> Serializable<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">// ...</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> Class </category>
          
          <category> ES6 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Class </tag>
            
            <tag> ES6 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®¾è®¡æ¨¡å¼ä¹‹å‘å¸ƒè®¢é˜…æ¨¡å¼</title>
      <link href="/2021/10/28/she-ji-mo-shi-zhi-fa-bu-ding-yue-mo-shi/"/>
      <url>/2021/10/28/she-ji-mo-shi-zhi-fa-bu-ding-yue-mo-shi/</url>
      
        <content type="html"><![CDATA[<h3 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h3><p>å‘å¸ƒè®¢é˜…æ¨¡å¼æ˜¯ä¸€ç§å¤šå¯¹ä¸€çš„å…³ç³»ã€‚å³è®¢é˜…è€…è®¢é˜…ä¸åŒçš„ä¸»é¢˜ï¼Œå½“å‘å¸ƒè€…å‘å¸ƒç›¸å…³çš„ä¸»é¢˜çš„æ—¶å€™å‘¢ï¼Œè®¢é˜…è€…å¯ä»¥æ”¶åˆ°ç›¸å…³çš„å‘å¸ƒçš„ä¿¡æ¯ã€‚</p><h3 id="å®ç°æ–¹å¼"><a href="#å®ç°æ–¹å¼" class="headerlink" title="å®ç°æ–¹å¼"></a>å®ç°æ–¹å¼</h3><p>çœ‹ä»£ç ä¸­çš„æ³¨é‡Šï¼Œå‘å¸ƒè®¢é˜…å°±æ˜¯æ ¹æ®ä¸»é¢˜æ¥åšï¼Œå¹¶ä¸”å­˜è¿›ç›¸åº”çš„è®¢é˜…å›è°ƒã€‚<br>é€šä¿—çš„è¯´å‘¢ï¼Œå°±æ˜¯<code>list</code>ä¿å­˜è®¢é˜…çš„æ—¶å€™çš„å›è°ƒå‡½æ•°ï¼Œå‘å¸ƒçš„æ—¶å€™ä¼ å‚æ•°è¿›å»ï¼Œè¢«è®¢é˜…æ¯ä¸ªå›è°ƒå‡½æ•°éƒ½å»æ‰§è¡Œï¼Œé‚£ä¹ˆè¿™ä¸ªä¼ è¿›å»çš„å‚æ•°å°±æ˜¯æˆ‘ä»¬å‘å¸ƒçš„æ—¶å€™æºå¸¦çš„å†…å®¹å•¦å•¦å•¦ã€‚</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> events <span class="token operator">=</span> <span class="token punctuation">{</span>  list<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">//å­˜è®¢é˜…çš„å›è°ƒå‡½æ•°</span>  <span class="token comment">// è®¢é˜…äº‹ä»¶</span>  <span class="token function">on</span><span class="token punctuation">(</span><span class="token parameter">key<span class="token punctuation">,</span> fn</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>list<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>list<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>list<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token comment">// å‘å¸ƒäº‹ä»¶</span>  <span class="token function">emit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">let</span> key <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">let</span> fns <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>list<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>fns <span class="token operator">||</span> fns<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    fns<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">fn</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>      <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token comment">// å–æ¶ˆè®¢é˜…</span>  <span class="token function">remove</span><span class="token punctuation">(</span><span class="token parameter">key<span class="token punctuation">,</span> fn</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">let</span> fns <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>list<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>fns<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>    <span class="token comment">// å¦‚æœæ²¡æœ‰ä¼ å…¥å¯¹åº”çš„å‡½æ•°ï¼Œå°†keyå€¼å¯¹åº”çš„ç¼“å­˜å‡½æ•°éƒ½æ¸…ç©ºæ‰</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>fn<span class="token punctuation">)</span> <span class="token punctuation">{</span>      fns <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>fns<span class="token punctuation">.</span>length <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>      fns<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">cb<span class="token punctuation">,</span> i</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>        cb <span class="token operator">===</span> fn <span class="token operator">&amp;&amp;</span> fns<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token comment">// è®¢é˜…ä¸€æ¬¡</span>  <span class="token function">once</span><span class="token punctuation">(</span><span class="token parameter">key<span class="token punctuation">,</span> fn</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// è®¢é˜…çš„å›è°ƒå‡½æ•°</span>    <span class="token keyword">function</span> <span class="token function">callback</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token comment">// å…ˆå–æ¶ˆå‰é¢ä¸€æ¬¡çš„è®¢é˜…ï¼Œå†é‡æ–°è®¢é˜…</span>      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> callback<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment">// æŠŠä¸»é¢˜keyåŒ…è£…æˆcallbakcçš„å±æ€§ï¼Œè¿™æ ·çš„ç›®çš„æ˜¯å› ä¸ºå–æ¶ˆè®¢é˜…çš„æ—¶å€™å–æ¶ˆçš„æ˜¯è®¢é˜…çš„å›è°ƒå‡½æ•°ï¼Œä¹Ÿå°±æ˜¯callbackã€‚</span>    <span class="token comment">// è¿™å°±æ˜¯ä¸ºå•¥ä¸ç”¨this.remove(key,fn)</span>    <span class="token comment">// æ­¤æ—¶ä¼ åˆ°removeçš„æ•´ä¸ªcallbackå‡½æ•°ï¼ˆåŒ…æ‹¬fnå±æ€§çš„ï¼‰ã€‚å› ä¸ºthis.on(key,callback)æ‰è°ƒç”¨callbackå‡½æ•°ï¼ˆè¿™é‡Œä¼šæ¯”è¾ƒéš¾ç†è§£ï¼‰</span>    callback<span class="token punctuation">.</span>fn <span class="token operator">=</span> fn<span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> callback<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token function">cat</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"ä¸€èµ·å–µå–µå–µ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ["xxx","yyy"]</span><span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token function">dog</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"ä¸€èµ·æ±ªæ±ªæ±ª"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// å°±æ˜¯å»è®¢é˜…petä¸»é¢˜çš„äº‹ä»¶ï¼Œ</span>events<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">"pet"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"æ¥å—æ•°æ®"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>events<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">"pet"</span><span class="token punctuation">,</span> cat<span class="token punctuation">)</span><span class="token punctuation">;</span>events<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">"pet"</span><span class="token punctuation">,</span> dog<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// å–æ¶ˆdogçš„è®¢é˜… æ²¡æœ‰petä¸»é¢˜çš„è¯ï¼Œå°±æŠŠå¯¹åº”çš„å‡½æ•°å…¨éƒ¨æ¸…ç©ºæ‰(ç›¸å½“äºå–æ¶ˆäº†è¯¥ä¸»é¢˜æ‰€æœ‰çš„è®¢é˜…)</span>events<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">"pet"</span><span class="token punctuation">,</span> dog<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// å‘å¸ƒè¿™äº›äº‹ä»¶ä¹‹åå‘¢ï¼Œè®¢é˜…è€…å°±å¯ä»¥æ¥å—åˆ°æ–°å‘å¸ƒçš„ä¸œè¥¿å•¦,è¿™äº›æ–°çš„ä¸œè¥¿å‘¢å…¶å®å°±æ˜¯["xxx","yyy"]</span>events<span class="token punctuation">.</span><span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">"pet"</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">"xxx"</span><span class="token punctuation">,</span> <span class="token string">"yyy"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>events<span class="token punctuation">.</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">/*æ¥å—æ•°æ®[ 'xxx', 'yyy' ]ä¸€èµ·å–µå–µå–µ{ pet: [ [Function (anonymous)], [Function: cat] ] }*/</span></code></pre><blockquote><ol><li> åˆ›å»ºä¸€ä¸ªå­˜æ”¾è®¢é˜…è€…çš„å¯¹è±¡</li><li> <code>on</code>æ–¹æ³•ç”¨æ¥æŠŠå›è°ƒå‡½æ•° fn éƒ½åŠ åˆ°ç¼“å­˜åˆ—è¡¨ä¸­</li><li> <code>emit</code>æ–¹æ³•å–åˆ°<code>arguments</code>é‡Œç¬¬ä¸€ä¸ªå½“åš<code>key</code>ï¼Œæ ¹æ®<code>key</code>å€¼å»æ‰§è¡Œå¯¹åº”ç¼“å­˜åˆ—è¡¨ä¸­çš„å‡½æ•°</li><li> <code>remove</code>æ–¹æ³•å¯ä»¥æ ¹æ®<code>key</code>å€¼å–æ¶ˆè®¢é˜…</li></ol></blockquote>]]></content>
      
      
      <categories>
          
          <category> è®¾è®¡æ¨¡å¼ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è®¾è®¡æ¨¡å¼ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>el-scrollbaræ»šåŠ¨æ¡ç”¨æ³•</title>
      <link href="/2021/10/26/el-scrollbar-gun-dong-tiao-yong-fa/"/>
      <url>/2021/10/26/el-scrollbar-gun-dong-tiao-yong-fa/</url>
      
        <content type="html"><![CDATA[<h4 id="el-scrollbar-ç”¨æ³•"><a href="#el-scrollbar-ç”¨æ³•" class="headerlink" title="el-scrollbar ç”¨æ³•"></a>el-scrollbar ç”¨æ³•</h4><p>å®˜æ–¹æ–‡æ¡£æ²¡æœ‰å†™å‡ºæ¥ã€‚è®°å½•ä¸‹ï¼ï¼ï¼</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>list:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>    &lt;el-scrollbar      wrap-style="font-weight:bold" // è¿™ä¸ªè²Œä¼¼ä¸èµ·ä½œç”¨ï¼Ÿä¸€èˆ¬ä¸ç”¨      wrap-class="list" // å¢åŠ class      view-style="font-weight:bold;color:blue"// å¢åŠ è¡Œå†…æ ·å¼ï¼Œä¸€èˆ¬ä¸ç”¨      view-class="view-box" // å¢åŠ class      :native="false"    &gt;      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>value in num<span class="token punctuation">"</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>value<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>        {{ value }}      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-scrollbar</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>  name<span class="token operator">:</span> <span class="token string">"Home"</span><span class="token punctuation">,</span>  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token punctuation">{</span>      num<span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">;</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>scss<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css"><span class="token comment">/*å±•ç¤ºåˆ—è¡¨çš„åŒºåŸŸï¼Œè¶…è¿‡200pxå‡ºç°æ»šåŠ¨æ¡*/</span><span class="token selector">.list</span> <span class="token punctuation">{</span>  <span class="token property">max-height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span><span class="token punctuation">}</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span></code></pre><p><img src="https://cdn.jsdelivr.net/gh/JingWZeng/markdownImg/img/202110261939203.png" alt="image-20211026193925087"></p><p><img src="https://cdn.jsdelivr.net/gh/JingWZeng/markdownImg/img/202110261943517.png" alt="image-20211026194313480"></p><p><img src="https://cdn.jsdelivr.net/gh/JingWZeng/markdownImg/img/202110261944105.png" alt="image-20211026194459067"></p>]]></content>
      
      
      <categories>
          
          <category> æ»šåŠ¨æ¡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ»šåŠ¨æ¡ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NodeJSåŸºç¡€</title>
      <link href="/2021/10/25/nodejs-ji-chu/"/>
      <url>/2021/10/25/nodejs-ji-chu/</url>
      
        <content type="html"><![CDATA[<h4 id="ä»€ä¹ˆæ˜¯-NodeJS"><a href="#ä»€ä¹ˆæ˜¯-NodeJS" class="headerlink" title="ä»€ä¹ˆæ˜¯ NodeJS"></a>ä»€ä¹ˆæ˜¯ NodeJS</h4><p>JS æ˜¯è„šæœ¬è¯­è¨€ï¼Œè„šæœ¬è¯­è¨€éƒ½éœ€è¦ä¸€ä¸ªè§£æå™¨æ‰èƒ½è¿è¡Œã€‚å¯¹äºå†™åœ¨ HTML é¡µé¢é‡Œçš„ JSï¼Œæµè§ˆå™¨å……å½“äº†è§£æå™¨çš„è§’è‰²ã€‚è€Œå¯¹äºéœ€è¦ç‹¬ç«‹è¿è¡Œçš„ JSï¼ŒNodeJS å°±æ˜¯ä¸€ä¸ªè§£æå™¨ã€‚</p><p>æ¯ä¸€ç§è§£æå™¨éƒ½æ˜¯ä¸€ä¸ªè¿è¡Œç¯å¢ƒï¼Œä¸ä½†å…è®¸ JS å®šä¹‰å„ç§æ•°æ®ç»“æ„ï¼Œè¿›è¡Œå„ç§è®¡ç®—ï¼Œè¿˜å…è®¸ JS ä½¿ç”¨è¿è¡Œç¯å¢ƒæä¾›çš„å†…ç½®å¯¹è±¡å’Œæ–¹æ³•åšä¸€äº›äº‹æƒ…ã€‚ä¾‹å¦‚è¿è¡Œåœ¨æµè§ˆå™¨ä¸­çš„ JS çš„ç”¨é€”æ˜¯æ“ä½œ DOMï¼Œæµè§ˆå™¨å°±æä¾›äº†<code>document</code>ä¹‹ç±»çš„å†…ç½®å¯¹è±¡ã€‚è€Œè¿è¡Œåœ¨ NodeJS ä¸­çš„ JS çš„ç”¨é€”æ˜¯æ“ä½œç£ç›˜æ–‡ä»¶æˆ–æ­å»º HTTP æœåŠ¡å™¨ï¼ŒNodeJS å°±ç›¸åº”æä¾›äº†<code>fs</code>ã€<code>http</code>ç­‰å†…ç½®å¯¹è±¡ã€‚</p><h4 id="æ¨¡å—"><a href="#æ¨¡å—" class="headerlink" title="æ¨¡å—"></a>æ¨¡å—</h4><p>NodeJS éµå¾ªçš„æ¨¡å—åŒ–è§„èŒƒæ˜¯<code>commonJS</code>ã€‚å…¶åŸç†åŠä½¿ç”¨è§„åˆ™è§ xxxã€‚<code>NodeJS</code>ä¸»æ¨¡å—å°±æ˜¯é€šè¿‡å‘½ä»¤è¡Œå‚æ•°ä¼ é€’ç»™<code>NodeJS</code>å¯åŠ¨ç¨‹åºçš„æ¨¡å—ã€‚ä¸€ä¸ªæ¨¡å—ä¸­çš„<code>JS</code>ä»£ç ä»…åœ¨æ¨¡å—ç¬¬ä¸€æ¬¡è¢«ä½¿ç”¨æ—¶æ‰§è¡Œä¸€æ¬¡ï¼Œå¹¶åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­åˆå§‹åŒ–æ¨¡å—çš„å¯¼å‡ºå¯¹è±¡ã€‚ä¹‹åï¼Œç¼“å­˜èµ·æ¥çš„å¯¼å‡ºå¯¹è±¡è¢«é‡å¤åˆ©ç”¨ã€‚ä¸€ä¸ª<code>JS</code>æ¨¡å—é‡Œé¢çš„å˜é‡å› ä¸ºä¼šè¢«ç¼“å­˜ï¼Œæ‰€ä»¥åœ¨å¤šå¤„è°ƒç”¨çš„åœ°æ–¹å€¼æ˜¯ä¼šäº’ç›¸å½±å“çš„ã€‚</p><h4 id="æ¨¡å—è·¯å¾„è§£æè§„åˆ™"><a href="#æ¨¡å—è·¯å¾„è§£æè§„åˆ™" class="headerlink" title="æ¨¡å—è·¯å¾„è§£æè§„åˆ™"></a>æ¨¡å—è·¯å¾„è§£æè§„åˆ™</h4><p>æŒ‰ç…§ä»¥ä¸‹è§„åˆ™è§£æè·¯å¾„ï¼Œç›´åˆ°æ‰¾åˆ°æ¨¡å—ä½ç½®</p><ol><li><p>å†…ç½®æ¨¡å—</p><p>å¦‚æœä¼ é€’ç»™<code>require</code>å‡½æ•°çš„æ˜¯ NodeJS å†…ç½®æ¨¡å—åç§°ï¼Œä¸åšè·¯å¾„è§£æï¼Œç›´æ¥è¿”å›å†…éƒ¨æ¨¡å—çš„å¯¼å‡ºå¯¹è±¡ï¼Œä¾‹å¦‚<code>require('fs')</code>ã€‚</p></li><li><p>node_modules ç›®å½•</p><p>NodeJS å®šä¹‰äº†ä¸€ä¸ªç‰¹æ®Šçš„<code>node_modules</code>ç›®å½•ç”¨äºå­˜æ”¾æ¨¡å—ã€‚ä¾‹å¦‚æŸä¸ªæ¨¡å—çš„ç»å¯¹è·¯å¾„æ˜¯<code>/home/user/hello.js</code>ï¼Œåœ¨è¯¥æ¨¡å—ä¸­ä½¿ç”¨<code>require('foo/bar')</code>æ–¹å¼åŠ è½½æ¨¡å—æ—¶ï¼Œåˆ™ NodeJS ä¾æ¬¡å°è¯•ä½¿ç”¨ä»¥ä¸‹è·¯å¾„ã€‚</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token operator">/</span>home<span class="token operator">/</span>user<span class="token operator">/</span>node_modules<span class="token operator">/</span>foo<span class="token operator">/</span>bar<span class="token operator">/</span>home<span class="token operator">/</span>node_modules<span class="token operator">/</span>foo<span class="token operator">/</span>bar<span class="token operator">/</span>node_modules<span class="token operator">/</span>foo<span class="token operator">/</span>bar</code></pre></li><li><p>NODE_PATH ç¯å¢ƒå˜é‡</p><p>ä¸ PATH ç¯å¢ƒå˜é‡ç±»ä¼¼ï¼ŒNodeJS å…è®¸é€šè¿‡ NODE_PATH ç¯å¢ƒå˜é‡æ¥æŒ‡å®šé¢å¤–çš„æ¨¡å—æœç´¢è·¯å¾„ã€‚NODE_PATH ç¯å¢ƒå˜é‡ä¸­åŒ…å«ä¸€åˆ°å¤šä¸ªç›®å½•è·¯å¾„ï¼Œè·¯å¾„ä¹‹é—´åœ¨ Linux ä¸‹ä½¿ç”¨<code>:</code>åˆ†éš”ï¼Œåœ¨ Windows ä¸‹ä½¿ç”¨<code>;</code>åˆ†éš”ã€‚ä¾‹å¦‚å®šä¹‰äº†ä»¥ä¸‹ NODE_PATH ç¯å¢ƒå˜é‡ï¼š</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token constant">NODE_PATH</span><span class="token operator">=</span><span class="token operator">/</span>home<span class="token operator">/</span>user<span class="token operator">/</span>lib<span class="token punctuation">;</span><span class="token operator">/</span>home<span class="token operator">/</span>lib</code></pre><p>å½“ä½¿ç”¨<code>require('foo/bar')</code>çš„æ–¹å¼åŠ è½½æ¨¡å—æ—¶ï¼Œåˆ™ NodeJS ä¾æ¬¡å°è¯•ä»¥ä¸‹è·¯å¾„ã€‚</p><pre class="language-none"><code class="language-none">/home/user/lib/foo/bar/home/lib/foo/bar</code></pre></li></ol><h4 id="åŒ…"><a href="#åŒ…" class="headerlink" title="åŒ…"></a>åŒ…</h4><p>æˆ‘ä»¬åˆ©ç”¨<code>npm install [xxx]</code>å®‰è£…çš„å°±æ˜¯åŒ…ï¼Œå…¶å®å°±æ˜¯å¤šä¸ªæ¨¡å—çš„é›†åˆã€‚å½“æˆ‘ä»¬å¼•å…¥åŒ…çš„ä½¿ç”¨ï¼Œåˆ©ç”¨<code>require</code>è¿›è¡Œå¼•å…¥ã€‚æ¯ä¸€åŒ…éƒ½æ˜¯æœ‰ä¸€ä¸ªå…¥å£æ–‡ä»¶çš„ï¼Œå¦‚æœæ¨¡å—çš„æ–‡ä»¶åå­—æ˜¯<code>index.js</code>çš„è¯ï¼Œå¼•å…¥çš„æ—¶å€™å°±å¯ä»¥çœç•¥æ‰<code>index.js</code>ï¼ˆè¿™ä¸ªå’Œ ES6 çš„æ¨¡å—è§„åˆ™æ˜¯ä¸€æ ·çš„ï¼‰ã€‚<code>npm</code>å°±æ˜¯ä¸€ç§åŒ…ç®¡ç†å·¥å…·ã€‚å…¶æ¬¡æ¯”è¾ƒå¸¸ç”¨çš„è¿˜æœ‰<code>yarn</code>ã€‚éœ€è¦æ³¨æ„çš„æ˜¯<code>npm install xxx --S</code>å®‰è£…çš„åŒ…æ˜¯ç”¨ä½œç”Ÿäº§ä¾èµ–ï¼Œ<code>npm install xxx --D</code>å®‰è£…çš„åŒ…æ˜¯ç”¨ä½œå¼€å‘ä¾èµ–ã€‚(è®°å¿†ï¼šâ€“Sï¼ˆä¿å­˜ï¼‰â€“D(dev å¼€å‘))ã€‚</p><h4 id="ğŸ˜-debug-çš„ä½¿ç”¨"><a href="#ğŸ˜-debug-çš„ä½¿ç”¨" class="headerlink" title="ğŸ˜ debug çš„ä½¿ç”¨"></a>ğŸ˜ debug çš„ä½¿ç”¨</h4><p><img src="https://cdn.jsdelivr.net/gh/JingWZeng/markdownImg/img/202110271639084.png" alt="image-20211027163957024"></p><p>åœ¨è°ƒè¯•çš„æ—¶å€™å‘¢ã€‚ç‰¹åˆ«å®¹æ˜“è¿›å…¥ç¬¬ä¸‰æ–¹åº“ä¸­ã€‚æ¯”å¦‚<code>JQuery</code>ã€‚è¿™ä¸ªæ—¶å€™å¦‚æœä½ å·²ç»è¿›å…¥äº†ï¼Œé‚£å°±åˆ©ç”¨ã€å•æ­¥è·³å‡ºã€‘çš„æ–¹æ³•ï¼Œè·³å‡ºæ¥ã€‚å¦‚æœä½ è¿˜æ²¡æœ‰è¿›å…¥ï¼Œé‚£å°±åˆ©ç”¨ã€å•æ­¥è·³è¿‡ã€‘çš„æ–¹æ³•ç›´æ¥æ‰§è¡Œè¯¥å‡½æ•°ï¼Œè·³åˆ°è¯¥å‡½æ•°çš„ä¸‹ä¸€æ¡è¯­å¥ã€‚</p><h4 id="å¾ªç¯ä¾èµ–çš„è§£å†³"><a href="#å¾ªç¯ä¾èµ–çš„è§£å†³" class="headerlink" title="å¾ªç¯ä¾èµ–çš„è§£å†³"></a>å¾ªç¯ä¾èµ–çš„è§£å†³</h4><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// a.js</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"a å¼€å§‹"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>exports<span class="token punctuation">.</span>done <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"./b.js"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"åœ¨ a ä¸­ï¼Œb.done = %j"</span><span class="token punctuation">,</span> b<span class="token punctuation">.</span>done<span class="token punctuation">)</span><span class="token punctuation">;</span>exports<span class="token punctuation">.</span>done <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"a ç»“æŸ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">//b.js</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"b å¼€å§‹"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>exports<span class="token punctuation">.</span>done <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"./a.js"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"åœ¨ b ä¸­ï¼Œa.done = %j"</span><span class="token punctuation">,</span> a<span class="token punctuation">.</span>done<span class="token punctuation">)</span><span class="token punctuation">;</span>exports<span class="token punctuation">.</span>done <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"b ç»“æŸ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">//main.js</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"mainå¼€å§‹"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"./a"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"./b"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"åœ¨ main ä¸­ï¼Œa.done=%jï¼Œb.done=%j"</span><span class="token punctuation">,</span> a<span class="token punctuation">.</span>done<span class="token punctuation">,</span> b<span class="token punctuation">.</span>done<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><img src="https://cdn.jsdelivr.net/gh/JingWZeng/markdownImg/img/202110280946148.png" alt="image-20211028094650069"></p><p>å¯¹æ¯”è¾“å‡ºï¼šå½“<code>main.js</code>åŠ è½½<code>a.js</code>çš„æ—¶ï¼Œ<code>b.js</code>åˆåŠ è½½äº†<code>a.js</code>ã€‚è¿™ä¸ªæ—¶å€™ï¼Œ<code>b.js</code>ä¼šå»åŠ è½½<code>a.js</code>ï¼Œä¸ºäº†é˜²æ­¢æ— é™çš„å¾ªç¯ã€‚<code>nodeJS</code>æ˜¯è¿™æ ·å¹²çš„ï¼Œæ­¤æ—¶è¿”å›ç»™<code>b.js</code>çš„<code>a.js</code>æ˜¯ä¸€ä¸ªæ²¡æœ‰å®Œæˆæ‰§è¡Œæµç¨‹çš„<code>exports</code>å¯¹è±¡çš„å‰¯æœ¬ã€‚ä¹Ÿå°±æ˜¯<code>a.js</code>æ‰§è¡Œåˆ°<code>exports.done = false</code>ä¸ºæ­¢çš„ä¸€ä¸ªå‰¯æœ¬ã€‚ä¹‹åç­‰<code>b.js</code>åŠ è½½å®Œæˆåï¼Œå¹¶å°†è‡ªå·±çš„<code>exports</code>å¯¹è±¡ç»™<code>a.js</code>ã€‚</p><h4 id="module-exports-å’Œ-exports-çš„åŒºåˆ«"><a href="#module-exports-å’Œ-exports-çš„åŒºåˆ«" class="headerlink" title="module.exports å’Œ exports çš„åŒºåˆ«"></a>module.exports å’Œ exports çš„åŒºåˆ«</h4><p>å®ƒä»¬ä¸¤ä¸ªæ˜¯ç­‰ä»·çš„ï¼Œ<code>exports</code>æ˜¯<code>module.exports</code>çš„ç®€å†™ã€‚</p><p><strong>ä½†æ˜¯</strong>ï¼Œä½¿ç”¨çš„æ—¶å€™éœ€è¦æ³¨æ„</p><pre class="language-js" data-language="js"><code class="language-js">exports <span class="token operator">=</span> <span class="token punctuation">{</span>  a<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>exports<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// {a:3}</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>module<span class="token punctuation">.</span>exports<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// {}</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>exports <span class="token operator">===</span> module<span class="token punctuation">.</span>exports<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span></code></pre><p>å› ä¸º<code>exports={a:3}</code>ï¼Œ<code>exports</code>è¢«èµ‹å€¼äº†ï¼Œè¿™æ ·çš„è¯å°±ä¼šæ–­å¼€å’Œ<code>module.exports</code>ä¹‹é—´çš„å¼•ç”¨å•¦ã€‚æ­¤æ—¶å®ƒä»¬å°±ä¸æ˜¯åŒä¸€ä¸ªå¯¹è±¡äº†ã€‚æ‰€ä»¥æ­¤æ—¶æ²¡åŠæ³•å†ç”¨<code>module.exports</code>æ¥å¯¼å‡ºã€‚åŒæ ·çš„ç»™ <code>module.exports</code> é‡æ–°èµ‹å€¼ä¹Ÿä¼šæ–­å¼€å®ƒä»¬ä¹‹é—´çš„å¼•ç”¨ã€‚</p><p>æ‰€ä»¥ä½¿ç”¨çš„æ—¶å€™å¯ä»¥éµå¾ªä»¥ä¸‹åŸåˆ™ï¼š<strong>å› ä¸º<code>require</code>å¾—åˆ°æ˜¯<code>module.exports</code>å¯¼å‡ºçš„å€¼</strong></p><ul><li>å¯¼å‡ºå¤šä¸ªæˆå‘˜ç”¨<code>module.exports</code>å’Œ<code>exports</code>éƒ½å¯ä»¥</li><li>å¯¼å‡ºå•ä¸ªæˆå‘˜åªèƒ½ç”¨<code>module.exports</code>(å› ä¸ºæ­¤æ—¶ç”¨<code>exports</code>çš„è¯ï¼Œ<code>module.export</code>çš„å€¼ä¸º<code>{}</code>)</li></ul><blockquote><p>ä¸å‡ºé”™ï¼šä¸€ç›´ç”¨<code>module.export</code>å°±å¯ä»¥å•¦ï¼ï¼ï¼</p></blockquote><h4 id="ç®€å•éé˜»å¡ä½“éªŒ"><a href="#ç®€å•éé˜»å¡ä½“éªŒ" class="headerlink" title="ç®€å•éé˜»å¡ä½“éªŒ"></a>ç®€å•éé˜»å¡ä½“éªŒ</h4><pre class="language-none"><code class="language-none">//syl.txt helloï¼ŒZeng!</code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"fs"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span><span class="token string">"syl.txt"</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">return</span> console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"ç¨‹åºæ‰§è¡Œå®Œæ¯•!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// ç¨‹åºæ‰§è¡Œå®Œæ¯•</span><span class="token comment">// hello,Zengï¼</span></code></pre><p>ä¸Šé¢å°±æ˜¯éé˜»å¡ï¼Œå…¶å®å°±æ˜¯å¼‚æ­¥ã€‚ç­‰åˆ°è¯»å–å®Œæ¯•æ‰è¾“å‡º<code>syl.txt</code>é‡Œé¢çš„å†…å®¹ï¼Œä¸å½±å“åŒæ­¥ä»£ç çš„æ‰§è¡Œã€‚å…¶å®ï¼Œ<code>node</code>ä¸­ç”¨åˆ°çš„å›è°ƒåŸºæœ¬æ˜¯åŒ¿åå‡½æ•°ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> NodeJS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NodeJS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>çˆ¶å­ç»„ä»¶åŒå‘ç»‘å®š</title>
      <link href="/2021/10/25/fu-zi-zu-jian-shuang-xiang-bang-ding/"/>
      <url>/2021/10/25/fu-zi-zu-jian-shuang-xiang-bang-ding/</url>
      
        <content type="html"><![CDATA[<h2 id="ç»„ä»¶ä¹‹é—´çš„åŒå‘ç»‘å®š"><a href="#ç»„ä»¶ä¹‹é—´çš„åŒå‘ç»‘å®š" class="headerlink" title="ç»„ä»¶ä¹‹é—´çš„åŒå‘ç»‘å®š"></a>ç»„ä»¶ä¹‹é—´çš„åŒå‘ç»‘å®š</h2><p>æœ€è¿‘åœ¨å­¦ä¹ <code>electron+vue</code>ä»¿æœ‰é“äº‘ç¬”è®°<code>markdown</code>åŒºåŸŸçš„ä»£ç ä¸­ï¼Œé‡åˆ°çˆ¶ç»„ä»¶ä¸å­ç»„ä»¶æ•°æ®éœ€è¦åŒæ­¥å˜åŒ–çš„é—®é¢˜ã€‚</p><p>ï¼ˆå¯ä»¥åˆ©ç”¨ç»„ä»¶é—´çš„<code>v-model</code>æˆ–è€…<code>.sync</code>ä¿®é¥°ç¬¦ï¼‰æ•…åšæ­¤æ€»ç»“ã€‚</p><h3 id="åˆ©ç”¨-v-model"><a href="#åˆ©ç”¨-v-model" class="headerlink" title="åˆ©ç”¨ v-model"></a>åˆ©ç”¨ v-model</h3><p>é€šå¸¸å­ç»„ä»¶æ›´æ–°æŸä¸ªå˜é‡å¹¶éœ€è¦å‘ŠçŸ¥çˆ¶ç»„ä»¶æ—¶ï¼Œéœ€è¦å­ç»„ä»¶<code>$emit</code>è§¦å‘äº‹ä»¶ï¼Œç„¶åçˆ¶ç»„ä»¶<code>$on</code>ç›‘å¬è¯¥äº‹ä»¶å†å»æ”¹å˜å€¼ã€‚å¯ä»¥åˆ©ç”¨<code>v-model</code>çš„ä½¿ç”¨åŸç†æ¥ä½¿ç»„ä»¶ä¹‹é—´åˆ©ç”¨<code>v-model</code>è¿›è¡ŒåŒå‘ç»‘å®šã€‚</p><blockquote><ol><li><p> çˆ¶ç»„ä»¶é€šè¿‡<code>v-model</code>ç»‘å®šä¸€ä¸ªå˜é‡ä¼ ç»™å­ç»„ä»¶</p></li><li><p> å­ç»„ä»¶é€šè¿‡<code>props['value']</code>æ¥æ”¶ã€‚æ³¨æ„æ˜¯<code>value</code></p></li><li><p> å­ç»„ä»¶é€šè¿‡<code>$emit('input',XX)</code>å»æ”¹å˜çˆ¶ç»„ä»¶ä¸­<code>v-model</code>ç»‘å®šçš„å˜é‡ã€‚æ³¨æ„æ˜¯<code>input</code>äº‹ä»¶</p></li></ol></blockquote><h4 id="v-model-åŸç†"><a href="#v-model-åŸç†" class="headerlink" title="v-model åŸç†"></a>v-model åŸç†</h4><p><code>Vue</code>æ ¹æ®å…ƒç´ å†³å®šå¦‚ä½•ç›‘å¬å’Œå¤„ç†æ•°æ®ã€‚å¯¹äº<code>input</code>å…ƒç´ ï¼Œæ‚¨å¯ä»¥è¿™æ ·ä½¿ç”¨<code>v-model</code>ï¼š</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token operator">&lt;</span>input v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">"email"</span> <span class="token operator">/</span><span class="token operator">&gt;</span></code></pre><p><code>v-model</code> ç¿»è¯‘æˆè¿™æ ·ï¼š</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token operator">&lt;</span>input <span class="token operator">:</span>value<span class="token operator">=</span><span class="token string">"email"</span> @input<span class="token operator">=</span><span class="token string">"(e) =&gt; (email = e.target.value)"</span> <span class="token operator">/</span><span class="token operator">&gt;</span></code></pre><h4 id="v-model-å®ç°æ–¹æ¡ˆ"><a href="#v-model-å®ç°æ–¹æ¡ˆ" class="headerlink" title="v-model å®ç°æ–¹æ¡ˆ"></a>v-model å®ç°æ–¹æ¡ˆ</h4><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// å­ç»„ä»¶</span><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>  <span class="token operator">&lt;</span>input @input<span class="token operator">=</span><span class="token string">"handleInput"</span> <span class="token operator">/</span><span class="token operator">&gt;</span> <span class="token comment">//</span>  è¿™ä¸ªäº‹ä»¶ä¸ä¸€å®šæ˜¯inputäº‹ä»¶ï¼Œåªè¦å¯ä»¥æ”¹å˜contentå€¼çš„äº‹ä»¶å°±å¯ä»¥<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span><span class="token operator">&lt;</span>script<span class="token operator">&gt;</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>  nameï¼š<span class="token string">'BasicInput'</span><span class="token punctuation">,</span>  prop<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'value'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token function">data</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token punctuation">{</span>      content<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>value    <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  methods<span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token function">handleInput</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>content<span class="token punctuation">)</span> <span class="token comment">// è¿™ä¸ªäº‹ä»¶åå­—ä¸€å®šå¾—å¤±inputäº‹ä»¶</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// çˆ¶ç»„ä»¶</span><span class="token operator">&lt;</span>basic<span class="token operator">-</span>input v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">"email"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>basic<span class="token operator">-</span>input<span class="token operator">&gt;</span></code></pre><p>å®ç°æ–¹æ¡ˆå¦‚ä¸Šã€‚</p><h4 id="å®šåˆ¶-v-model-çš„-prop-å’Œ-event"><a href="#å®šåˆ¶-v-model-çš„-prop-å’Œ-event" class="headerlink" title="å®šåˆ¶ v-model çš„ prop å’Œ event"></a>å®šåˆ¶ v-model çš„ prop å’Œ event</h4><p>å› ä¸ºæœ‰æ—¶å€™<code>value</code>æˆ–è€…<code>input</code>éœ€è¦ä½œå…¶ä»–çš„ç”¨å¤„ï¼Œè¿™ä¸ªæ—¶å€™å°±å¯ä»¥å®šåˆ¶å…¶ä»–å˜é‡æ¥åšå•¦ã€‚</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// å­ç»„ä»¶</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>  model<span class="token operator">:</span> <span class="token punctuation">{</span>    prop<span class="token operator">:</span> <span class="token string">"hidden"</span><span class="token punctuation">,</span>    event<span class="token operator">:</span> <span class="token string">"blur"</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  props<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"hidden"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">//æ­¤å¤„ä¸èƒ½æ¼æ‰</span>  methods<span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token function">handleInput</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">"blur"</span><span class="token punctuation">,</span> val<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// çˆ¶ç»„ä»¶</span><span class="token operator">&lt;</span>basic<span class="token operator">-</span>input v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">"email"</span> <span class="token operator">/</span><span class="token operator">&gt;</span></code></pre><p>vue è‡ªåŠ¨å°†å…¶è½¬æ¢ä¸ºï¼š</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token operator">&lt;</span>basic<span class="token operator">-</span>input <span class="token operator">:</span>hidden<span class="token operator">=</span><span class="token string">"email"</span> @bulr<span class="token operator">=</span><span class="token string">"(e) =&gt; (email = e.target.value)"</span> <span class="token operator">/</span><span class="token operator">&gt;</span></code></pre><h3 id="v-model-ä¸-sync-åŒºåˆ«"><a href="#v-model-ä¸-sync-åŒºåˆ«" class="headerlink" title="v-model ä¸.sync åŒºåˆ«"></a>v-model ä¸.sync åŒºåˆ«</h3><h4 id="v-model-æœ¬è´¨"><a href="#v-model-æœ¬è´¨" class="headerlink" title="v-model æœ¬è´¨"></a>v-model æœ¬è´¨</h4><pre class="language-js" data-language="js"><code class="language-js"><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>v<span class="token operator">-</span>modelå†™æ³•<span class="token operator">--</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>my<span class="token operator">-</span>component type<span class="token operator">=</span><span class="token string">"text"</span> v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">"value"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>å±•å¼€è¯­æ³•ç³–åçš„å†™æ³•<span class="token operator">--</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>my<span class="token operator">-</span>component type<span class="token operator">=</span><span class="token string">"text"</span>  <span class="token operator">:</span>value<span class="token operator">=</span><span class="token string">"value"</span>  @input<span class="token operator">=</span><span class="token string">"value = $event.target.value"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>é»˜è®¤é’ˆå¯¹åŸç”Ÿç»„ä»¶inputäº‹ä»¶ï¼Œä½†æ˜¯å¦‚æœå­ç»„ä»¶å®šä¹‰äº†é’ˆå¯¹äº‹ä»¶model<span class="token operator">:</span> <span class="token punctuation">{</span>        prop<span class="token operator">:</span> <span class="token string">"value"</span><span class="token punctuation">,</span>        event<span class="token operator">:</span> <span class="token string">"update"</span><span class="token punctuation">}</span><span class="token punctuation">,</span>åˆ™ç¼–è¯‘ä¸º<span class="token operator">--</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>my<span class="token operator">-</span>component type<span class="token operator">=</span><span class="token string">"text"</span>  <span class="token operator">:</span>value<span class="token operator">=</span><span class="token string">"value"</span>  @update<span class="token operator">=</span><span class="token string">"(val) =&gt; value = val"</span><span class="token operator">&gt;</span></code></pre><h4 id="sync-æœ¬è´¨"><a href="#sync-æœ¬è´¨" class="headerlink" title=".sync æœ¬è´¨"></a>.sync æœ¬è´¨</h4><pre class="language-js" data-language="js"><code class="language-js"><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>è¯­æ³•ç³–<span class="token punctuation">.</span>sync<span class="token operator">--</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>my<span class="token operator">-</span>component <span class="token operator">:</span>value<span class="token punctuation">.</span>sync<span class="token operator">=</span><span class="token string">"value"</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>ç¼–è¯‘åçš„å†™æ³•<span class="token operator">--</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>my<span class="token operator">-</span>component  <span class="token operator">:</span>value<span class="token operator">=</span><span class="token string">"msg"</span>  @update<span class="token operator">:</span>value<span class="token operator">=</span><span class="token string">"(val) =&gt; value = val"</span><span class="token operator">&gt;</span></code></pre><blockquote><p>æ€»ç»“ï¼šä¸¤è€…æœ¬è´¨æ˜¯ä¸€æ ·çš„ï¼Œå¹¶æ²¡æœ‰ä»»ä½•åŒºåˆ«ï¼š<code>"ç›‘å¬ä¸€ä¸ªè§¦å‘äº‹ä»¶"="(val) =&gt; value = val"</code></p></blockquote><h4 id="åŒºåˆ«"><a href="#åŒºåˆ«" class="headerlink" title="åŒºåˆ«"></a>åŒºåˆ«</h4><ul><li>åªä¸è¿‡<code>v-model</code>é»˜è®¤å¯¹åº”çš„æ˜¯<code>input</code>æˆ–è€…<code>textarea</code>ç­‰ç»„ä»¶çš„<code>input</code>äº‹ä»¶ï¼Œå¦‚æœåœ¨å­ç»„ä»¶åˆ©ç”¨<code>update</code>æ›¿æ¢è¿™ä¸ª<code>input</code>äº‹ä»¶ï¼Œå…¶æœ¬è´¨å’Œ<code>.sync</code>ä¿®é¥°ç¬¦ä¸€æ¨¡ä¸€æ ·ã€‚æ¯”è¾ƒå•ä¸€ï¼Œä¸èƒ½æœ‰å¤šä¸ªã€‚</li></ul><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// å­ç»„ä»¶å¯ä»¥ç”¨è‡ªå®šä¹‰äº‹ä»¶ï¼Œæ¥æ›¿æ¢v-modelé»˜è®¤å¯¹åº”çš„åŸç”Ÿinputäº‹ä»¶ï¼Œåªä¸è¿‡æˆ‘ä»¬éœ€è¦åœ¨å­ç»„ä»¶æ‰‹åŠ¨ $emit</span>model<span class="token operator">:</span> <span class="token punctuation">{</span>        prop<span class="token operator">:</span> <span class="token string">"value"</span><span class="token punctuation">,</span>        event<span class="token operator">:</span> <span class="token string">"update"</span><span class="token punctuation">}</span><span class="token punctuation">,</span></code></pre><ul><li>ä¸€ä¸ªç»„ä»¶å¯ä»¥å¤šä¸ªå±æ€§ç”¨<code>.sync</code>ä¿®é¥°ç¬¦ï¼Œå¯ä»¥åŒæ—¶â€åŒå‘ç»‘å®šå¤šä¸ª<code>prop</code>ï¼Œè€Œå¹¶ä¸åƒ<code>v-model</code>é‚£æ ·ï¼Œä¸€ä¸ªç»„ä»¶åªèƒ½æœ‰ä¸€ä¸ªã€‚</li></ul>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
          <category> Vue2 </category>
          
          <category> ç»„ä»¶åŒå‘ç»‘å®š </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å‰ç«¯ </tag>
            
            <tag> Vue2 </tag>
            
            <tag> ç»„ä»¶åŒå‘ç»‘å®š </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Proxyå’ŒReflect</title>
      <link href="/2021/10/21/proxy-he-reflect/"/>
      <url>/2021/10/21/proxy-he-reflect/</url>
      
        <content type="html"><![CDATA[<h1 id="Proxy-å’Œ-Reflect"><a href="#Proxy-å’Œ-Reflect" class="headerlink" title="Proxy å’Œ Reflect"></a>Proxy å’Œ Reflect</h1><blockquote><p>è½¬è½½äº<a href="https://juejin.cn/post/6844904090116292616#heading-0">Proxy å’Œ Reflect</a></p></blockquote><p>ä¸€ä¸ª <code>Proxy</code> å¯¹è±¡åŒ…è£…å¦ä¸€ä¸ªå¯¹è±¡å¹¶æ‹¦æˆªè¯¸å¦‚è¯»å–/å†™å…¥å±æ€§å’Œå…¶ä»–æ“ä½œï¼Œå¯ä»¥é€‰æ‹©è‡ªè¡Œå¤„ç†å®ƒä»¬ï¼Œæˆ–è€…é€æ˜åœ°å…è®¸è¯¥å¯¹è±¡å¤„ç†å®ƒä»¬ã€‚</p><p>Proxy ç”¨äºè®¸å¤šåº“å’ŒæŸäº›æµè§ˆå™¨æ¡†æ¶ã€‚åœ¨æœ¬ç« ä¸­ï¼Œæˆ‘ä»¬å°†çœ‹åˆ°è®¸å¤šå®é™…åº”ç”¨ã€‚</p><p>è¯­æ³•ï¼š</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> proxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> handler<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><ul><li><code>target</code> â€”â€” æ˜¯è¦åŒ…è£…çš„å¯¹è±¡ï¼Œå¯ä»¥æ˜¯ä»»ä½•ä¸œè¥¿ï¼ŒåŒ…æ‹¬å‡½æ•°ã€‚</li><li><code>handler</code> â€”â€” ä»£ç†é…ç½®ï¼šå¸¦æœ‰â€œé’©å­â€ï¼ˆâ€œtrapsâ€ï¼Œå³æ‹¦æˆªæ“ä½œçš„æ–¹æ³•ï¼‰çš„å¯¹è±¡ã€‚æ¯”å¦‚ <code>get</code> é’©å­ç”¨äºè¯»å– <code>target</code> å±æ€§ï¼Œ<code>set</code> é’©å­å†™å…¥ <code>target</code> å±æ€§ç­‰ç­‰ã€‚</li></ul><p>å¯¹ <code>proxy</code> è¿›è¡Œæ“ä½œï¼Œå¦‚æœåœ¨ <code>handler</code> ä¸­å­˜åœ¨ç›¸åº”çš„é’©å­ï¼Œåˆ™å®ƒå°†è¿è¡Œï¼Œå¹¶ä¸” Proxy æœ‰æœºä¼šå¯¹å…¶è¿›è¡Œå¤„ç†ï¼Œå¦åˆ™å°†ç›´æ¥å¯¹ target è¿›è¡Œå¤„ç†ã€‚</p><p>é¦–å…ˆï¼Œè®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæ²¡æœ‰ä»»ä½•é’©å­çš„ä»£ç†ï¼š</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> target <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">let</span> proxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ç©ºçš„handlerå¯¹è±¡</span>proxy<span class="token punctuation">.</span>test <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">// å†™å…¥ Proxy å¯¹è±¡ (1)</span><span class="token function">alert</span><span class="token punctuation">(</span>target<span class="token punctuation">.</span>test<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¿”å› 5ï¼Œtestå±æ€§å‡ºç°åœ¨äº† target ä¸Šï¼</span><span class="token function">alert</span><span class="token punctuation">(</span>proxy<span class="token punctuation">.</span>test<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¿˜æ˜¯ 5ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä» proxy å¯¹è±¡è¯»å–å®ƒ (2)</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">in</span> proxy<span class="token punctuation">)</span> <span class="token function">alert</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¿”å› testï¼Œè¿­ä»£ä¹Ÿæ­£å¸¸å·¥ä½œï¼ (3)</span></code></pre><p>ç”±äºæ²¡æœ‰é’©å­ï¼Œæ‰€æœ‰å¯¹ <code>proxy</code> çš„æ“ä½œéƒ½ç›´æ¥è½¬å‘ç»™ <code>target</code>ã€‚</p><ol><li> å†™å…¥æ“ä½œ <code>proxy.test=</code> ä¼šå°†å€¼å†™å…¥ <code>target</code>ã€‚</li><li> è¯»å–æ“ä½œ <code>proxy.test</code> ä¼šä» <code>target</code> è¿”å›å¯¹åº”çš„å€¼ã€‚</li><li> è¿­ä»£ <code>proxy</code> ä¼šä» <code>target</code> è¿”å›å¯¹åº”çš„å€¼ã€‚</li></ol><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œæ²¡æœ‰ä»»ä½•é’©å­ï¼Œ<code>proxy</code> æ˜¯ä¸€ä¸ª <code>target</code> çš„é€æ˜åŒ…è£….</p><p><img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2020/3/14/170d948bfea2c89e~tplv-t2oaga2asx-watermark.awebp"></p><p><code>Proxy</code> æ˜¯ä¸€ç§ç‰¹æ®Šçš„â€œå¥‡å¼‚å¯¹è±¡â€ã€‚å®ƒæ²¡æœ‰è‡ªå·±çš„å±æ€§ã€‚å¦‚æœ <code>handler</code> ä¸ºç©ºï¼Œåˆ™é€æ˜åœ°å°†æ“ä½œè½¬å‘ç»™ <code>target</code>ã€‚</p><p>è¦æ¿€æ´»æ›´å¤šåŠŸèƒ½ï¼Œè®©æˆ‘ä»¬æ·»åŠ é’©å­ã€‚</p><p>æˆ‘ä»¬å¯ä»¥ç”¨å®ƒä»¬æ‹¦æˆªä»€ä¹ˆï¼Ÿ</p><p>å¯¹äºå¯¹è±¡çš„å¤§å¤šæ•°æ“ä½œï¼ŒJavaScript è§„èŒƒä¸­éƒ½æœ‰ä¸€ä¸ªæ‰€è°“çš„â€œå†…éƒ¨æ–¹æ³•â€ï¼Œå®ƒæè¿°äº†æœ€åº•å±‚çš„å·¥ä½œæ–¹å¼ã€‚ ä¾‹å¦‚ <code>[[Get]]</code>ï¼Œç”¨äºè¯»å–å±æ€§çš„å†…éƒ¨æ–¹æ³•ï¼Œ <code>[[Set]]</code>ï¼Œç”¨äºå†™å…¥å±æ€§çš„å†…éƒ¨æ–¹æ³•ï¼Œç­‰ç­‰ã€‚è¿™äº›æ–¹æ³•ä»…åœ¨è§„èŒƒä¸­ä½¿ç”¨ï¼Œæˆ‘ä»¬ä¸èƒ½ç›´æ¥é€šè¿‡æ–¹æ³•åè°ƒç”¨å®ƒä»¬ã€‚</p><p>Proxy é’©å­ä¼šæ‹¦æˆªè¿™äº›æ–¹æ³•çš„è°ƒç”¨ã€‚å®ƒä»¬åœ¨ä¸‹è¡¨ä¸­åˆ—å‡ºã€‚</p><p>å¯¹äºæ¯ä¸ªå†…éƒ¨æ–¹æ³•ï¼Œæ­¤è¡¨ä¸­éƒ½æœ‰ä¸€ä¸ªé’©å­ï¼šå¯ç”¨äºæ·»åŠ åˆ° <code>new Proxy</code> æ—¶çš„ <code>handler</code> å‚æ•°ä¸­ä»¥æ‹¦æˆªæ“ä½œçš„æ–¹æ³•åç§°ï¼š</p><table><thead><tr><th>å†…éƒ¨æ–¹æ³•</th><th>Handler æ–¹æ³•</th><th>ä½•æ—¶è§¦å‘</th></tr></thead><tbody><tr><td><code>[[Get]]</code></td><td><code>get</code></td><td>è¯»å–å±æ€§</td></tr><tr><td><code>[[Set]]</code></td><td><code>set</code></td><td>å†™å…¥å±æ€§</td></tr><tr><td><code>[[HasProperty]]</code></td><td><code>has</code></td><td><code>in</code> è¿ç®—ç¬¦</td></tr><tr><td><code>[[Delete]]</code></td><td><code>deleteProperty</code></td><td><code>delete</code> æ“ä½œ</td></tr><tr><td><code>[[Call]]</code></td><td><code>apply</code></td><td>proxy å¯¹è±¡ä½œä¸ºå‡½æ•°è¢«è°ƒç”¨</td></tr><tr><td><code>[[Construct]]</code></td><td><code>construct</code></td><td><code>new</code> æ“ä½œ</td></tr><tr><td><code>[[GetPrototypeOf]]</code></td><td><code>getPrototypeOf</code></td><td><code>Object.getPrototypeOf</code></td></tr><tr><td><code>[[SetPrototypeOf]]</code></td><td><code>setPrototypeOf</code></td><td><code>Object.setPrototypeOf</code></td></tr><tr><td><code>[[IsExtensible]]</code></td><td><code>isExtensible</code></td><td><code>Object.isExtensible</code></td></tr><tr><td><code>[[PreventExtensions]]</code></td><td><code>preventExtensions</code></td><td><code>Object.preventExtensions</code></td></tr><tr><td><code>[[DefineOwnProperty]]</code></td><td><code>defineProperty</code></td><td><code>Object.defineProperty</code>, <code>Object.defineProperties</code></td></tr><tr><td><code>[[GetOwnProperty]]</code></td><td><code>getOwnPropertyDescriptor</code></td><td><code>Object.getOwnPropertyDescriptor</code>, <code>for..in</code>, <code>Object.keys/values/entries</code></td></tr><tr><td><code>[[OwnPropertyKeys]]</code></td><td><code>ownKeys</code></td><td><code>Object.getOwnPropertyNames</code>, <code>Object.getOwnPropertySymbols</code>, <code>for..in</code>, <code>Object/keys/values/entries</code></td></tr></tbody></table><p>Invariants</p><p>JavaScript å¼ºåˆ¶æ‰§è¡ŒæŸäº›ä¸å˜å¼â€”â€”â€”â€”å½“å¿…é¡»ç”±å†…éƒ¨æ–¹æ³•å’Œé’©å­æ¥å®Œæˆæ“ä½œæ—¶ã€‚</p><p>å…¶ä¸­å¤§å¤šæ•°ç”¨äºè¿”å›å€¼ï¼š</p><ul><li><code>[[Set]]</code> å¦‚æœå€¼å·²æˆåŠŸå†™å…¥ï¼Œåˆ™å¿…é¡»è¿”å› <code>true</code>ï¼Œå¦åˆ™è¿”å› <code>false</code>ã€‚</li><li><code>[[Delete]]</code> å¦‚æœå·²æˆåŠŸåˆ é™¤è¯¥å€¼ï¼Œåˆ™å¿…é¡»è¿”å› <code>true</code>ï¼Œå¦åˆ™è¿”å› <code>false</code>ã€‚</li><li>â€¦â€¦ä¾æ­¤ç±»æ¨ï¼Œæˆ‘ä»¬å°†åœ¨ä¸‹é¢çš„ç¤ºä¾‹ä¸­çœ‹åˆ°æ›´å¤šå†…å®¹ã€‚</li></ul><p>è¿˜æœ‰å…¶ä»–ä¸€äº›ä¸å˜é‡ï¼Œä¾‹å¦‚ï¼š</p><ul><li><code>[[GetPrototypeOf]]</code>, åº”ç”¨äºä»£ç†å¯¹è±¡çš„ï¼Œå¿…é¡»è¿”å›ä¸ <code>[[GetPrototypeOf]]</code> åº”ç”¨äºè¢«ä»£ç†å¯¹è±¡ç›¸åŒçš„å€¼ã€‚æ¢å¥è¯è¯´ï¼Œè¯»å–ä»£ç†å¯¹è±¡çš„åŸå‹å¿…é¡»å§‹ç»ˆè¿”å›è¢«ä»£ç†å¯¹è±¡çš„åŸå‹ã€‚</li></ul><p>é’©å­å¯ä»¥æ‹¦æˆªè¿™äº›æ“ä½œï¼Œä½†æ˜¯å¿…é¡»éµå¾ªè¿™äº›è§„åˆ™ã€‚</p><p>ä¸å˜é‡ç¡®ä¿è¯­è¨€åŠŸèƒ½çš„æ­£ç¡®å’Œä¸€è‡´çš„è¡Œä¸ºã€‚å®Œæ•´çš„ä¸å˜é‡åˆ—è¡¨åœ¨<a href="https://link.juejin.cn/?target=https://tc39.es/ecma262/%23sec-proxy-object-internal-methods-and-internal-slots" title="https://tc39.es/ecma262/#sec-proxy-object-internal-methods-and-internal-slots">è§„èŒƒ</a>ã€‚å¦‚æœæ‚¨ä¸åšå¥‡æ€ªçš„äº‹æƒ…ï¼Œå°±ä¸ä¼šè¿åå®ƒä»¬ã€‚</p><p>è®©æˆ‘ä»¬çœ‹çœ‹å®é™…ç¤ºä¾‹ä¸­çš„å·¥ä½œåŸç†ã€‚</p><h2 id="å¸¦-â€œgetâ€-é’©å­çš„é»˜è®¤å€¼"><a href="#å¸¦-â€œgetâ€-é’©å­çš„é»˜è®¤å€¼" class="headerlink" title="å¸¦ â€œgetâ€ é’©å­çš„é»˜è®¤å€¼"></a>å¸¦ â€œgetâ€ é’©å­çš„é»˜è®¤å€¼</h2><p>æœ€å¸¸è§çš„é’©å­æ˜¯ç”¨äºè¯»å–/å†™å…¥å±æ€§ã€‚</p><p>è¦æ‹¦æˆªè¯»å–æ“ä½œï¼Œ<code>handler</code> åº”è¯¥æœ‰ <code>get(target, property, receiver)</code> æ–¹æ³•ã€‚</p><p>è¯»å–å±æ€§æ—¶è§¦å‘è¯¥æ–¹æ³•ï¼Œå‚æ•°å¦‚ä¸‹ï¼š</p><ul><li><code>target</code> â€”â€” æ˜¯ç›®æ ‡å¯¹è±¡ï¼Œè¯¥å¯¹è±¡ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ä¼ é€’ç»™ <code>new Proxy</code>ï¼Œ</li><li><code>property</code> â€”â€” ç›®æ ‡å±æ€§å,</li><li><code>receiver</code> â€”â€” å¦‚æœç›®æ ‡å±æ€§æ˜¯ä¸€ä¸ª getter è®¿é—®å™¨å±æ€§ï¼Œåˆ™ <code>receiver</code> å°±æ˜¯æœ¬æ¬¡è¯»å–å±æ€§æ‰€åœ¨çš„ <code>this</code> å¯¹è±¡ã€‚é€šå¸¸ï¼Œè¿™å°±æ˜¯ <code>proxy</code> å¯¹è±¡æœ¬èº«ï¼ˆæˆ–è€…ï¼Œå¦‚æœæˆ‘ä»¬ä»ä»£ç†ç»§æ‰¿ï¼Œåˆ™æ˜¯ä»è¯¥ä»£ç†ç»§æ‰¿çš„å¯¹è±¡ï¼‰ã€‚ç°åœ¨æˆ‘ä»¬ä¸éœ€è¦æ­¤å‚æ•°ï¼Œå› æ­¤ç¨åå°†å¯¹å…¶è¿›è¡Œè¯¦ç»†è¯´æ˜ã€‚</li></ul><p>è®©æˆ‘ä»¬ç”¨ <code>get</code> å®ç°å¯¹è±¡çš„é»˜è®¤å€¼ã€‚</p><p>æˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªå¯¹ä¸å­˜åœ¨çš„æ•°ç»„é¡¹è¿”å› 0 çš„æ•°ç»„ã€‚</p><p>é€šå¸¸ï¼Œå½“äººä»¬å°è¯•è·å–ä¸å­˜åœ¨çš„æ•°ç»„é¡¹æ—¶ï¼Œä»–ä»¬ä¼šå¾—åˆ° <code>undefined</code>, ä½†æ˜¯æˆ‘ä»¬ä¼šå°†å¸¸è§„æ•°ç»„åŒ…è£…åˆ°ä»£ç†ä¸­ï¼Œä»¥æ•è·è¯»å–æ“ä½œå¹¶åœ¨æ²¡æœ‰æ­¤ç±»å±æ€§çš„æƒ…å†µä¸‹è¿”å› <code>0</code>ï¼š</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>numbers <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>numbers<span class="token punctuation">,</span> <span class="token punctuation">{</span>  <span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> prop<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>prop <span class="token keyword">in</span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">return</span> target<span class="token punctuation">[</span>prop<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>      <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// é»˜è®¤å€¼</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">alert</span><span class="token punctuation">(</span>numbers<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span><span class="token function">alert</span><span class="token punctuation">(</span>numbers<span class="token punctuation">[</span><span class="token number">123</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0 (æ²¡æœ‰è¿™æ ·çš„å…ƒç´ )</span></code></pre><p>å¦‚æˆ‘ä»¬æ‰€è§ï¼Œä½¿ç”¨ <code>get</code> é’©å­éå¸¸å®¹æ˜“ã€‚</p><p>æˆ‘ä»¬å¯ä»¥ç”¨ <code>Proxy</code> æ¥å®ç°ä»»ä½•è¯»å–é»˜è®¤å€¼çš„é€»è¾‘ã€‚</p><p>æƒ³è±¡ä¸€ä¸‹ï¼Œæˆ‘ä»¬æœ‰ä¸€æœ¬è¯å…¸ï¼Œä¸Šé¢æœ‰çŸ­è¯­åŠå…¶ç¿»è¯‘ï¼š</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> dictionary <span class="token operator">=</span> <span class="token punctuation">{</span>  Hello<span class="token operator">:</span> <span class="token string">"Hola"</span><span class="token punctuation">,</span>  Bye<span class="token operator">:</span> <span class="token string">"AdiÃ³s"</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token function">alert</span><span class="token punctuation">(</span>dictionary<span class="token punctuation">[</span><span class="token string">"Hello"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Hola</span><span class="token function">alert</span><span class="token punctuation">(</span>dictionary<span class="token punctuation">[</span><span class="token string">"Welcome"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span></code></pre><p>ç°åœ¨ï¼Œå¦‚æœæ²¡æœ‰çŸ­è¯­ï¼Œä» <code>dictionary</code> è¯»å–å°†è¿”å› <code>undefined</code>ã€‚ä½†å®é™…ä¸Šï¼Œè¿”å›ä¸€ä¸ªæœªç¿»è¯‘çŸ­è¯­é€šå¸¸æ¯” <code>undefined</code> è¦å¥½ã€‚å› æ­¤ï¼Œè®©æˆ‘ä»¬åœ¨è¿™ç§æƒ…å†µä¸‹è¿”å›ä¸€ä¸ªæœªç¿»è¯‘çš„çŸ­è¯­ï¼Œè€Œä¸æ˜¯ <code>undefined</code>ã€‚</p><p>ä¸ºæ­¤ï¼Œæˆ‘ä»¬å°†åŒ…è£… <code>dictionary</code> è¿›ä¸€ä¸ªæ‹¦æˆªè¯»å–æ“ä½œçš„ä»£ç†ï¼š</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> dictionary <span class="token operator">=</span> <span class="token punctuation">{</span>  Hello<span class="token operator">:</span> <span class="token string">"Hola"</span><span class="token punctuation">,</span>  Bye<span class="token operator">:</span> <span class="token string">"AdiÃ³s"</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">;</span>dictionary <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>dictionary<span class="token punctuation">,</span> <span class="token punctuation">{</span>  <span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> phrase<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// æ‹¦æˆªè¯»å–å±æ€§æ“ä½œ</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>phrase <span class="token keyword">in</span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token comment">//å¦‚æœå­—å…¸åŒ…å«è¯¥çŸ­è¯­</span>      <span class="token keyword">return</span> target<span class="token punctuation">[</span>phrase<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// è¿”å›è¯‘æ–‡</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>      <span class="token comment">// å¦åˆ™è¿”å›æœªç¿»è¯‘çš„çŸ­è¯­</span>      <span class="token keyword">return</span> phrase<span class="token punctuation">;</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// åœ¨å­—å…¸ä¸­æŸ¥æ‰¾ä»»æ„çŸ­è¯­ï¼</span><span class="token comment">// æœ€åçš„æƒ…å†µä¹Ÿåªæ˜¯å®ƒä»¬æ²¡æœ‰è¢«ç¿»è¯‘ã€‚</span><span class="token function">alert</span><span class="token punctuation">(</span>dictionary<span class="token punctuation">[</span><span class="token string">"Hello"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Hola</span><span class="token function">alert</span><span class="token punctuation">(</span>dictionary<span class="token punctuation">[</span><span class="token string">"Welcome to Proxy"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Welcome to Proxy</span></code></pre><p>è¯·æ³¨æ„ä»£ç†å¦‚ä½•è¦†ç›–å˜é‡ï¼š</p><pre class="language-js" data-language="js"><code class="language-js">dictionary <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>dictionary<span class="token punctuation">,</span> <span class="token operator">...</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>ä»£ç†åº”è¯¥åœ¨æ‰€æœ‰åœ°æ–¹éƒ½å®Œå…¨æ›¿ä»£äº†ç›®æ ‡å¯¹è±¡ã€‚ç›®æ ‡å¯¹è±¡è¢«ä»£ç†åï¼Œä»»ä½•äººéƒ½ä¸åº”è¯¥å†å¼•ç”¨ç›®æ ‡å¯¹è±¡ã€‚å¦åˆ™å¾ˆå®¹æ˜“æç ¸ã€‚</p><h2 id="ä½¿ç”¨-â€œsetâ€-é’©å­è¿›è¡ŒéªŒè¯"><a href="#ä½¿ç”¨-â€œsetâ€-é’©å­è¿›è¡ŒéªŒè¯" class="headerlink" title="ä½¿ç”¨ â€œsetâ€ é’©å­è¿›è¡ŒéªŒè¯"></a>ä½¿ç”¨ â€œsetâ€ é’©å­è¿›è¡ŒéªŒè¯</h2><p>å‡è®¾æˆ‘ä»¬æƒ³è¦ä¸€ä¸ªä¸“é—¨ç”¨äºæ•°å­—çš„æ•°ç»„ã€‚å¦‚æœæ·»åŠ äº†å…¶ä»–ç±»å‹çš„å€¼ï¼Œåˆ™åº”è¯¥æŠ›å‡ºä¸€ä¸ªé”™è¯¯ã€‚</p><p>å½“å†™å…¥å±æ€§æ—¶ <code>set</code> é’©å­è§¦å‘ã€‚</p><p><code>set(target, property, value, receiver)</code>:</p><ul><li><code>target</code> â€”â€” æ˜¯ç›®æ ‡å¯¹è±¡ï¼Œè¯¥å¯¹è±¡ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ä¼ é€’ç»™ <code>new Proxy</code>ï¼Œ</li><li><code>property</code> â€”â€” ç›®æ ‡å±æ€§åç§°ï¼Œ</li><li><code>value</code> â€”â€” ç›®æ ‡å±æ€§è¦è®¾ç½®çš„å€¼ï¼Œ</li><li><code>receiver</code> â€”â€” ä¸ <code>get</code> é’©å­ç±»ä¼¼ï¼Œä»…ä¸ setter è®¿é—®å™¨ç›¸å…³ã€‚</li></ul><p>å¦‚æœå†™å…¥æ“ä½œæˆåŠŸï¼Œ<code>set</code> é’©å­åº”è¯¥è¿”å› <code>true</code>ï¼Œå¦åˆ™è¿”å› <code>false</code>ï¼ˆè§¦å‘ <code>TypeError</code>ï¼‰ã€‚</p><p>è®©æˆ‘ä»¬ç”¨å®ƒæ¥éªŒè¯æ–°å€¼ï¼š</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>numbers <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>numbers<span class="token punctuation">,</span> <span class="token punctuation">{</span>  <span class="token comment">// (*)</span>  <span class="token function">set</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> prop<span class="token punctuation">,</span> val<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// æ‹¦æˆªå†™å…¥æ“ä½œ</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> val <span class="token operator">==</span> <span class="token string">"number"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      target<span class="token punctuation">[</span>prop<span class="token punctuation">]</span> <span class="token operator">=</span> val<span class="token punctuation">;</span>      <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>      <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>numbers<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ·»åŠ æˆåŠŸ</span>numbers<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ·»åŠ æˆåŠŸ</span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"Length is: "</span> <span class="token operator">+</span> numbers<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>numbers<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">"test"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// TypeError ï¼ˆproxy çš„ `set` æ“ä½œè¿”å› falseï¼‰</span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"This line is never reached (error in the line above)"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>è¯·æ³¨æ„ï¼šArray çš„å†…å»ºæ–¹æ³•ä¾ç„¶ç”Ÿæ•ˆï¼ å€¼ä½¿ç”¨ <code>push</code> æ–¹æ³•æ·»åŠ å…¥æ•°ç»„ã€‚æ·»åŠ å€¼æ—¶ï¼Œ<code>length</code> å±æ€§ä¼šè‡ªåŠ¨å¢åŠ ã€‚æˆ‘ä»¬çš„ä»£ç†å¯¹è±¡ Proxy ä¸ä¼šç ´åä»»ä½•ä¸œè¥¿ã€‚</p><p>æˆ‘ä»¬ä¸å¿…é‡å†™è¯¸å¦‚ <code>push</code> å’Œ <code>unshift</code> ç­‰æ·»åŠ å…ƒç´ çš„æ•°ç»„æ–¹æ³•ï¼Œå°±å¯ä»¥åœ¨å…¶ä¸­æ·»åŠ æ£€æŸ¥ï¼Œå› ä¸ºåœ¨å†…éƒ¨å®ƒä»¬ä½¿ç”¨ä»£ç†æ‰€æ‹¦æˆªçš„ <code>[[Set]]</code> æ“ä½œã€‚</p><p>å› æ­¤ï¼Œä»£ç ç®€æ´æ˜äº†ã€‚</p><p>åˆ«å¿˜äº†è¿”å› <code>true</code></p><p>å¦‚ä¸Šæ‰€è¿°ï¼Œè¦ä¿æŒä¸å˜å¼ã€‚</p><p>å¯¹äº <code>set</code>æ“ä½œ, å®ƒå¿…é¡»åœ¨æˆåŠŸå†™å…¥æ—¶è¿”å› <code>true</code>ã€‚</p><p>å¦‚æœæˆ‘ä»¬å¿˜è®°è¿™æ ·åšæˆ–è¿”å›ä»»ä½• falsy å€¼ï¼Œåˆ™è¯¥æ“ä½œå°†è§¦å‘ <code>TypeError</code>ã€‚</p><h2 id="ä½¿ç”¨-â€œownKeysâ€-å’Œ-â€œgetOwnPropertyDescriptorâ€-è¿›è¡Œè¿­ä»£"><a href="#ä½¿ç”¨-â€œownKeysâ€-å’Œ-â€œgetOwnPropertyDescriptorâ€-è¿›è¡Œè¿­ä»£" class="headerlink" title="ä½¿ç”¨ â€œownKeysâ€ å’Œ â€œgetOwnPropertyDescriptorâ€ è¿›è¡Œè¿­ä»£"></a>ä½¿ç”¨ â€œownKeysâ€ å’Œ â€œgetOwnPropertyDescriptorâ€ è¿›è¡Œè¿­ä»£</h2><p><code>Object.keys</code>ï¼Œ<code>for..in</code> å¾ªç¯å’Œå¤§å¤šæ•°å…¶ä»–éå†å¯¹è±¡å±æ€§çš„æ–¹æ³•éƒ½ä½¿ç”¨ <code>[[OwnPropertyKeys]]</code>å†…éƒ¨æ–¹æ³•ï¼ˆç”± <code>ownKeys</code> é’©å­æ‹¦æˆª) æ¥è·å–å±æ€§åˆ—è¡¨ã€‚</p><p>è¿™äº›æ–¹æ³•åœ¨ç»†èŠ‚ä¸Šæœ‰æ‰€ä¸åŒï¼š</p><ul><li><code>Object.getOwnPropertyNames(obj)</code> è¿”å›é Symbol é”®ã€‚</li><li><code>Object.getOwnPropertySymbols(obj)</code> è¿”å› symbol é”®ã€‚</li><li><code>Object.keys/values()</code> è¿”å›å¸¦æœ‰ <code>enumerable</code> æ ‡è®°çš„é Symbol é”®å€¼å¯¹ï¼ˆå±æ€§æ ‡è®°åœ¨ç« èŠ‚ å±æ€§æ ‡å¿—å’Œå±æ€§æè¿°ç¬¦ æœ‰è¯¦ç»†æè¿°).</li><li><code>for..in</code> å¾ªç¯éå†æ‰€æœ‰å¸¦æœ‰ <code>enumerable</code> æ ‡è®°çš„é Symbol é”®ï¼Œä»¥åŠåŸå‹å¯¹è±¡çš„é”®ã€‚</li></ul><p>â€¦â€¦ä½†æ˜¯æ‰€æœ‰è¿™äº›éƒ½ä»è¯¥åˆ—è¡¨å¼€å§‹ã€‚</p><p>åœ¨ä¸‹é¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ <code>ownKeys</code> é’©å­æ‹¦æˆª <code>for..in</code> å¯¹ <code>user</code> çš„éå†ï¼Œè¿˜ä½¿ç”¨ <code>Object.keys</code> å’Œ <code>Object.values</code> æ¥è·³è¿‡ä»¥ä¸‹åˆ’çº¿ <code>_</code> å¼€å¤´çš„å±æ€§ï¼š</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token punctuation">{</span>  name<span class="token operator">:</span> <span class="token string">"John"</span><span class="token punctuation">,</span>  age<span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span>  _password<span class="token operator">:</span> <span class="token string">"***"</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">;</span>user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span> <span class="token punctuation">{</span>  <span class="token function">ownKeys</span><span class="token punctuation">(</span><span class="token parameter">target</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">key</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">!</span>key<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">"_"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// "ownKeys" è¿‡æ»¤æ‰ _password</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">in</span> user<span class="token punctuation">)</span> <span class="token function">alert</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// nameï¼Œç„¶åæ˜¯ age</span><span class="token comment">// å¯¹è¿™äº›æ–¹æ³•åŒæ ·æœ‰æ•ˆï¼š</span><span class="token function">alert</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// name,age</span><span class="token function">alert</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// John,30</span></code></pre><p>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œå®ƒä»ç„¶æœ‰æ•ˆã€‚</p><p>è™½ç„¶ï¼Œå¦‚æœæˆ‘ä»¬è¿”å›å¯¹è±¡ä¸­ä¸å­˜åœ¨çš„é”®ï¼Œ<code>Object.keys</code> å¹¶ä¸ä¼šåˆ—å‡ºè¯¥é”®ï¼š</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span> <span class="token punctuation">{</span>  <span class="token function">ownKeys</span><span class="token punctuation">(</span><span class="token parameter">target</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">,</span> <span class="token string">"c"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">alert</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &lt;empty&gt;</span></code></pre><p>ä¸ºä»€ä¹ˆï¼ŸåŸå› å¾ˆç®€å•ï¼š<code>Object.keys</code> ä»…è¿”å›å¸¦æœ‰ <code>enumerable</code> æ ‡è®°çš„å±æ€§ã€‚ä¸ºäº†æ£€æŸ¥å®ƒï¼Œ è¯¥æ–¹æ³•ä¼šå¯¹æ¯ä¸ªå±æ€§è°ƒç”¨ <code>[[GetOwnProperty]]</code> æ¥è·å¾—å±æ€§æè¿°ç¬¦ã€‚åœ¨è¿™é‡Œï¼Œç”±äºæ²¡æœ‰å±æ€§ï¼Œå…¶æè¿°ç¬¦ä¸ºç©ºï¼Œæ²¡æœ‰ <code>enumerable</code> æ ‡è®°ï¼Œå› æ­¤å®ƒå°†ç•¥è¿‡ã€‚</p><p>ä¸ºäº†è®© <code>Object.keys</code> è¿”å›ä¸€ä¸ªå±æ€§ï¼Œæˆ‘ä»¬è¦ä¹ˆéœ€è¦å°†è¯¥å±æ€§åŠ <code>enumerable</code> æ ‡è®°å­˜å…¥å¯¹è±¡ï¼Œæˆ–è€…æˆ‘ä»¬å¯ä»¥æ‹¦æˆªå¯¹å®ƒçš„è°ƒç”¨ <code>[[GetOwnProperty]]</code> (é’©å­<code>getOwnPropertyDescriptor</code> ä¼šæ‰§è¡Œæ­¤æ“ä½œ)ï¼Œå¹¶è¿”å›æè¿°ç¬¦ enumerable: trueã€‚</p><p>è¿™æ˜¯ä¸€ä¸ªä¾‹å­ï¼š</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span> <span class="token punctuation">{</span>  <span class="token function">ownKeys</span><span class="token punctuation">(</span><span class="token parameter">target</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// ä¸€æ—¦è¢«è°ƒç”¨ï¼Œå°±è¿”å›ä¸€ä¸ªå±æ€§åˆ—è¡¨</span>    <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">,</span> <span class="token string">"c"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token function">getOwnPropertyDescriptor</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> prop</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// è¢«æ¯ä¸ªå±æ€§è°ƒç”¨</span>    <span class="token keyword">return</span> <span class="token punctuation">{</span>      enumerable<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>      configurable<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>      <span class="token comment">/* å…¶ä»–å±æ€§ï¼Œç±»ä¼¼äº "value:..." */</span>    <span class="token punctuation">}</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">alert</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// a, b, c</span></code></pre><p>è®©æˆ‘ä»¬å†æ¬¡æ³¨æ„ï¼šå¦‚æœè¯¥å±æ€§åœ¨å¯¹è±¡ä¸­ä¸å­˜åœ¨ï¼Œåˆ™æˆ‘ä»¬åªéœ€è¦æ‹¦æˆª <code>[[GetOwnProperty]]</code>ã€‚</p><h2 id="å…·æœ‰-â€œdeletePropertyâ€-å’Œå…¶ä»–é’©å­çš„å—ä¿æŠ¤å±æ€§"><a href="#å…·æœ‰-â€œdeletePropertyâ€-å’Œå…¶ä»–é’©å­çš„å—ä¿æŠ¤å±æ€§" class="headerlink" title="å…·æœ‰ â€œdeletePropertyâ€ å’Œå…¶ä»–é’©å­çš„å—ä¿æŠ¤å±æ€§"></a>å…·æœ‰ â€œdeletePropertyâ€ å’Œå…¶ä»–é’©å­çš„å—ä¿æŠ¤å±æ€§</h2><p>æœ‰ä¸€ä¸ªæ™®éçš„çº¦å®šï¼Œå³ä¸‹åˆ’çº¿ <code>_</code> å‰ç¼€çš„å±æ€§å’Œæ–¹æ³•æ˜¯å†…éƒ¨çš„ã€‚ä¸åº”ä»å¯¹è±¡å¤–éƒ¨è®¿é—®å®ƒä»¬ã€‚</p><p>ä»æŠ€æœ¯ä¸Šè®²ï¼Œè¿™æ˜¯å¯èƒ½çš„ï¼š</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token punctuation">{</span>  name<span class="token operator">:</span> <span class="token string">"John"</span><span class="token punctuation">,</span>  _password<span class="token operator">:</span> <span class="token string">"secret"</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token function">alert</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>_password<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// secret</span></code></pre><p>è®©æˆ‘ä»¬ä½¿ç”¨ä»£ç†æ¥é˜²æ­¢å¯¹ä»¥ <code>_</code> å¼€å¤´çš„å±æ€§çš„ä»»ä½•è®¿é—®ã€‚</p><p>æˆ‘ä»¬éœ€è¦ä»¥ä¸‹é’©å­ï¼š</p><ul><li><code>get</code> è¯»å–æ­¤ç±»å±æ€§æ—¶æŠ›å‡ºé”™è¯¯ï¼Œ</li><li><code>set</code> å†™å…¥å±æ€§æ—¶æŠ›å‡ºé”™è¯¯ï¼Œ</li><li><code>deleteProperty</code> åˆ é™¤å±æ€§æ—¶æŠ›å‡ºé”™è¯¯ï¼Œ</li><li><code>ownKeys</code> åœ¨ä½¿ç”¨ <code>for..in</code> å’Œç±»ä¼¼ <code>Object.keys</code> çš„æ–¹æ³•æ—¶æ’é™¤ä»¥ <code>_</code> å¼€å¤´çš„å±æ€§ã€‚</li></ul><p>ä»£ç å¦‚ä¸‹ï¼š</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token punctuation">{</span>  name<span class="token operator">:</span> <span class="token string">"John"</span><span class="token punctuation">,</span>  _password<span class="token operator">:</span> <span class="token string">"***"</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">;</span>user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span> <span class="token punctuation">{</span>  <span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> prop<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>prop<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">"_"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">"Access denied"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">let</span> value <span class="token operator">=</span> target<span class="token punctuation">[</span>prop<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token keyword">typeof</span> value <span class="token operator">===</span> <span class="token string">"function"</span> <span class="token operator">?</span> <span class="token function">value</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span> <span class="token operator">:</span> value<span class="token punctuation">;</span> <span class="token comment">// (*)</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token function">set</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> prop<span class="token punctuation">,</span> val<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// æ‹¦æˆªå†™å…¥æ“ä½œ</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>prop<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">"_"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">"Access denied"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>      target<span class="token punctuation">[</span>prop<span class="token punctuation">]</span> <span class="token operator">=</span> val<span class="token punctuation">;</span>      <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token function">deleteProperty</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> prop</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// æ‹¦æˆªå±æ€§åˆ é™¤</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>prop<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">"_"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">"Access denied"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>      <span class="token keyword">delete</span> target<span class="token punctuation">[</span>prop<span class="token punctuation">]</span><span class="token punctuation">;</span>      <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token function">ownKeys</span><span class="token punctuation">(</span><span class="token parameter">target</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// æ‹¦æˆªè¯»å–å±æ€§åˆ—è¡¨</span>    <span class="token keyword">return</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">key</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">!</span>key<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">"_"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// â€œgetâ€ ä¸å…è®¸è¯»å– _password</span><span class="token keyword">try</span> <span class="token punctuation">{</span>  <span class="token function">alert</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>_password<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Error: Access denied</span><span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token function">alert</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">//  â€œsetâ€ ä¸å…è®¸å†™å…¥ _password</span><span class="token keyword">try</span> <span class="token punctuation">{</span>  user<span class="token punctuation">.</span>_password <span class="token operator">=</span> <span class="token string">"test"</span><span class="token punctuation">;</span> <span class="token comment">// Error: Access denied</span><span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token function">alert</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// â€œdeletePropertyâ€ ä¸å…è®¸åˆ é™¤ _password å±æ€§</span><span class="token keyword">try</span> <span class="token punctuation">{</span>  <span class="token keyword">delete</span> user<span class="token punctuation">.</span>_password<span class="token punctuation">;</span> <span class="token comment">// Error: Access denied</span><span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token function">alert</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// â€œownKeysâ€ è¿‡æ»¤æ’é™¤ _password</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">in</span> user<span class="token punctuation">)</span> <span class="token function">alert</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// name</span></code></pre><p>è¯·æ³¨æ„åœ¨è¡Œ <code>(*)</code> ä¸­ <code>get</code> é’©å­çš„é‡è¦ç»†èŠ‚ï¼š</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> prop<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">// ...</span>  <span class="token keyword">let</span> value <span class="token operator">=</span> target<span class="token punctuation">[</span>prop<span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> value <span class="token operator">===</span> <span class="token string">'function'</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token function">value</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span> <span class="token operator">:</span> value<span class="token punctuation">;</span> <span class="token comment">// (*)</span><span class="token punctuation">}</span></code></pre><p>ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦ä¸€ä¸ªå‡½æ•°è°ƒç”¨ <code>value.bind(target)</code>ï¼Ÿ</p><p>åŸå› æ˜¯å¯¹è±¡æ–¹æ³•ï¼ˆä¾‹å¦‚ <code>user.checkPassword()</code>ï¼‰å¿…é¡»èƒ½å¤Ÿè®¿é—® <code>_password</code>ï¼š</p><pre class="language-js" data-language="js"><code class="language-js">user <span class="token operator">=</span> <span class="token punctuation">{</span>  <span class="token comment">// ...</span>  <span class="token function">checkPassword</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">//å¯¹è±¡æ–¹æ³•å¿…é¡»èƒ½è¯»å– _password</span>    <span class="token keyword">return</span> value <span class="token operator">===</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_password<span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>å¯¹ <code>user.checkPassword()</code> çš„ä¸€ä¸ªè°ƒç”¨ä¼šè°ƒç”¨ä»£ç†å¯¹è±¡ <code>user</code> ä½œä¸º <code>this</code>ï¼ˆç‚¹è¿ç®—ç¬¦ä¹‹å‰çš„å¯¹è±¡ä¼šæˆä¸º <code>this</code>ï¼‰ï¼Œå› æ­¤ï¼Œå½“å®ƒå°è¯•è®¿é—® <code>this._password</code> æ—¶ <code>get</code> é’©å­å°†æ¿€æ´»ï¼ˆå®ƒåœ¨è¯»å–ä»»ä½•å±æ€§æ—¶è§¦å‘ï¼‰å¹¶æŠ›å‡ºé”™è¯¯ã€‚</p><p>å› æ­¤ï¼Œæˆ‘ä»¬åœ¨è¡Œ <code>(*)</code> ä¸­å°†å¯¹è±¡æ–¹æ³•çš„ä¸Šä¸‹æ–‡ç»‘å®šåˆ°åŸå§‹å¯¹è±¡ï¼Œ<code>target</code>ã€‚ç„¶åï¼Œå®ƒä»¬å°†æ¥çš„è°ƒç”¨å°†ä½¿ç”¨ <code>target</code> ä½œä¸º <code>this</code>ï¼Œä¸è§¦å‘ä»»ä½•é’©å­ã€‚</p><p>è¯¥è§£å†³æ–¹æ¡ˆé€šå¸¸å¯è¡Œï¼Œä½†å¹¶ä¸ç†æƒ³ï¼Œå› ä¸ºä¸€ç§æ–¹æ³•å¯èƒ½ä¼šå°†æœªä»£ç†çš„å¯¹è±¡ä¼ é€’åˆ°å…¶ä»–åœ°æ–¹ï¼Œç„¶åæˆ‘ä»¬ä¼šé™·å…¥å›°å¢ƒï¼šåŸå§‹å¯¹è±¡åœ¨å“ªé‡Œï¼Œä»£ç†çš„å¯¹è±¡åœ¨å“ªé‡Œï¼Ÿ</p><p>æ­¤å¤–ï¼Œä¸€ä¸ªå¯¹è±¡å¯èƒ½ä¼šè¢«ä»£ç†å¤šæ¬¡ï¼ˆå¤šä¸ªä»£ç†å¯èƒ½ä¼šå¯¹è¯¥å¯¹è±¡æ·»åŠ ä¸åŒçš„â€œè°ƒæ•´â€ï¼‰ï¼Œå¹¶ä¸”å¦‚æœæˆ‘ä»¬å°†æœªåŒ…è£…çš„å¯¹è±¡ä¼ é€’ç»™æ–¹æ³•ï¼Œåˆ™å¯èƒ½ä¼šäº§ç”Ÿæ„æƒ³ä¸åˆ°çš„åæœã€‚</p><p>å› æ­¤ï¼Œåœ¨ä»»ä½•åœ°æ–¹éƒ½ä¸åº”ä½¿ç”¨è¿™ç§ä»£ç†ã€‚</p><p>ç±»çš„ç§æœ‰å±æ€§</p><p>ç°ä»£ Javascript å¼•æ“åŸç”Ÿæ”¯æŒç§æœ‰å±æ€§ï¼Œå…¶ä»¥ <code>#</code> ä½œä¸ºå‰ç¼€ã€‚è¿™åœ¨ç« èŠ‚ ç§æœ‰çš„å’Œå—ä¿æŠ¤çš„å±æ€§å’Œæ–¹æ³• ä¸­æœ‰è¯¦ç»†æè¿°ã€‚Proxy å¹¶ä¸æ˜¯å¿…éœ€çš„ã€‚</p><p>ä½†æ˜¯ï¼Œæ­¤ç±»å±æ€§æœ‰å…¶è‡ªèº«çš„é—®é¢˜ã€‚ç‰¹åˆ«æ˜¯ï¼Œå®ƒä»¬æ˜¯ä¸å¯ç»§æ‰¿çš„ã€‚</p><h2 id="â€œIn-rangeâ€-åŠ-â€œhasâ€-é’©å­"><a href="#â€œIn-rangeâ€-åŠ-â€œhasâ€-é’©å­" class="headerlink" title="â€œIn rangeâ€ åŠ â€œhasâ€ é’©å­"></a>â€œIn rangeâ€ åŠ â€œhasâ€ é’©å­</h2><p>è®©æˆ‘ä»¬æ¥çœ‹æ›´å¤šç¤ºä¾‹ã€‚</p><p>æˆ‘ä»¬æœ‰ä¸€ä¸ª range å¯¹è±¡ï¼š</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> range <span class="token operator">=</span> <span class="token punctuation">{</span>  start<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>  end<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>æˆ‘ä»¬æƒ³ä½¿ç”¨ <code>in</code> è¿ç®—ç¬¦æ¥æ£€æŸ¥æ•°å­—æ˜¯å¦åœ¨ <code>range</code> èŒƒå›´å†…ã€‚</p><p>è¯¥ <code>has</code> é’©å­æ‹¦æˆª <code>in</code> è°ƒç”¨ã€‚</p><p><code>has(target, property)</code></p><ul><li><code>target</code> â€”â€” æ˜¯ç›®æ ‡å¯¹è±¡ï¼Œä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ä¼ é€’ç»™ <code>new Proxy</code></li><li><code>property</code> â€”â€” å±æ€§åç§°</li></ul><p>ç¤ºä¾‹å¦‚ä¸‹</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> range <span class="token operator">=</span> <span class="token punctuation">{</span>  start<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>  end<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">;</span>range <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>range<span class="token punctuation">,</span> <span class="token punctuation">{</span>  <span class="token function">has</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> prop</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> prop <span class="token operator">&gt;=</span> target<span class="token punctuation">.</span>start <span class="token operator">&amp;&amp;</span> prop <span class="token operator">&lt;=</span> target<span class="token punctuation">.</span>end<span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token number">5</span> <span class="token keyword">in</span> range<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token number">50</span> <span class="token keyword">in</span> range<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span></code></pre><p>æ¼‚äº®çš„è¯­æ³•ç³–ï¼Œä¸æ˜¯å—ï¼Ÿè€Œä¸”å®ç°èµ·æ¥éå¸¸ç®€å•ã€‚</p><h2 id="åŒ…è£…å‡½æ•°ï¼šâ€applyâ€"><a href="#åŒ…è£…å‡½æ•°ï¼šâ€applyâ€" class="headerlink" title="åŒ…è£…å‡½æ•°ï¼šâ€applyâ€"></a>åŒ…è£…å‡½æ•°ï¼šâ€applyâ€</h2><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥å°†ä»£ç†åŒ…è£…åœ¨å‡½æ•°å‘¨å›´ã€‚</p><p><code>apply(target, thisArg, args)</code> é’©å­èƒ½ä½¿ä»£ç†ä»¥å‡½æ•°çš„æ–¹å¼è¢«è°ƒç”¨ï¼š</p><ul><li><code>target</code> æ˜¯ç›®æ ‡å¯¹è±¡ï¼ˆå‡½æ•°æ˜¯ JavaScript ä¸­çš„å¯¹è±¡ï¼‰</li><li><code>thisArg</code> æ˜¯ <code>this</code> çš„å€¼</li><li><code>args</code> æ˜¯å‚æ•°åˆ—è¡¨</li></ul><p>ä¾‹å¦‚ï¼Œè®©æˆ‘ä»¬å›æƒ³ä¸€ä¸‹ <code>delay(f, ms)</code> è£…é¥°å™¨ï¼Œå®ƒæ˜¯æˆ‘ä»¬åœ¨ <a href="https://juejin.cn/post/6844904089680084999" title="https://juejin.cn/post/6844904089680084999">è£…é¥°è€…æ¨¡å¼ï¼Œcall/apply </a>ä¸€ç« ä¸­å®Œæˆçš„ã€‚</p><p>åœ¨è¯¥ç« ä¸­ï¼Œæˆ‘ä»¬æ²¡æœ‰ç”¨ proxy æ¥å®ç°å®ƒã€‚è°ƒç”¨ <code>delay(f, ms)</code> è¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°ä¼šå°†åœ¨ <code>ms</code>æ¯«ç§’åæŠŠæ‰€æœ‰è°ƒç”¨è½¬å‘åˆ° <code>f</code>ã€‚</p><p>è¿™æ˜¯ä»¥å‰çš„åŸºäºå‡½æ•°çš„å®ç°ï¼š</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">delay</span><span class="token punctuation">(</span><span class="token parameter">f<span class="token punctuation">,</span> ms</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">// è¿”å›ä¸€ä¸ªè¶…æ—¶åè°ƒç”¨ f å‡½æ•°çš„åŒ…è£…å™¨</span>  <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// (*)</span>    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">f</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> arguments<span class="token punctuation">)</span><span class="token punctuation">,</span> ms<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token parameter">user</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Hello, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>user<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">!</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// è¿™æ¬¡åŒ…è£…åï¼ŒsayHi åœ¨3ç§’åè¢«è°ƒç”¨</span>sayHi <span class="token operator">=</span> <span class="token function">delay</span><span class="token punctuation">(</span>sayHi<span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token string">"John"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Hello, John! ï¼ˆ3ç§’åï¼‰</span></code></pre><p>æ­£å¦‚æˆ‘ä»¬å·²ç»çœ‹åˆ°çš„é‚£æ ·ï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹éƒ½æ˜¯å¯è¡Œçš„ã€‚åŒ…è£…å‡½æ•° <code>(*)</code> åœ¨è¶…æ—¶åæ‰§è¡Œè°ƒç”¨ã€‚</p><p>ä½†æ˜¯åŒ…è£…å‡½æ•°ä¸ä¼šè½¬å‘å±æ€§è¯»/å†™æ“ä½œæˆ–å…¶ä»–ä»»ä½•æ“ä½œã€‚åŒ…è£…åï¼Œæ— æ³•è®¿é—®åŸæœ‰å‡½æ•°çš„å±æ€§ï¼Œæ¯”å¦‚ <code>name</code>ï¼Œ<code>length</code>å’Œå…¶ä»–ï¼š</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">delay</span><span class="token punctuation">(</span><span class="token parameter">f<span class="token punctuation">,</span> ms</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">f</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> arguments<span class="token punctuation">)</span><span class="token punctuation">,</span> ms<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token parameter">user</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Hello, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>user<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">!</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token function">alert</span><span class="token punctuation">(</span>sayHi<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1 ï¼ˆå‡½æ•°çš„ length æ˜¯å…¶å£°æ˜ä¸­çš„å‚æ•°ä¸ªæ•°ï¼‰</span>sayHi <span class="token operator">=</span> <span class="token function">delay</span><span class="token punctuation">(</span>sayHi<span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">alert</span><span class="token punctuation">(</span>sayHi<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0 ï¼ˆåœ¨åŒ…è£…å™¨å£°æ˜ä¸­ï¼Œå‚æ•°ä¸ªæ•°ä¸º0)</span></code></pre><p><code>Proxy</code> åŠŸèƒ½å¼ºå¤§å¾—å¤šï¼Œå› ä¸ºå®ƒå°†æ‰€æœ‰ä¸œè¥¿è½¬å‘åˆ°ç›®æ ‡å¯¹è±¡ã€‚</p><p>è®©æˆ‘ä»¬ä½¿ç”¨ <code>Proxy</code> è€Œä¸æ˜¯åŒ…è£…å‡½æ•°ï¼š</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">delay</span><span class="token punctuation">(</span><span class="token parameter">f<span class="token punctuation">,</span> ms</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>f<span class="token punctuation">,</span> <span class="token punctuation">{</span>    <span class="token function">apply</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> thisArg<span class="token punctuation">,</span> args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">target</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>thisArg<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">,</span> ms<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token parameter">user</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Hello, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>user<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">!</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>sayHi <span class="token operator">=</span> <span class="token function">delay</span><span class="token punctuation">(</span>sayHi<span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">alert</span><span class="token punctuation">(</span>sayHi<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1 (*) proxy è½¬å‘â€œè·å– lengthâ€ æ“ä½œåˆ°ç›®æ ‡å¯¹è±¡</span><span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token string">"John"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Hello, John! ï¼ˆ3ç§’åï¼‰</span></code></pre><p>ç»“æœæ˜¯ç›¸åŒçš„ï¼Œä½†ç°åœ¨ä¸ä»…è°ƒç”¨ï¼Œè€Œä¸”ä»£ç†ä¸Šçš„æ‰€æœ‰æ“ä½œéƒ½è½¬å‘åˆ°åŸå§‹å‡½æ•°ã€‚æ‰€ä»¥ sayHi.length åœ¨ <code>(*)</code> è¡ŒåŒ…è£…åæ­£ç¡®è¿”å›ç»“æœ(*)ã€‚</p><p>æˆ‘ä»¬æœ‰ä¸€ä¸ªâ€œæ›´ä¸°å¯Œâ€çš„åŒ…è£…å™¨ã€‚</p><p>è¿˜å­˜åœ¨å…¶ä»–é’©å­ï¼šå®Œæ•´åˆ—è¡¨åœ¨æœ¬ç« çš„å¼€å¤´ã€‚å®ƒä»¬çš„ä½¿ç”¨æ¨¡å¼ä¸ä¸Šè¿°ç±»ä¼¼ã€‚</p><h2 id="Reflect"><a href="#Reflect" class="headerlink" title="Reflect"></a>Reflect</h2><p><code>Reflect</code> æ˜¯ä¸€ä¸ªå†…ç½®å¯¹è±¡ï¼Œå¯ç®€åŒ–çš„åˆ›å»º <code>Proxy</code>ã€‚</p><p>ä»¥å‰çš„å†…éƒ¨æ–¹æ³•ï¼Œæ¯”å¦‚<code>[[Get]]</code>ï¼Œ<code>[[Set]]</code> ç­‰ç­‰éƒ½åªæ˜¯è§„èŒƒï¼Œä¸èƒ½ç›´æ¥è°ƒç”¨ã€‚</p><p><code>Reflect</code> å¯¹è±¡ä½¿è°ƒç”¨è¿™äº›å†…éƒ¨æ–¹æ³•æˆä¸ºå¯èƒ½ã€‚å®ƒçš„æ–¹æ³•æ˜¯å†…éƒ¨æ–¹æ³•çš„æœ€å°åŒ…è£…ã€‚</p><p>è¿™æ˜¯ <code>Reflect</code> æ‰§è¡Œç›¸åŒæ“ä½œå’Œè°ƒç”¨çš„ç¤ºä¾‹ï¼š</p><table><thead><tr><th>æ“ä½œ</th><th><code>Reflect</code> è°ƒç”¨</th><th>å†…éƒ¨æ–¹æ³•</th></tr></thead><tbody><tr><td><code>obj[prop]</code></td><td><code>Reflect.get(obj, prop)</code></td><td><code>[[Get]]</code></td></tr><tr><td><code>obj[prop] = value</code></td><td><code>Reflect.set(obj, prop, value)</code></td><td><code>[[Set]]</code></td></tr><tr><td><code>delete obj[prop]</code></td><td><code>Reflect.deleteProperty(obj, prop)</code></td><td><code>[[Delete]]</code></td></tr><tr><td><code>new F(value)</code></td><td><code>Reflect.construct(F, value)</code></td><td><code>[[Construct]]</code></td></tr><tr><td>â€¦</td><td>â€¦</td><td>â€¦</td></tr></tbody></table><p>ä¾‹å¦‚ï¼š</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>Reflect<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span> <span class="token string">"name"</span><span class="token punctuation">,</span> <span class="token string">"John"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">alert</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// John</span></code></pre><p>å°¤å…¶æ˜¯ï¼Œ<code>Reflect</code> å…è®¸æˆ‘ä»¬ä½¿ç”¨å‡½æ•°ï¼ˆ<code>Reflect.construct</code>ï¼Œ<code>Reflect.deleteProperty</code>ï¼Œâ€¦â€¦ï¼‰æ‰§è¡Œæ“ä½œï¼ˆ<code>new</code>ï¼Œ<code>delete</code>ï¼Œâ€¦â€¦ï¼‰ã€‚è¿™æ˜¯ä¸€ä¸ªæœ‰è¶£çš„åŠŸèƒ½ï¼Œä½†æ˜¯è¿™é‡Œè¿˜æœ‰ä¸€ç‚¹å¾ˆé‡è¦ã€‚</p><p><strong>å¯¹äºæ¯ä¸ªå¯è¢« <code>Proxy</code> æ•è·çš„å†…éƒ¨æ–¹æ³•ï¼Œ<code>Reflect</code> éƒ½æœ‰ä¸€ä¸ªå¯¹åº”çš„æ–¹æ³• Reflectï¼Œå…¶åç§°å’Œå‚æ•°ä¸ <code>Proxy</code> é’©å­ç›¸åŒã€‚</strong></p><p>å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ <code>Reflect</code> æ¥å°†æ“ä½œè½¬å‘åˆ°åŸå§‹å¯¹è±¡ã€‚</p><p>åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œé’©å­<code>get</code> å’Œ <code>set</code> é€æ˜åœ°ï¼ˆå¥½åƒå®ƒä»¬éƒ½ä¸å­˜åœ¨ï¼‰å°†è¯»/å†™æ“ä½œè½¬å‘åˆ°å¯¹è±¡ï¼Œå¹¶æ˜¾ç¤ºä¸€æ¡æ¶ˆæ¯ï¼š</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token punctuation">{</span>  name<span class="token operator">:</span> <span class="token string">"John"</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">;</span>user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span> <span class="token punctuation">{</span>  <span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> prop<span class="token punctuation">,</span> receiver<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">GET </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>prop<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> Reflect<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> prop<span class="token punctuation">,</span> receiver<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// (1)</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token function">set</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> prop<span class="token punctuation">,</span> val<span class="token punctuation">,</span> receiver<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">SET </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>prop<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>val<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> Reflect<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> prop<span class="token punctuation">,</span> val<span class="token punctuation">,</span> receiver<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// (2)</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">let</span> name <span class="token operator">=</span> user<span class="token punctuation">.</span>name<span class="token punctuation">;</span> <span class="token comment">// shows "GET name"</span>user<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">"Pete"</span><span class="token punctuation">;</span> <span class="token comment">// shows "SET name=Pete"</span></code></pre><p>è¿™é‡Œ:</p><ul><li><code>Reflect.get</code> è¯»å–ä¸€ä¸ªå¯¹è±¡å±æ€§</li><li><code>Reflect.set</code> å†™å…¥å¯¹è±¡å±æ€§ï¼ŒæˆåŠŸè¿”å› <code>true</code> ï¼Œå¦åˆ™è¿”å› <code>false</code></li></ul><p>å°±æ˜¯è¯´ï¼Œä¸€åˆ‡éƒ½å¾ˆç®€å•ï¼šå¦‚æœé’©å­æƒ³è¦å°†è°ƒç”¨è½¬å‘ç»™å¯¹è±¡ï¼Œåˆ™åªéœ€ä½¿ç”¨ç›¸åŒçš„å‚æ•°è°ƒç”¨ <code>Reflect.&lt;method&gt;</code> å°±è¶³å¤Ÿäº†ã€‚</p><p>åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥ä¸ä½¿ç”¨ <code>Reflect</code> å®Œæˆç›¸åŒçš„äº‹æƒ…ï¼Œä¾‹å¦‚ï¼Œä½¿ç”¨<code>Reflect.get(target, prop, receiver)</code> è¯»å–å±æ€§å¯ä»¥æ›¿æ¢ä¸º <code>target[prop]</code>ã€‚å°½ç®¡æœ‰ä¸€äº›ç»†å¾®çš„å·®åˆ«ã€‚</p><h3 id="ä»£ç†ä¸€ä¸ª-getter"><a href="#ä»£ç†ä¸€ä¸ª-getter" class="headerlink" title="ä»£ç†ä¸€ä¸ª getter"></a>ä»£ç†ä¸€ä¸ª getter</h3><p>è®©æˆ‘ä»¬çœ‹ä¸€ä¸ªç¤ºä¾‹ï¼Œè¯´æ˜ä¸ºä»€ä¹ˆ <code>Reflect.get</code> æ›´å¥½ã€‚æˆ‘ä»¬è¿˜å°†çœ‹åˆ°ä¸ºä»€ä¹ˆ <code>get/set</code> æœ‰ç¬¬å››ä¸ªå‚æ•° <code>receiver</code>ï¼Œè€Œæˆ‘ä»¬ä»¥å‰æ²¡æœ‰ä½¿ç”¨è¿‡å®ƒã€‚</p><p>æˆ‘ä»¬æœ‰ä¸€ä¸ªå¸¦æœ‰ä¸€ä¸ª <code>_name</code> å±æ€§å’Œä¸€ä¸ª getter çš„å¯¹è±¡ <code>user</code>ã€‚</p><p>è¿™æ˜¯ä¸€ä¸ª Proxyï¼š</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token punctuation">{</span>  _name<span class="token operator">:</span> <span class="token string">"Guest"</span><span class="token punctuation">,</span>  <span class="token keyword">get</span> <span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_name<span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">let</span> userProxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span> <span class="token punctuation">{</span>  <span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> prop<span class="token punctuation">,</span> receiver<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> target<span class="token punctuation">[</span>prop<span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">alert</span><span class="token punctuation">(</span>userProxy<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Guest</span></code></pre><p>è¯¥ <code>get</code> é’©å­åœ¨è¿™é‡Œæ˜¯â€œé€æ˜çš„â€ï¼Œå®ƒè¿”å›åŸæ¥çš„å±æ€§ï¼Œä¸ä¼šåšåˆ«çš„ä»»ä½•äº‹æƒ…ã€‚å¯¹äºæˆ‘ä»¬çš„ç¤ºä¾‹è€Œè¨€ï¼Œè¿™å°±è¶³å¤Ÿäº†ã€‚</p><p>ä¸€åˆ‡ä¼¼ä¹éƒ½å¾ˆå¥½ã€‚ä½†æ˜¯è®©æˆ‘ä»¬å°†ç¤ºä¾‹å˜å¾—æ›´åŠ å¤æ‚ã€‚</p><p>å¦ä¸€ä¸ªå¯¹è±¡ <code>admin</code>ä» <code>user</code> ç»§æ‰¿åï¼Œæˆ‘ä»¬å¯ä»¥è§‚å¯Ÿåˆ°é”™è¯¯çš„è¡Œä¸ºï¼š</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token punctuation">{</span>  _name<span class="token operator">:</span> <span class="token string">"Guest"</span><span class="token punctuation">,</span>  <span class="token keyword">get</span> <span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_name<span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">let</span> userProxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span> <span class="token punctuation">{</span>  <span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> prop<span class="token punctuation">,</span> receiver<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> target<span class="token punctuation">[</span>prop<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// (*) target = user</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">let</span> admin <span class="token operator">=</span> <span class="token punctuation">{</span>  __proto__<span class="token operator">:</span> userProxy<span class="token punctuation">,</span>  _name<span class="token operator">:</span> <span class="token string">"Admin"</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment">// Expected: Admin</span><span class="token function">alert</span><span class="token punctuation">(</span>admin<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¾“å‡ºï¼šGuest ï¼ˆï¼Ÿï¼ï¼Ÿï¼‰</span></code></pre><p>è¯»å– <code>admin.name</code> åº”è¯¥è¿”å› <code>"Admin"</code>ï¼Œè€Œä¸æ˜¯ <code>"Guest"</code>ï¼</p><p>æ€ä¹ˆäº†ï¼Ÿä¹Ÿè®¸æˆ‘ä»¬åœ¨ç»§æ‰¿æ–¹é¢åšé”™äº†ä»€ä¹ˆï¼Ÿ</p><p>ä½†æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬åˆ é™¤ä»£ç†ï¼Œé‚£ä¹ˆä¸€åˆ‡éƒ½ä¼šæŒ‰é¢„æœŸè¿›è¡Œã€‚</p><p>é—®é¢˜å®é™…ä¸Šå‡ºåœ¨ä»£ç†ä¸­ï¼Œåœ¨ <code>(*)</code>è¡Œã€‚</p><ol><li><p>å½“æˆ‘ä»¬è¯»å– <code>admin.name</code>ï¼Œç”±äº <code>admin</code> å¯¹è±¡è‡ªèº«æ²¡æœ‰å¯¹åº”çš„çš„å±æ€§ï¼Œæœç´¢å°†è½¬åˆ°å…¶åŸå‹ã€‚</p></li><li><p>åŸå‹æ˜¯ <code>userProxy</code>ã€‚</p></li><li><p>ä»ä»£ç†è¯»å– <code>name</code> å±æ€§æ—¶ï¼Œ<code>get</code> é’©å­ä¼šè§¦å‘å¹¶ä»åŸå§‹å¯¹è±¡è¿”å› <code>target[prop]</code> å±æ€§ï¼Œåœ¨ <code>(*)</code>è¡Œ</p><p>å½“è°ƒç”¨ <code>target[prop]</code> æ—¶ï¼Œè‹¥ <code>prop</code> æ˜¯ä¸€ä¸ª getterï¼Œå®ƒå°†åœ¨ <code>this=target</code> ä¸Šä¸‹æ–‡ä¸­è¿è¡Œå…¶ä»£ç ã€‚å› æ­¤ï¼Œç»“æœæ˜¯æ¥è‡ªåŸå§‹å¯¹è±¡ <code>target</code> çš„ <code>this._name</code> å³æ¥è‡ª <code>user</code>ã€‚</p></li></ol><p>ä¸ºäº†è§£å†³è¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬éœ€è¦ <code>get</code> é’©å­çš„ç¬¬ä¸‰ä¸ªå‚æ•° <code>receiver</code>ã€‚å®ƒä¿è¯ä¼ é€’æ­£ç¡®çš„ <code>this</code> ç»™ getterã€‚åœ¨æˆ‘ä»¬çš„æƒ…å†µä¸‹æ˜¯ <code>admin</code>ã€‚</p><p>å¦‚ä½•ä¸º getter ä¼ é€’ä¸Šä¸‹æ–‡ï¼Ÿå¯¹äºå¸¸è§„å‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>call/apply</code>ï¼Œä½†è¿™æ˜¯ä¸€ä¸ª getterï¼Œå®ƒä¸æ˜¯â€œè¢«è°ƒç”¨â€çš„ï¼Œåªæ˜¯è¢«è®¿é—®çš„ã€‚</p><p><code>Reflect.get</code> å¯ä»¥åšåˆ°çš„ã€‚å¦‚æœæˆ‘ä»¬ä½¿ç”¨å®ƒï¼Œä¸€åˆ‡éƒ½ä¼šæ­£å¸¸è¿è¡Œã€‚</p><p>è¿™æ˜¯æ›´æ­£åçš„å˜ä½“ï¼š</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token punctuation">{</span>  _name<span class="token operator">:</span> <span class="token string">"Guest"</span><span class="token punctuation">,</span>  <span class="token keyword">get</span> <span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_name<span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">let</span> userProxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span> <span class="token punctuation">{</span>  <span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> prop<span class="token punctuation">,</span> receiver<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// receiver = admin</span>    <span class="token keyword">return</span> Reflect<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> prop<span class="token punctuation">,</span> receiver<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// (*)</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">let</span> admin <span class="token operator">=</span> <span class="token punctuation">{</span>  __proto__<span class="token operator">:</span> userProxy<span class="token punctuation">,</span>  _name<span class="token operator">:</span> <span class="token string">"Admin"</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token function">alert</span><span class="token punctuation">(</span>admin<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Admin</span></code></pre><p>ç°åœ¨ <code>receiver</code>ï¼Œä¿ç•™äº†å¯¹æ­£ç¡® <code>this</code> çš„å¼•ç”¨ï¼ˆå³<code>admin</code>ï¼‰çš„å¼•ç”¨ï¼Œè¯¥å¼•ç”¨å°†åœ¨ <code>(*)</code> è¡Œä¸­ä½¿ç”¨<code>Reflect.get</code>ä¼ é€’ç»™ getterã€‚</p><p>æˆ‘ä»¬å¯ä»¥å°†é’©å­é‡å†™å¾—æ›´çŸ­ï¼š</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> prop<span class="token punctuation">,</span> receiver<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> Reflect<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token operator">...</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p><code>Reflect</code> è°ƒç”¨çš„å‘½åæ–¹å¼ä¸é’©å­å®Œå…¨ç›¸åŒï¼Œå¹¶ä¸”æ¥å—ç›¸åŒçš„å‚æ•°ã€‚å®ƒä»¬æ˜¯é€šè¿‡è¿™ç§æ–¹å¼ä¸“é—¨è®¾è®¡çš„ã€‚</p><p>å› æ­¤ï¼Œ <code>return Reflect...</code> ä¼šæä¾›ä¸€ä¸ªå®‰å…¨çš„æç¤ºç¨‹åºæ¥è½¬å‘æ“ä½œï¼Œå¹¶ç¡®ä¿æˆ‘ä»¬ä¸ä¼šå¿˜è®°ä¸æ­¤ç›¸å…³çš„ä»»ä½•å†…å®¹ã€‚</p><h2 id="Proxy-çš„å±€é™"><a href="#Proxy-çš„å±€é™" class="headerlink" title="Proxy çš„å±€é™"></a>Proxy çš„å±€é™</h2><p>ä»£ç†æä¾›äº†ä¸€ç§ç‹¬ç‰¹çš„æ–¹æ³•ï¼Œå¯ä»¥åœ¨æœ€åº•å±‚æ›´æ”¹æˆ–è°ƒæ•´ç°æœ‰å¯¹è±¡çš„è¡Œä¸ºã€‚ä½†æ˜¯ï¼Œå®ƒå¹¶ä¸å®Œç¾ã€‚æœ‰å±€é™æ€§ã€‚</p><h3 id="å†…ç½®å¯¹è±¡ï¼šå†…éƒ¨æ’æ§½ï¼ˆInternal-slotsï¼‰"><a href="#å†…ç½®å¯¹è±¡ï¼šå†…éƒ¨æ’æ§½ï¼ˆInternal-slotsï¼‰" class="headerlink" title="å†…ç½®å¯¹è±¡ï¼šå†…éƒ¨æ’æ§½ï¼ˆInternal slotsï¼‰"></a>å†…ç½®å¯¹è±¡ï¼šå†…éƒ¨æ’æ§½ï¼ˆInternal slotsï¼‰</h3><p>è®¸å¤šå†…ç½®å¯¹è±¡ï¼Œä¾‹å¦‚ <code>Map</code>, <code>Set</code>, <code>Date</code>, <code>Promise</code> ç­‰ç­‰éƒ½ä½¿ç”¨äº†æ‰€è°“çš„ â€œå†…éƒ¨æ’æ§½â€ã€‚</p><p>å®ƒä»¬ç±»ä¼¼äºå±æ€§ï¼Œä½†ä»…é™äºå†…éƒ¨ä½¿ç”¨ï¼Œä»…ç”¨äºè§„èŒƒç›®çš„ã€‚ä¾‹å¦‚ï¼Œ <code>Map</code> å°†é¡¹ç›®å­˜å‚¨åœ¨ <code>[[MapData]]</code>ä¸­ã€‚å†…ç½®æ–¹æ³•ç›´æ¥è®¿é—®å®ƒä»¬ï¼Œè€Œä¸é€šè¿‡ <code>[[Get]]/[[Set]]</code> å†…éƒ¨æ–¹æ³•ã€‚æ‰€ä»¥ <code>Proxy</code> ä¸èƒ½æ‹¦æˆªã€‚</p><p>ä¸ºä»€ä¹ˆè¦åœ¨æ„å‘¢ï¼Ÿä»–ä»¬æ˜¯å†…éƒ¨çš„ï¼</p><p>å¥½å§ï¼Œè¿™å°±æ˜¯é—®é¢˜ã€‚åœ¨åƒè¿™æ ·çš„å†…ç½®å¯¹è±¡è¢«ä»£ç†åï¼Œä»£ç†å¯¹è±¡æ²¡æœ‰è¿™äº›å†…éƒ¨æ’æ§½ï¼Œå› æ­¤å†…ç½®æ–¹æ³•å°†å¤±è´¥ã€‚</p><p>ä¾‹å¦‚ï¼š</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">let</span> proxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>map<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>proxy<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"test"</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Error</span></code></pre><p>åœ¨å†…éƒ¨ï¼Œä¸€ä¸ª <code>Map</code> å°†æ‰€æœ‰æ•°æ®å­˜å‚¨åœ¨å…¶ <code>[[MapData]]</code> å†…éƒ¨æ’æ§½ä¸­ã€‚ä»£ç†å¯¹è±¡æ²¡æœ‰è¿™æ ·çš„æ’æ§½ã€‚<a href="https://link.juejin.cn/?target=https://tc39.es/ecma262/%23sec-map.prototype.set" title="https://tc39.es/ecma262/#sec-map.prototype.set">å†…å»ºæ–¹æ³• <code>Map.prototype.set</code></a> æ–¹æ³•è¯•å›¾è®¿é—®å†…éƒ¨å±æ€§ <code>this.[[MapData]]</code>ï¼Œä½†ç”±äº <code>this=proxy</code> åœ¨ <code>proxy</code> ä¸­ä¸èƒ½æ‰¾åˆ°å®ƒï¼Œåªèƒ½å¤±è´¥ã€‚</p><p>å¹¸è¿çš„æ˜¯ï¼Œæœ‰ä¸€ç§è§£å†³æ–¹æ³•ï¼š</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">let</span> proxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>map<span class="token punctuation">,</span> <span class="token punctuation">{</span>  <span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> prop<span class="token punctuation">,</span> receiver<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">let</span> value <span class="token operator">=</span> Reflect<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token operator">...</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token keyword">typeof</span> value <span class="token operator">==</span> <span class="token string">"function"</span> <span class="token operator">?</span> <span class="token function">value</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span> <span class="token operator">:</span> value<span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>proxy<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"test"</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">alert</span><span class="token punctuation">(</span>proxy<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"test"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1 (works!)</span></code></pre><p>ç°åœ¨å®ƒå¯ä»¥æ­£å¸¸å·¥ä½œï¼Œå› ä¸º <code>get</code> é’©å­å°†å‡½æ•°å±æ€§ï¼ˆä¾‹å¦‚ <code>map.set</code>ï¼‰ç»‘å®šåˆ°ç›®æ ‡å¯¹è±¡ï¼ˆ<code>map</code>ï¼‰æœ¬èº«ã€‚</p><p>ä¸å‰é¢çš„ç¤ºä¾‹ä¸åŒï¼Œ<code>proxy.set(...)</code> å†…éƒ¨ <code>this</code> çš„å€¼å¹¶ä¸æ˜¯ <code>proxy</code>ï¼Œè€Œæ˜¯åŸå§‹å¯¹è±¡ <code>map</code>ã€‚å› æ­¤ï¼Œå½“<code>set</code> é’©å­çš„å†…éƒ¨å®ç°å°è¯•è®¿é—® <code>this.[[MapData]]</code> å†…éƒ¨æ’æ§½æ—¶ï¼Œå®ƒä¼šæˆåŠŸã€‚</p><p><code>Array</code> æ²¡æœ‰å†…éƒ¨æ’æ§½</p><p>ä¸€ä¸ªæ˜æ˜¾çš„ä¾‹å¤–ï¼šå†…ç½® <code>Array</code> ä¸ä½¿ç”¨å†…éƒ¨æ’æ§½ã€‚é‚£æ˜¯å‡ºäºå†å²åŸå› ï¼Œå› ä¸ºå®ƒå‡ºç°äºå¾ˆä¹…ä»¥å‰ã€‚</p><p>å› æ­¤ï¼Œä»£ç†æ•°ç»„æ—¶æ²¡æœ‰è¿™ç§é—®é¢˜ã€‚</p><h3 id="ç§æœ‰å­—æ®µ"><a href="#ç§æœ‰å­—æ®µ" class="headerlink" title="ç§æœ‰å­—æ®µ"></a>ç§æœ‰å­—æ®µ</h3><p>ç±»çš„ç§æœ‰å­—æ®µä¹Ÿä¼šå‘ç”Ÿç±»ä¼¼çš„æƒ…å†µã€‚</p><p>ä¾‹å¦‚ï¼Œ<code>getName()</code> æ–¹æ³•è®¿é—®ç§æœ‰çš„ <code>#name</code> å±æ€§å¹¶åœ¨ä»£ç†åä¸­æ–­ï¼š</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>  #name <span class="token operator">=</span> <span class="token string">"Guest"</span><span class="token punctuation">;</span>  <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>#name<span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">alert</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Error</span></code></pre><p>åŸå› æ˜¯ä¸“ç”¨å­—æ®µæ˜¯ä½¿ç”¨å†…éƒ¨æ’æ§½å®ç°çš„ã€‚JavaScript è®¿é—®å®ƒä»¬æ—¶ä¸ä½¿ç”¨ <code>[[Get]]/[[Set]]</code>ã€‚</p><p>åœ¨è°ƒç”¨ <code>getName()</code> æ—¶ <code>this</code> çš„å€¼æ˜¯ä»£ç†åçš„ <code>user</code>ï¼Œå®ƒæ²¡æœ‰å¸¦ç§æœ‰å­—æ®µçš„æ’æ§½ã€‚</p><p>å†æ¬¡ï¼Œbind æ–¹æ³•çš„è§£å†³æ–¹æ¡ˆä½¿å®ƒæ¢å¤æ­£å¸¸ï¼š</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>  #name <span class="token operator">=</span> <span class="token string">"Guest"</span><span class="token punctuation">;</span>  <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>#name<span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span> <span class="token punctuation">{</span>  <span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> prop<span class="token punctuation">,</span> receiver<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">let</span> value <span class="token operator">=</span> Reflect<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token operator">...</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token keyword">typeof</span> value <span class="token operator">==</span> <span class="token string">"function"</span> <span class="token operator">?</span> <span class="token function">value</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span> <span class="token operator">:</span> value<span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">alert</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Guest</span></code></pre><p>è¯¥è§£å†³æ–¹æ¡ˆæœ‰ç¼ºç‚¹ï¼Œå¦‚å‰æ‰€è¿°ï¼šå°†åŸå§‹å¯¹è±¡æš´éœ²ç»™è¯¥æ–¹æ³•ï¼Œå¯èƒ½ä½¿å…¶è¿›ä¸€æ­¥ä¼ é€’å¹¶ç ´åå…¶ä»–ä»£ç†åŠŸèƒ½ã€‚</p><h3 id="Proxy-target"><a href="#Proxy-target" class="headerlink" title="Proxy != target"></a>Proxy != target</h3><p>ä»£ç†å’ŒåŸå§‹å¯¹è±¡æ˜¯ä¸åŒçš„å¯¹è±¡ã€‚å¾ˆè‡ªç„¶å§ï¼Ÿ</p><p>å› æ­¤ï¼Œå¦‚æœæˆ‘ä»¬ä½¿ç”¨åŸå§‹å¯¹è±¡ä½œä¸ºé”®ï¼Œç„¶åå¯¹å…¶è¿›è¡Œä»£ç†ï¼Œåˆ™æ‰¾ä¸åˆ°ä»£ç†ï¼š</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> allUsers <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>    allUsers<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">"John"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">alert</span><span class="token punctuation">(</span>allUsers<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">alert</span><span class="token punctuation">(</span>allUsers<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span></code></pre><p>å¦‚æˆ‘ä»¬æ‰€è§ï¼Œä»£ç†åï¼Œæˆ‘ä»¬åœ¨ <code>allUsers</code> ä¸­æ‰¾ä¸åˆ° <code>user</code>ï¼Œå› ä¸ºä»£ç†æ˜¯ä¸€ä¸ªä¸åŒçš„å¯¹è±¡ã€‚</p><p>Proxy æ— æ³•æ‹¦æˆªä¸¥æ ¼ç›¸ç­‰æ€§æµ‹è¯• <code>===</code></p><p>Proxy å¯ä»¥æ‹¦æˆªè®¸å¤šè¿ç®—ç¬¦ï¼Œä¾‹å¦‚ newï¼ˆä½¿ç”¨ <code>construct</code>ï¼‰ï¼Œinï¼ˆä½¿ç”¨ <code>has</code>ï¼‰ï¼Œdeleteï¼ˆä½¿ç”¨ <code>deleteProperty</code>ï¼‰ç­‰ã€‚</p><p>ä½†æ˜¯æ²¡æœ‰åŠæ³•æ‹¦æˆªå¯¹è±¡çš„ä¸¥æ ¼ç›¸ç­‰æ€§æµ‹è¯•ã€‚ä¸€ä¸ªå¯¹è±¡ä¸¥æ ¼åªç­‰äºè‡ªèº«ï¼Œæ²¡æœ‰å…¶ä»–å€¼ã€‚</p><p>å› æ­¤ï¼Œæ¯”è¾ƒå¯¹è±¡æ˜¯å¦ç›¸ç­‰çš„æ‰€æœ‰æ“ä½œå’Œå†…ç½®ç±»éƒ½ä¼šåŒºåˆ† target å’Œ proxyã€‚è¿™é‡Œæ²¡æœ‰é€æ˜çš„æ›¿ä»£å“ã€‚</p><h2 id="å¯å–æ¶ˆçš„-Proxy"><a href="#å¯å–æ¶ˆçš„-Proxy" class="headerlink" title="å¯å–æ¶ˆçš„ Proxy"></a>å¯å–æ¶ˆçš„ Proxy</h2><p>ä¸€ä¸ª</p><p>å¯æ’¤é”€</p><p>çš„ä»£ç†æ˜¯å¯ä»¥è¢«ç¦ç”¨çš„ä»£ç†ã€‚</p><p>å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªèµ„æºï¼Œå¹¶ä¸”æƒ³éšæ—¶å…³é—­å¯¹è¯¥èµ„æºçš„è®¿é—®ã€‚</p><p>æˆ‘ä»¬å¯ä»¥åšçš„æ˜¯å°†å…¶åŒ…è£…æˆå¯æ’¤é”€çš„ä»£ç†ï¼Œè€Œæ²¡æœ‰ä»»ä½•é’©å­ã€‚è¿™æ ·çš„ä»£ç†ä¼šå°†æ“ä½œè½¬å‘ç»™å¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥éšæ—¶å°†å…¶ç¦ç”¨ã€‚</p><p>è¯­æ³•ä¸ºï¼š</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> <span class="token punctuation">{</span> proxy<span class="token punctuation">,</span> revoke <span class="token punctuation">}</span> <span class="token operator">=</span> Proxy<span class="token punctuation">.</span><span class="token function">revocable</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> handler<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>è¯¥è°ƒç”¨è¿”å›ä¸€ä¸ªå¸¦æœ‰ <code>proxy</code> å’Œ <code>revoke</code> å‡½æ•°çš„å¯¹è±¡ä»¥å°†å…¶ç¦ç”¨ã€‚</p><p>è¿™æ˜¯ä¸€ä¸ªä¾‹å­ï¼š</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> object <span class="token operator">=</span> <span class="token punctuation">{</span>  data<span class="token operator">:</span> <span class="token string">"Valuable data"</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">let</span> <span class="token punctuation">{</span> proxy<span class="token punctuation">,</span> revoke <span class="token punctuation">}</span> <span class="token operator">=</span> Proxy<span class="token punctuation">.</span><span class="token function">revocable</span><span class="token punctuation">(</span>object<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// proxy æ­£å¸¸å·¥ä½œ</span><span class="token function">alert</span><span class="token punctuation">(</span>proxy<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Valuable data</span><span class="token comment">// ä¹‹åæŸå¤„è°ƒç”¨</span><span class="token function">revoke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// proxy ä¸å†å·¥ä½œï¼ˆå·²åŠé”€ï¼‰</span><span class="token function">alert</span><span class="token punctuation">(</span>proxy<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Error</span></code></pre><p>è°ƒç”¨ <code>revoke()</code> ä¼šä»ä»£ç†ä¸­åˆ é™¤å¯¹ç›®æ ‡å¯¹è±¡çš„æ‰€æœ‰å†…éƒ¨å¼•ç”¨ï¼Œå› æ­¤ä¸å†è¿æ¥å®ƒä»¬ã€‚ä¹‹åå¯ä»¥å¯¹ç›®æ ‡å¯¹è±¡è¿›è¡Œåƒåœ¾å›æ”¶ã€‚</p><p>æˆ‘ä»¬è¿˜å¯ä»¥å°† <code>revoke</code> å­˜å‚¨åœ¨ <code>WeakMap</code> ä¸­ï¼Œä»¥ä¾¿èƒ½å¤Ÿé€šè¿‡ä»£ç†å¯¹è±¡è½»æ¾æ‰¾åˆ°å®ƒï¼š</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> revokes <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WeakMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">let</span> object <span class="token operator">=</span> <span class="token punctuation">{</span>  data<span class="token operator">:</span> <span class="token string">"Valuable data"</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">let</span> <span class="token punctuation">{</span> proxy<span class="token punctuation">,</span> revoke <span class="token punctuation">}</span> <span class="token operator">=</span> Proxy<span class="token punctuation">.</span><span class="token function">revocable</span><span class="token punctuation">(</span>object<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>revokes<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>proxy<span class="token punctuation">,</span> revoke<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// ..later in our code..</span>revoke <span class="token operator">=</span> revokes<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>proxy<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">revoke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">alert</span><span class="token punctuation">(</span>proxy<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Errorï¼ˆå·²åŠé”€ï¼‰</span></code></pre><p>è¿™ç§æ–¹æ³•çš„å¥½å¤„æ˜¯æˆ‘ä»¬ä¸å¿…éšèº«æºå¸¦ revokeã€‚æˆ‘ä»¬å¯ä»¥åœ¨éœ€è¦æ—¶ä» map <code>proxy</code> ä¸Šè·å–å®ƒã€‚</p><p>æ­¤å¤„æˆ‘ä»¬ä½¿ç”¨<code>WeakMap</code> è€Œä¸æ˜¯ <code>Map</code> ï¼Œå› ä¸ºå®ƒä¸ä¼šé˜»æ­¢åƒåœ¾æ”¶é›†ã€‚å¦‚æœä»£ç†å¯¹è±¡å˜å¾—â€œæ— æ³•è®¿é—®â€ï¼ˆä¾‹å¦‚ï¼Œæ²¡æœ‰å˜é‡å†å¼•ç”¨å®ƒï¼‰ï¼Œåˆ™ <code>WeakMap</code> å…è®¸å°†å…¶ä¸ å®ƒçš„ <code>revoke</code> å¯¹è±¡ä¸€èµ·ä»å†…å­˜ä¸­æ“¦é™¤ï¼Œå› ä¸ºæˆ‘ä»¬ä¸å†éœ€è¦å®ƒäº†ã€‚</p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p><code>Proxy</code> æ˜¯å¯¹è±¡çš„åŒ…è£…ï¼Œå°†ä»£ç†ä¸Šçš„æ“ä½œè½¬å‘åˆ°å¯¹è±¡ï¼Œå¹¶å¯ä»¥é€‰æ‹©æ•è·å…¶ä¸­çš„ä¸€äº›æ“ä½œã€‚</p><p>å®ƒå¯ä»¥åŒ…è£…ä»»ä½•ç±»å‹çš„å¯¹è±¡ï¼ŒåŒ…æ‹¬ç±»å’Œå‡½æ•°ã€‚</p><p>è¯­æ³•ä¸ºï¼š</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> proxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> <span class="token punctuation">{</span>  <span class="token comment">/* traps */</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>â€¦â€¦ç„¶åï¼Œæˆ‘ä»¬åº”è¯¥åœ¨æ‰€æœ‰åœ°æ–¹ä½¿ç”¨ <code>proxy</code> è€Œä¸æ˜¯ <code>target</code>ã€‚ä»£ç†æ²¡æœ‰è‡ªå·±çš„å±æ€§æˆ–æ–¹æ³•ã€‚å¦‚æœæä¾›äº†é’©å­ï¼Œå®ƒå°†æ•è·æ“ä½œï¼Œå¦åˆ™å°†å…¶è½¬å‘ç»™ <code>target</code> å¯¹è±¡ã€‚</p><p>æˆ‘ä»¬å¯ä»¥æ•è·ï¼š</p><ul><li>è¯»å–ï¼ˆ<code>get</code>ï¼‰ï¼Œå†™å…¥ï¼ˆ<code>set</code>ï¼‰ï¼Œåˆ é™¤ï¼ˆ<code>deleteProperty</code>ï¼‰å±æ€§ï¼ˆç”šè‡³æ˜¯ä¸å­˜åœ¨çš„å±æ€§ï¼‰ã€‚</li><li>å‡½æ•°è°ƒç”¨ï¼ˆ<code>apply</code> é’©å­ï¼‰ã€‚</li><li><code>new</code> æ“ä½œï¼ˆ<code>construct</code> é’©å­ï¼‰ã€‚</li><li>è®¸å¤šå…¶ä»–æ“ä½œï¼ˆå®Œæ•´åˆ—è¡¨åœ¨æœ¬æ–‡å¼€å¤´å’Œ <a href="https://link.juejin.cn/?target=https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy" title="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy">docs</a> ä¸­ï¼‰ã€‚</li></ul><p>è¿™ä½¿æˆ‘ä»¬èƒ½å¤Ÿåˆ›å»ºâ€œè™šæ‹Ÿâ€å±æ€§å’Œæ–¹æ³•ï¼Œå®ç°é»˜è®¤å€¼ï¼Œå¯è§‚å¯Ÿå¯¹è±¡ï¼Œå‡½æ•°è£…é¥°å™¨ç­‰ç­‰ã€‚</p><p>æˆ‘ä»¬è¿˜å¯ä»¥å°†å¯¹è±¡å¤šæ¬¡åŒ…è£…åœ¨ä¸åŒçš„ä»£ç†ä¸­ï¼Œå¹¶ç”¨å¤šä¸ªå‡½æ•°è¿›è¡Œè£…é¥°ã€‚</p><p>è¯¥<a href="https://link.juejin.cn/?target=https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Reflect" title="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Reflect">Reflect</a> API æ—¨åœ¨è¡¥å…… <a href="https://link.juejin.cn/?target=https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy" title="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy">Proxy</a>ã€‚å¯¹äºä»»ä½• <code>Proxy</code> é’©å­ï¼Œéƒ½æœ‰ä¸€ä¸ªå¸¦æœ‰ç›¸åŒå‚æ•°çš„ <code>Reflect</code> è°ƒç”¨ã€‚æˆ‘ä»¬åº”è¯¥ä½¿ç”¨å®ƒä»¬å°†è°ƒç”¨è½¬å‘ç»™ç›®æ ‡å¯¹è±¡ã€‚</p><p>Proxy æœ‰ä¸€äº›å±€é™ï¼š</p><ul><li>å†…ç½®å¯¹è±¡å…·æœ‰â€œå†…éƒ¨æ’æ§½â€ï¼Œå¯¹è¿™äº›å¯¹è±¡çš„è®¿é—®æ— æ³•è¢«ä»£ç†ã€‚è¯·å‚é˜…ä¸Šé¢çš„è§£å†³æ–¹æ³•ã€‚</li><li>ç§æœ‰ç±»å­—æ®µä¹Ÿæ˜¯å¦‚æ­¤ï¼Œå› ä¸ºå®ƒä»¬æ˜¯åœ¨å†…éƒ¨ä½¿ç”¨æ’æ§½å®ç°çš„ã€‚å› æ­¤ï¼Œä»£ç†æ–¹æ³•çš„è°ƒç”¨å¿…é¡»å…·æœ‰ç›®æ ‡å¯¹è±¡ <code>this</code> æ‰èƒ½è®¿é—®å®ƒä»¬ã€‚</li><li>å¯¹è±¡ç›¸ç­‰æ€§æµ‹è¯• <code>===</code> ä¸èƒ½è¢«æ‹¦æˆªã€‚</li><li>æ€§èƒ½ï¼šåŸºå‡†æµ‹è¯•å–å†³äºå¼•æ“ï¼Œä½†é€šå¸¸ä½¿ç”¨æœ€ç®€å•çš„ä»£ç†è®¿é—®å±æ€§æ‰€éœ€çš„æ—¶é—´è¦é•¿å‡ å€ã€‚å®é™…ä¸Šï¼Œè¿™ä»…å¯¹æŸäº›â€œç“¶é¢ˆâ€å¯¹è±¡é‡è¦ã€‚</li></ul><h2 id="å‡ ä¸ªå°å®ä¾‹ä»»åŠ¡"><a href="#å‡ ä¸ªå°å®ä¾‹ä»»åŠ¡" class="headerlink" title="å‡ ä¸ªå°å®ä¾‹ä»»åŠ¡"></a>å‡ ä¸ªå°å®ä¾‹ä»»åŠ¡</h2><h3 id="è¯»å–ä¸å­˜åœ¨çš„å±æ€§æ—¶å‡ºé”™"><a href="#è¯»å–ä¸å­˜åœ¨çš„å±æ€§æ—¶å‡ºé”™" class="headerlink" title="è¯»å–ä¸å­˜åœ¨çš„å±æ€§æ—¶å‡ºé”™"></a>è¯»å–ä¸å­˜åœ¨çš„å±æ€§æ—¶å‡ºé”™</h3><p>é€šå¸¸ï¼Œå°è¯•è¯»å–ä¸å­˜åœ¨çš„å±æ€§ä¼šè¿”å› <code>undefined</code>ã€‚</p><p>åˆ›å»ºä¸€ä¸ªä»£ç†ï¼Œåœ¨å°è¯•è¯»å–ä¸å­˜åœ¨çš„å±æ€§æ—¶è¯¥ä»£ç†æŠ›å‡ºé”™è¯¯ã€‚</p><p>è¿™å¯ä»¥å¸®åŠ©åŠæ—©å‘ç°ç¼–ç¨‹é”™è¯¯ã€‚</p><p>ç¼–å†™ä¸€ä¸ªæ¥å— <code>target</code> å¯¹è±¡ï¼Œå¹¶è¿”å›æ·»åŠ æ­¤æ–¹é¢åŠŸèƒ½çš„ proxy çš„ <code>wrap(target)</code> å‡½æ•°ã€‚</p><p>åº”æ»¡è¶³å¦‚ä¸‹ç»“æœï¼š</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token punctuation">{</span>  name<span class="token operator">:</span> <span class="token string">"John"</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token function">wrap</span><span class="token punctuation">(</span><span class="token parameter">target</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> <span class="token punctuation">{</span>    <span class="token comment">/* ä½ çš„ä»£ç  */</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>user <span class="token operator">=</span> <span class="token function">wrap</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">alert</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// John</span><span class="token function">alert</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// é”™è¯¯ï¼šå±æ€§ä¸å­˜åœ¨</span></code></pre><p>è§£å†³æ–¹æ¡ˆ</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token punctuation">{</span>  name<span class="token operator">:</span> <span class="token string">"John"</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token function">wrap</span><span class="token punctuation">(</span><span class="token parameter">target</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> <span class="token punctuation">{</span>    <span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> prop<span class="token punctuation">,</span> receiver<span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span>prop <span class="token keyword">in</span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> Reflect<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> prop<span class="token punctuation">,</span> receiver<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">ReferenceError</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Property doesn't exist: "</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>prop<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">"</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>user <span class="token operator">=</span> <span class="token function">wrap</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">alert</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// John</span><span class="token function">alert</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ReferenceError: Property doesn't exist</span></code></pre><h3 id="ç”¨-1-ç´¢å¼•è®¿é—®æ•°ç»„"><a href="#ç”¨-1-ç´¢å¼•è®¿é—®æ•°ç»„" class="headerlink" title="ç”¨-1 ç´¢å¼•è®¿é—®æ•°ç»„"></a>ç”¨-1 ç´¢å¼•è®¿é—®æ•°ç»„</h3><p>åœ¨æŸäº›ç¼–ç¨‹è¯­è¨€ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»ç»“å°¾ç®—èµ·çš„è´Ÿç´¢å¼•è®¿é—®æ•°ç»„å…ƒç´ ã€‚</p><p>åƒè¿™æ ·ï¼š</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> array <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>array<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 3ï¼Œæœ€åä¸€ä¸ªå…ƒç´ </span>array<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 2ï¼Œä»æœ«å°¾å¼€å§‹å‘å‰ç§»åŠ¨ä¸€æ­¥</span>array<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 1ï¼Œä»æœ«å°¾å¼€å§‹å‘å‰ç§»åŠ¨ä¸¤æ­¥</span></code></pre><p>æ¢å¥è¯è¯´ï¼Œ<code>array[-N]</code> ä¸ <code>array[array.length - N]</code> ç›¸åŒã€‚</p><p>åˆ›å»ºä¸€ä¸ª proxy æ¥å®ç°è¯¥è¡Œä¸ºã€‚</p><p>é‚£åº”è¯¥æ˜¯è¿™æ ·çš„ï¼š</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> array <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>array <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>array<span class="token punctuation">,</span> <span class="token punctuation">{</span>  <span class="token comment">/* your code */</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">alert</span><span class="token punctuation">(</span>array<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3</span><span class="token function">alert</span><span class="token punctuation">(</span>array<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span><span class="token comment">// å…¶ä»–æ•°ç»„ä¹Ÿåº”è¯¥é€‚ç”¨äºè¿™ä¸ªåŠŸèƒ½</span></code></pre><p>è§£å†³æ–¹æ¡ˆ</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> array <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>array <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>array<span class="token punctuation">,</span> <span class="token punctuation">{</span>  <span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> prop<span class="token punctuation">,</span> receiver<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>prop <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token comment">// even if we access it like arr[1]</span>      <span class="token comment">// prop is a string, so need to convert it to number</span>      prop <span class="token operator">=</span> <span class="token operator">+</span>prop <span class="token operator">+</span> target<span class="token punctuation">.</span>length<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> Reflect<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> prop<span class="token punctuation">,</span> receiver<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">alert</span><span class="token punctuation">(</span>array<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3</span><span class="token function">alert</span><span class="token punctuation">(</span>array<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span></code></pre><h3 id="Observable"><a href="#Observable" class="headerlink" title="Observable"></a>Observable</h3><p>åˆ›å»ºä¸€ä¸ªé€šè¿‡è¿”å›ä»£ç†â€œä½¿å¯¹è±¡å¯è§‚å¯Ÿâ€çš„ <code>makeObservable(target)</code> å‡½æ•°ã€‚</p><p>å®ƒçš„å·¥ä½œæ–¹å¼å¦‚ä¸‹ï¼š</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">makeObservable</span><span class="token punctuation">(</span><span class="token parameter">target</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">/* your code */</span><span class="token punctuation">}</span><span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>user <span class="token operator">=</span> <span class="token function">makeObservable</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>user<span class="token punctuation">.</span><span class="token function">observe</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">key<span class="token punctuation">,</span> value</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">SET </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>key<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>user<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">"John"</span><span class="token punctuation">;</span> <span class="token comment">// alertsï¼šè®¾ç½® name å±æ€§ä¸º John</span></code></pre><p>æ¢å¥è¯è¯´ï¼Œ<code>makeObservable</code> è¿”å›çš„å¯¹è±¡å°±åƒåŸå§‹å¯¹è±¡ä¸€æ ·ï¼Œä½†æ˜¯ä¹Ÿå…·æœ‰å°† <code>handler</code> å‡½æ•°è®¾ç½®ä¸ºåœ¨ä»»ä½•å±æ€§æ›´æ”¹æ—¶éƒ½è¢«è°ƒç”¨çš„æ–¹æ³• <code>observe(handler)</code> ã€‚</p><p>æ¯å½“å±æ€§æ›´æ”¹æ—¶ï¼Œéƒ½ä¼šä½¿ç”¨å±æ€§çš„åç§°å’Œå€¼è°ƒç”¨ <code>handler(key, value)</code> ã€‚</p><p>P.S. åœ¨æ­¤ä»»åŠ¡ä¸­ï¼Œè¯·ä»…æ³¨æ„å†™å…¥å±æ€§ã€‚å¯ä»¥ä»¥ç±»ä¼¼æ–¹å¼å®ç°å…¶ä»–æ“ä½œã€‚</p><p>è§£å†³æ–¹æ¡ˆ</p><p>è¯¥è§£å†³æ–¹æ¡ˆåŒ…æ‹¬ä¸¤éƒ¨åˆ†ï¼š</p><ol><li> æ— è®º <code>.observe(handler)</code> ä½•æ—¶è¢«è°ƒç”¨ï¼Œæˆ‘ä»¬éƒ½éœ€è¦åœ¨æŸä¸ªåœ°æ–¹è®°ä½ handlerï¼Œä»¥ä¾¿ä»¥åå¯ä»¥è°ƒç”¨å®ƒã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Symbol ä½œä¸ºå±æ€§é”®ï¼Œå°† handler ç›´æ¥å­˜å‚¨åœ¨å¯¹è±¡ä¸­ã€‚</li><li> æˆ‘ä»¬éœ€è¦ä¸€ä¸ªå¸¦ <code>set</code> é’©å­çš„ proxy æ¥åœ¨å‘ç”Ÿä»»ä½•æ›´æ”¹æ—¶è°ƒç”¨å¤„ç†ç¨‹åºã€‚</li></ol><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> handlers <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">"handlers"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token function">makeObservable</span><span class="token punctuation">(</span><span class="token parameter">target</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">// 1. åˆå§‹åŒ– handler å­˜å‚¨æ•°ç»„</span>  target<span class="token punctuation">[</span>handlers<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token comment">// å­˜å‚¨ handler å‡½æ•°åˆ°æ•°ç»„ä¸­ä»¥ä¾¿äºæœªæ¥è°ƒç”¨</span>  target<span class="token punctuation">.</span><span class="token function-variable function">observe</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">handler</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">this</span><span class="token punctuation">[</span>handlers<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>handler<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">;</span>  <span class="token comment">// 2. åˆ›å»ºä»£ç†ä»¥å¤„ç†æ›´æ”¹</span>  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> <span class="token punctuation">{</span>    <span class="token function">set</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> property<span class="token punctuation">,</span> value<span class="token punctuation">,</span> receiver<span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">let</span> success <span class="token operator">=</span> Reflect<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token operator">...</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è½¬å‘å†™å…¥æ“ä½œåˆ°ç›®æ ‡å¯¹è±¡</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span>success<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">// å¦‚æœè®¾ç½®å±æ€§çš„æ—¶å€™æ²¡æœ‰æŠ¥é”™</span>        <span class="token comment">// è°ƒç”¨æ‰€æœ‰ handler</span>        target<span class="token punctuation">[</span>handlers<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">handler</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">handler</span><span class="token punctuation">(</span>property<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span>      <span class="token keyword">return</span> success<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>user <span class="token operator">=</span> <span class="token function">makeObservable</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>user<span class="token punctuation">.</span><span class="token function">observe</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">key<span class="token punctuation">,</span> value</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">SET </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>key<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>user<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">"John"</span><span class="token punctuation">;</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> Proxy </category>
          
          <category> Reflect </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Proxy </tag>
            
            <tag> Reflect </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>gitå‘½ä»¤</title>
      <link href="/2021/10/20/git-ming-ling/"/>
      <url>/2021/10/20/git-ming-ling/</url>
      
        <content type="html"><![CDATA[<h3 id="GIT-å‘½ä»¤"><a href="#GIT-å‘½ä»¤" class="headerlink" title="GIT å‘½ä»¤"></a>GIT å‘½ä»¤</h3><h4 id="git-basics"><a href="#git-basics" class="headerlink" title="git basics"></a>git basics</h4><table><thead><tr><th align="left">git init <directory></directory></th><th>åœ¨æŒ‡å®šçš„â½¬å½•ä¸‹åˆ›å»ºâ¼€ä¸ªç©ºçš„ git repoã€‚ä¸å¸¦å‚æ•°å°†åœ¨å½“å‰â½¬å½•ä¸‹åˆ›å»ºâ¼€ä¸ª git repoã€‚</th></tr></thead><tbody><tr><td align="left">git clone <repo></repo></td><td>å…‹éš†â¼€ä¸ªæŒ‡å®š repo åˆ°æœ¬åœ°ã€‚æŒ‡å®šçš„ repo å¯ ä»¥æ˜¯æœ¬åœ°â½‚ä»¶ç³»ç»Ÿæˆ–è€…ç”± HTTP æˆ– SSH æŒ‡ å®šçš„è¿œç¨‹è·¯å¾„ã€‚</td></tr><tr><td align="left">git config user.name <name></name></td><td>é’ˆå¯¹å½“å‰ repo é…ç½®â½¤æˆ·åã€‚ä½¿â½¤ â€“global å‚æ•°å°†é…ç½®å…¨å±€â½¤æˆ·åã€‚</td></tr><tr><td align="left">git add <directory></directory></td><td>å°†æŒ‡å®šç›®å½•çš„æ‰€æœ‰ä¿®æ”¹åŠ â¼Šåˆ°ä¸‹â¼€æ¬¡ commit ä¸­ã€‚æŠŠ<directory>æ›¿æ¢æˆ <file>å°† æ·»åŠ æŒ‡å®šæ–‡ä»¶çš„ä¿®æ”¹ã€‚</file></directory></td></tr><tr><td align="left">git commit -m â€œ<message>â€œ</message></td><td>æäº¤æš‚å­˜åŒºçš„ä¿®æ”¹ï¼Œä½¿ç”¨æŒ‡å®šçš„ <message>ä½œä¸ºæäº¤ä¿¡æ¯ï¼Œè€Œä¸æ˜¯æ‰“å¼€æ–‡æœ¬ç¼–è¾‘å™¨è¾“â¼Šæäº¤ä¿¡æ¯ã€‚</message></td></tr><tr><td align="left">git status</td><td>æ˜¾ç¤ºå“ªäº›â½‚ä»¶å·²è¢« stagedã€æœªè¢« staged ä»¥åŠæœªè·Ÿè¸ª (untracked)ã€‚</td></tr><tr><td align="left">git log</td><td>ä»¥ç¼ºçœæ ¼å¼æ˜¾ç¤ºå…¨éƒ¨ commit å†å²ã€‚æ›´å¤šè‡ªå®šä¹‰å‚æ•°è¯·å‚è€ƒåç»­éƒ¨åˆ†ã€‚</td></tr></tbody></table><h4 id="git-diff"><a href="#git-diff" class="headerlink" title="git diff"></a>git diff</h4><table><thead><tr><th>git diff</th><th>â½è¾ƒâ¼¯ä½œåŒºå’Œæš‚å­˜åŒºçš„ä¿®æ”¹ã€‚</th></tr></thead><tbody><tr><td>git diff HEAD</td><td>â½è¾ƒå·¥ä½œåŒºå’Œä¸Šâ¼€æ¬¡ commit åçš„ä¿®æ”¹ã€‚</td></tr><tr><td>git diff â€“cached</td><td>â½è¾ƒæš‚å­˜åŒºå’Œä¸Šâ¼€æ¬¡ commit åçš„ä¿®æ”¹ã€‚</td></tr></tbody></table><h4 id="undoing-change"><a href="#undoing-change" class="headerlink" title="undoing change"></a>undoing change</h4><table><thead><tr><th align="left">git revert <commit></commit></th><th align="left">å¯¹æŒ‡å®š <commit>åˆ›å»ºâ¼€ä¸ª undo çš„ commitï¼Œå¹¶åº”â½¤åˆ°å½“å‰åˆ†â½€ã€‚</commit></th></tr></thead><tbody><tr><td align="left">git reset <file></file></td><td align="left">å°† <file>ä»æš‚å­˜åŒºç§»é™¤ï¼Œä½†ä¿æŒâ¼¯ä½œåŒºä¸ å˜ã€‚æ­¤æ“ä½œä¸ä¼šä¿®æ”¹â¼¯ä½œåŒºçš„ä»»ä½•â½‚ä»¶ã€‚</file></td></tr></tbody></table><h4 id="rewaiting-git-history"><a href="#rewaiting-git-history" class="headerlink" title="rewaiting git history"></a>rewaiting git history</h4><table><thead><tr><th align="left">git commit -m <message> â€“amend</message></th><th align="left">å°†å½“å‰ staged ä¿®æ”¹åˆå¹¶åˆ°æœ€è¿‘â¼€æ¬¡çš„ commit ä¸­ã€‚</th></tr></thead><tbody><tr><td align="left">git rebase <base></td><td align="left">åŸºäº <base>å¯¹å½“å‰åˆ†â½€è¿›â¾ rebaseã€‚<base>å¯ä»¥æ˜¯ commitã€åˆ†â½€åç§°ã€tag æˆ–ç›¸å¯¹äº HEAD çš„ commitã€‚</td></tr><tr><td align="left">git reflog</td><td align="left">æ˜¾ç¤ºæœ¬åœ° repo çš„æ‰€æœ‰ commit â½‡å¿—ã€‚</td></tr></tbody></table><h4 id="git-branches"><a href="#git-branches" class="headerlink" title="git branches"></a>git branches</h4><table><thead><tr><th>git branch</th><th>æ˜¾ç¤ºæœ¬åœ° repo çš„æ‰€æœ‰åˆ†â½€ã€‚</th></tr></thead><tbody><tr><td>git switch -c <branch></branch></td><td>åˆ›å»ºå¹¶åˆ‡æ¢åˆ°â¼€ä¸ªæ–°çš„åä¸º <branch>çš„åˆ†â½€ã€‚å»æ‰-c å‚æ•°å°†åˆ‡æ¢åˆ°â¼€ä¸ªå·²æœ‰åˆ†â½€ã€‚</branch></td></tr><tr><td>git merge <branch></branch></td><td>å°†æŒ‡å®š <branch>åˆ†â½€åˆå¹¶åˆ°å½“å‰åˆ†â½€ã€‚</branch></td></tr></tbody></table><h4 id="remote-repositories"><a href="#remote-repositories" class="headerlink" title="remote repositories"></a>remote repositories</h4><table><thead><tr><th align="left">git remote add <name> <url></url></name></th><th align="left">æ·»åŠ â¼€ä¸ªæ–°çš„è¿œç¨‹è¿æ¥ã€‚æ·»åŠ åå¯ä½¿ç”¨<name>ä½œä¸ºæŒ‡å®š <url>è¿œç¨‹è¿æ¥çš„åç§°ã€‚</url></name></th></tr></thead><tbody><tr><td align="left">git fetch <remote> <branch></branch></remote></td><td align="left">ä»æŒ‡å®š<remote>æŠ“å–æŒ‡å®š<branch>çš„æ‰€æœ‰ commit åˆ°æœ¬åœ° repoã€‚å»æ‰ <branch>å°†æŠ“å–è¿œç¨‹æ‰€æœ‰åˆ†â½€çš„ä¿®æ”¹ã€‚</branch></branch></remote></td></tr><tr><td align="left">git pull <remote></remote></td><td align="left">ä»æŒ‡å®š<remote>æŠ“å–æ‰€æœ‰åˆ†â½€çš„ commit å¹¶â½´åˆ»åˆå¹¶åˆ°æœ¬åœ° repoã€‚</remote></td></tr><tr><td align="left">git push <remote> <branch></branch></remote></td><td align="left">å°†æœ¬åœ°æŒ‡å®š<branch>æ¨é€åˆ°æŒ‡å®šè¿œç¨‹<remote>ã€‚å¦‚æœè¿œç¨‹æ²¡æœ‰å¯¹åº”çš„åˆ†â½€ï¼Œå°†â¾ƒåŠ¨åœ¨è¿œç¨‹åˆ›å»ºæ­¤åˆ†â½€ã€‚</remote></branch></td></tr></tbody></table><h4 id="git-config"><a href="#git-config" class="headerlink" title="git config"></a>git config</h4><table><thead><tr><th align="left">git config â€“ global user.name <name></name></th><th align="left">é…ç½®å½“å‰ç”¨æˆ·åï¼Œä½¿â½¤â€“global å‚æ•°å°†é’ˆå¯¹å½“å‰ç³»ç»Ÿç™»å½•ç”¨æˆ·ç”Ÿæ•ˆã€‚</th></tr></thead><tbody><tr><td align="left">git config â€“ global user.email <email></email></td><td align="left">é…ç½®å½“å‰â½¤æˆ· Emailã€‚</td></tr><tr><td align="left">git config â€“ global alias. <alias-name> <git-command></git-command></alias-name></td><td align="left">é…ç½®â¼€ä¸ª git å‘½ä»¤çš„å¿«æ·â½…å¼ã€‚ä¾‹å¦‚ï¼šé…ç½® â€alias.glog log â€“graph â€“onelineâ€ä½¿ â€git glogâ€ç›¸å½“äº â€git log â€“graph â€“onelineâ€.</td></tr><tr><td align="left">git config â€“ system core.editor <editor></editor></td><td align="left">é…ç½®â½‚æœ¬ç¼–è¾‘å™¨ï¼Œä¾‹å¦‚ viï¼Œåœ¨å¿…è¦æ—¶â¾ƒåŠ¨æ‰“å¼€æ­¤â½‚æœ¬ç¼–è¾‘å™¨ã€‚</td></tr><tr><td align="left">git config â€“ global â€“edit</td><td align="left">æ‰“å¼€å½“å‰â½¤æˆ·çš„ git å…¨å±€é…ç½®å¹¶ç¼–è¾‘ã€‚</td></tr></tbody></table><h4 id="git-log"><a href="#git-log" class="headerlink" title="git log"></a>git log</h4><table><thead><tr><th>git log -<limit></limit></th><th align="left">é™åˆ¶ log çš„æ˜¾ç¤ºæ•°é‡ã€‚ä¾‹å¦‚ï¼šâ€git log -5â€ä»… æ˜¾ç¤ºæœ€æ–° 5 æ¡ commitã€‚</th></tr></thead><tbody><tr><td>git log â€“oneline</td><td align="left">æ¯â¾æ˜¾ç¤ºâ¼€æ¡ commitã€‚</td></tr><tr><td>git log â€“author â€œ<pattern>â€œ</pattern></td><td align="left">æŒ‰æäº¤è€…åå­—æœç´¢å¹¶æ˜¾ç¤º commitã€‚</td></tr><tr><td>git log â€“grep â€œ<pattern>â€œ</pattern></td><td align="left">æŒ‰æŒ‡å®šå†…å®¹æœç´¢å¹¶æ˜¾ç¤º commitã€‚</td></tr><tr><td>git log <since>..<until></until></since></td><td align="left">æ˜¾ç¤ºæŒ‡å®šèŒƒå›´çš„ commitã€‚èŒƒå›´å‚æ•°å¯ä»¥æ˜¯ commit IDã€åˆ†â½€åç§°ã€HEAD æˆ–ä»»æ„ç›¸å¯¹ ä½ç½®ã€‚</td></tr><tr><td>git log â€“ <file></file></td><td align="left">ä»…æ˜¾ç¤ºåŒ…å«æŒ‡å®šâ½‚ä»¶ä¿®æ”¹çš„ commitã€‚</td></tr><tr><td>git log â€“graph</td><td align="left">ä½¿â½¤â€“graph å‚æ•°æ˜¾ç¤ºå›¾å½¢åŒ–çš„ branch ä¿¡ æ¯ã€‚</td></tr></tbody></table><h4 id="git-reset"><a href="#git-reset" class="headerlink" title="git reset"></a>git reset</h4><table><thead><tr><th>git reset</th><th align="left">ç§»é™¤æ‰€æœ‰æš‚å­˜åŒºçš„ä¿®æ”¹ï¼Œä½†ä¸ä¼šä¿®æ”¹â¼¯ä½œåŒºã€‚</th></tr></thead><tbody><tr><td>git reset â€“hard</td><td align="left">ç§»é™¤æ‰€æœ‰æš‚å­˜åŒºçš„ä¿®æ”¹ï¼Œå¹¶å¼ºåˆ¶åˆ é™¤æ‰€æœ‰â¼¯ä½œåŒºçš„ä¿®æ”¹ã€‚</td></tr><tr><td>git reset <commit></commit></td><td align="left">å°†å½“å‰åˆ†â½€å›æ»šåˆ°æŒ‡å®š<commit>ï¼Œæ¸…é™¤æš‚å­˜åŒºçš„ä¿®æ”¹ï¼Œä½†ä¿æŒâ¼¯ä½œåŒºçŠ¶æ€ä¸å˜ã€‚</commit></td></tr><tr><td>git reset <commit> â€“hard</commit></td><td align="left">å°†å½“å‰åˆ†â½€å›æ»šåˆ°æŒ‡å®š<commit>ï¼Œæ¸…é™¤æš‚å­˜åŒºçš„ä¿®æ”¹ï¼Œå¹¶å¼ºåˆ¶åˆ é™¤æ‰€æœ‰â¼¯ä½œåŒºçš„ä¿®æ”¹ã€‚</commit></td></tr></tbody></table><h4 id="git-rebase"><a href="#git-rebase" class="headerlink" title="git rebase"></a>git rebase</h4><table><thead><tr><th>git rebase -i <base></th><th align="left">ä»¥äº¤äº’æ¨¡å¼å¯¹å½“å‰åˆ†æ”¯åš rebase</th></tr></thead></table><h4 id="git-pull"><a href="#git-pull" class="headerlink" title="git pull"></a>git pull</h4><table><thead><tr><th align="left">git pull â€“rebase <remote></remote></th><th align="left">æŠ“å–æ‰€æœ‰çš„è¿œç¨‹åˆ†æ”¯ï¼Œå¹¶ä»¥ rebase æ¨¡å¼å¹¶å…¥æœ¬åœ°çš„ repo è€Œä¸æ˜¯ merge</th></tr></thead></table><h4 id="git-push"><a href="#git-push" class="headerlink" title="git push"></a>git push</h4><table><thead><tr><th align="left">git push <remote> â€“force</remote></th><th align="left">å°†æœ¬åœ°åˆ†â½€æ¨é€åˆ°è¿œç¨‹ã€‚ä¸è¦ä½¿â½¤â€“force å‚æ•°ï¼Œé™¤â¾®ä½ å®Œå…¨æ˜â½©æ­¤æ“ä½œçš„åæœã€‚</th></tr></thead><tbody><tr><td align="left">git push <remote> â€“tags</remote></td><td align="left">ä½¿â½¤ push å‘½ä»¤å¹¶ä¸ä¼šâ¾ƒåŠ¨å°†æœ¬åœ° tag æ¨é€ åˆ°è¿œç¨‹ã€‚åŠ ä¸Šâ€“tags å‚æ•°ä¼šå°†æ‰€æœ‰æœ¬åœ° tag æ¨é€åˆ°è¿œç¨‹ã€‚</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> Git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç§»åŠ¨ç«¯é€‚é…çš„å‡ ç§æ–¹æ¡ˆè®°å½•</title>
      <link href="/2021/10/14/yi-dong-duan-gua-pei-de-ji-chong-fang-an-ji-lu/"/>
      <url>/2021/10/14/yi-dong-duan-gua-pei-de-ji-chong-fang-an-ji-lu/</url>
      
        <content type="html"><![CDATA[<h3 id="ç§»åŠ¨ç«¯é€‚é…çš„å‡ ç§æ–¹æ¡ˆè®°å½•"><a href="#ç§»åŠ¨ç«¯é€‚é…çš„å‡ ç§æ–¹æ¡ˆè®°å½•" class="headerlink" title="ç§»åŠ¨ç«¯é€‚é…çš„å‡ ç§æ–¹æ¡ˆè®°å½•"></a>ç§»åŠ¨ç«¯é€‚é…çš„å‡ ç§æ–¹æ¡ˆè®°å½•</h3><h4 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h4><ol><li>å†™é¡µé¢æ—¶ï¼ŒæŒ‰ç…§è®¾è®¡ç¨¿å†™å›ºå®šå®½åº¦ï¼Œæœ€åå†ç»Ÿä¸€ç¼©æ”¾å¤„ç†ï¼Œåœ¨ä¸åŒæ‰‹æœºä¸Šéƒ½èƒ½ç”¨</li><li>æŒ‰ç…§è®¾è®¡ç¨¿çš„æ ‡å‡†å¼€å‘é¡µé¢ï¼Œåœ¨æ‰‹æœºä¸Šéƒ¨åˆ†å†…å®¹æ ¹æ®å±å¹•å®½åº¦ç­‰æ¯”ç¼©æ”¾ï¼Œéƒ¨åˆ†å†…å®¹æŒ‰éœ€è¦å˜åŒ–ï¼Œéœ€è¦ç¼©æ”¾çš„å…ƒç´ ä½¿ç”¨<code>rem</code>||<code> vw</code>ç›¸å¯¹å•ä½ï¼Œä¸éœ€è¦ç¼©æ”¾çš„ä½¿ç”¨<code>px</code></li><li>å›ºå®šå°ºå¯¸+å¼¹æ€§å¸ƒå±€ï¼Œä¸éœ€è¦ç¼©æ”¾ï¼ˆ<code>viewport</code>ã€<code>vm</code>ã€<code>rem</code>ï¼‰ä½†æ˜¯ç­‰æ¯”é€‚é…ï¼Œæ”¾åœ¨<code>ipad</code>ä¸Šçš„æ—¶å€™ï¼ˆè®¾è®¡ç¨¿ä»¥æ‰‹æœºå±å¹•è®¾è®¡ï¼‰ï¼Œé¡µé¢çš„å…ƒç´ ä¼šå¾ˆå¤§å¾ˆä¸‘ï¼Œæ‰€ä»¥å¹¶ä¸æ˜¯æ‰€æœ‰çš„åœºæ™¯ä¸‹ï¼Œé¡µé¢éƒ½åšæ•´ä½“çš„ç¼©æ”¾ï¼ˆ<code>viewport</code> è‡ªåŠ¨å¤„ç†çš„ä¹Ÿå¾ˆå¥½äº†ï¼‰ã€‚åˆ©ç”¨åˆç†çš„å¸ƒå±€ä¹Ÿå¯ä»¥æ¯”å¦‚<code>flex</code>ã€<code>grid</code></li></ol><h4 id="viewport-é€‚é…"><a href="#viewport-é€‚é…" class="headerlink" title="viewport é€‚é…"></a>viewport é€‚é…</h4><img src="https://cdn.jsdelivr.net/gh/JingWZeng/markdownImg/img/202110141424520.jpg" alt="2" style="zoom: 50%;"><p>è®¾è®¡ç¨¿çš„å®½åº¦ä¸º<code>750px</code>,å†™å®Œé¡µé¢ä¹‹åå…ƒç´ è‡ªåŠ¨ç¼©å°ï¼Œé€‚é…<code>375px</code>å®½åº¦çš„å±å¹•ã€‚</p><p><code>&lt;meta name="viewport" content="width=750,initial-scale=0.5"&gt;</code></p><p><code>inital-scale = å±å¹•çš„å®½åº¦ / è®¾è®¡ç¨¿çš„å®½åº¦</code>ã€‚ä½†æ˜¯ç§»åŠ¨ç«¯çš„å±å¹•è‚¯å®šä¸æ­¢ä¸€ç§å®½åº¦ï¼Œæ‰€ä»¥éœ€è¦åŠ¨æ€çš„è®¾ç½® <code>inital-scale</code>çš„å€¼ã€‚</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token operator">&lt;</span>head<span class="token operator">&gt;</span>  <span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>    <span class="token keyword">const</span> <span class="token constant">WIDTH</span> <span class="token operator">=</span> <span class="token number">750</span>    <span class="token keyword">const</span> <span class="token function-variable function">mobileAdapter</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>      <span class="token keyword">let</span> scale <span class="token operator">=</span> screen<span class="token punctuation">.</span>width <span class="token operator">/</span> <span class="token constant">WIDTH</span>      <span class="token keyword">let</span> content <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">width=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token constant">WIDTH</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, initial-scale=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>scale<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, maximum-scale=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>scale<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, minimum-scale=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>scale<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>      <span class="token keyword">let</span> meta <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'meta[name=viewport]'</span><span class="token punctuation">)</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>meta<span class="token punctuation">)</span> <span class="token punctuation">{</span>        meta <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'meta'</span><span class="token punctuation">)</span>        meta<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token string">'viewport'</span><span class="token punctuation">)</span>        document<span class="token punctuation">.</span>head<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>meta<span class="token punctuation">)</span>      <span class="token punctuation">}</span>      meta<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'content'</span><span class="token punctuation">,</span>content<span class="token punctuation">)</span>    <span class="token punctuation">}</span>    <span class="token function">mobileAdapter</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    window<span class="token punctuation">.</span>onorientationchange <span class="token operator">=</span> mobileAdapter <span class="token comment">//å±å¹•ç¿»è½¬æ—¶å†æ¬¡æ‰§è¡Œ,ç¿»è½¬å±å¹•çš„æ—¶å€™é«˜åº¦å’Œå®½åº¦å¯¹æ¢</span>  <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">&gt;</span></code></pre><p><code>document.querySelector('meta[name=viewport]')</code></p><img src="https://cdn.jsdelivr.net/gh/JingWZeng/markdownImg/img/202110141407674.png" alt="image-20211014140709642" style="zoom:150%;"><blockquote><p>ç¼ºç‚¹ï¼š</p><p>è¾¹çº¿çš„é—®é¢˜ï¼Œä¸åŒå°ºå¯¸ä¸‹ï¼Œç­‰æ¯”ç¼©æ”¾ä¹‹åè¾¹çº¿çš„ç²—ç»†ä¸ä¸€æ ·ã€‚è€Œä¸”å…¨éƒ¨çš„å…ƒç´ éƒ½æ˜¯ç­‰æ¯”ç¼©æ”¾ï¼Œå®é™…çš„æ˜¾ç¤ºæ•ˆæœå¯èƒ½ä¸å¤ªå¥½ã€‚</p></blockquote><h4 id="vw-é€‚é…ï¼ˆéƒ¨åˆ†ç­‰æ¯”ç¼©æ”¾ï¼‰"><a href="#vw-é€‚é…ï¼ˆéƒ¨åˆ†ç­‰æ¯”ç¼©æ”¾ï¼‰" class="headerlink" title="vw é€‚é…ï¼ˆéƒ¨åˆ†ç­‰æ¯”ç¼©æ”¾ï¼‰"></a>vw é€‚é…ï¼ˆéƒ¨åˆ†ç­‰æ¯”ç¼©æ”¾ï¼‰</h4><blockquote><p>å¯¹äºä¸éœ€è¦ç¼©æ”¾çš„å…ƒç´ ï¼Œç»§ç»­ä½¿ç”¨<code>px</code>ï¼Œå¯¹äºéœ€è¦ç¼©æ”¾çš„å…ƒç´ ï¼Œä½¿ç”¨<code>vw</code></p></blockquote><ol><li>å¼€å‘è€…æ‹¿åˆ°è®¾è®¡ç¨¿ï¼ˆå‡è®¾è®¾è®¡ç¨¿å°ºå¯¸ä¸º<code>750px</code>ï¼Œè®¾è®¡ç¨¿çš„å…ƒç´ æ ‡æ³¨æ˜¯åŸºäºæ­¤å®½åº¦æ ‡æ³¨ï¼‰</li><li>å¼€å§‹å¼€å‘ï¼Œå¯¹è®¾è®¡ç¨¿çš„æ ‡æ³¨è¿›è¡Œè½¬æ¢ï¼ŒæŠŠ<code>px</code>æ¢æˆ<code>vw</code>ã€‚æ¯”å¦‚é¡µé¢å…ƒç´ å­—ä½“æ ‡æ³¨çš„å¤§å°æ˜¯<code>32px</code>ï¼Œæ¢æˆ<code>vw</code>ä¸º <code>(100/750)*32 vw</code>ã€‚å› ä¸º<code>750px = 100vw</code></li><li>å¯¹äºéœ€è¦ç­‰æ¯”ç¼©æ”¾çš„å…ƒç´ ï¼Œ<code>CSS</code>ä½¿ç”¨è½¬æ¢åçš„å•ä½</li><li>å¯¹äºä¸éœ€è¦ç¼©æ”¾çš„å…ƒç´ ï¼Œæ¯”å¦‚è¾¹æ¡†é˜´å½±ï¼Œä½¿ç”¨å›ºå®šå•ä½<code>px</code></li></ol><p>ä¸ºäº†å¼€å‘ç¯å¢ƒï¼Œå¯ä»¥åˆ©ç”¨è‡ªå®šä¹‰<code>css</code>å˜é‡</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token operator">&lt;</span>head<span class="token operator">&gt;</span>  <span class="token operator">&lt;</span>meta name<span class="token operator">=</span><span class="token string">"viewport"</span> content<span class="token operator">=</span><span class="token string">"width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1"</span><span class="token operator">&gt;</span>  <span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>    <span class="token keyword">const</span> <span class="token constant">WIDTH</span> <span class="token operator">=</span> <span class="token number">750</span>    <span class="token comment">//:root { --width: 0.133333 } 1pxç­‰äºå¤šå°‘vm ---&gt; 100vwå°±æ˜¯750pxå˜›ï¼Œé‚£1vmå°±æ˜¯100/750</span>    document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>style<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">'--width'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">100</span> <span class="token operator">/</span> <span class="token constant">WIDTH</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">&gt;</span></code></pre><blockquote><p>æ³¨æ„ï¼š</p><p>æ­¤æ—¶ä¸éœ€è¦è®¾ç½®<code>initial-scale</code></p></blockquote><p>ä¸šåŠ¡ä»£ç </p><pre class="language-css" data-language="css"><code class="language-css"><span class="token selector">.header</span> <span class="token punctuation">{</span>  <span class="token property">font-size</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span>28vw * <span class="token function">var</span><span class="token punctuation">(</span>--WIDTH<span class="token punctuation">)</span><span class="token punctuation">)</span> // ç›¸å½“äº<span class="token punctuation">(</span>28 * WIDTH<span class="token punctuation">)</span>px<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h4 id="rem-é€‚é…"><a href="#rem-é€‚é…" class="headerlink" title="rem é€‚é…"></a>rem é€‚é…</h4><ol><li>å¼€å‘è€…æ‹¿åˆ°è®¾è®¡ç¨¿ï¼ˆå‡è®¾è®¾è®¡ç¨¿å°ºå¯¸ä¸º<code>750px</code>ï¼Œè®¾è®¡ç¨¿çš„å…ƒç´ æ ‡æ˜¯åŸºäºæ­¤å®½åº¦æ ‡æ³¨ï¼‰</li><li>å¼€å§‹å¼€å‘ï¼Œå¯¹è®¾è®¡ç¨¿çš„æ ‡æ³¨è¿›è¡Œè½¬æ¢</li><li>å¯¹äºéœ€è¦ç­‰æ¯”ç¼©æ”¾çš„å…ƒç´ ï¼Œ<code>CSS</code>ä½¿ç”¨è½¬æ¢åçš„å•ä½</li><li>å¯¹äºä¸éœ€è¦ç¼©æ”¾çš„å…ƒç´ ï¼Œæ¯”å¦‚è¾¹æ¡†é˜´å½±ï¼Œä½¿ç”¨å›ºå®šå•ä½<code>px</code></li></ol><img src="https://cdn.jsdelivr.net/gh/JingWZeng/markdownImg/img/202110141425849.jpg" alt="1" style="zoom:50%;"><p>å‡è®¾è®¾è®¡ç¨¿çš„æŸä¸ªå­—ä½“å¤§å°æ˜¯<code>40px</code>, æ‰‹æœºå±å¹•ä¸Šçš„å­—ä½“å¤§å°åº”ä¸º<code>420/750*40 = 22.4px</code>(ä½“éªŒå¥½)ï¼Œæ¢ç®—æˆ<code>rem</code>ï¼ˆç›¸å¯¹äº <code>html</code>æ ¹èŠ‚ç‚¹ï¼Œå‡è®¾<code>html</code>çš„<code>font-size = 100px</code>ï¼‰åˆ™è¿™ä¸ªå­—ä½“å¤§å°ä¸º<code>0.224 rem</code></p><p>å†™æ ·å¼æ—¶ï¼Œå¯¹åº”çš„å­—ä½“è®¾ç½®ä¸º<code>0.224 rem</code>å³å¯ï¼Œå…¶ä»–å…ƒç´ å°ºå¯¸ä¹Ÿåšæ¢ç®—â€¦å¦‚æœå°±è¿™æ ·åšçš„è¯ï¼Œé‚£æ‰€æœ‰çš„éœ€è¦ç¼©æ”¾çš„éƒ½éœ€è¦è‡ªåŠ¨åŠ¨æ‰‹ç®—ä¸€éï¼Œè½¬æ¢æ€è·¯ï¼šçœ‹åˆ°<code>40px</code>ï¼Œå°±åº”è¯¥å†™<code>40/100=0.4rem</code>, è¿™æ ·çœ‹åˆ°å°±çŸ¥é“å¤šå°‘ï¼Œå°±å¯ä»¥ä¸ç”¨è®¡ç®—äº†ã€‚æ­¤æ—¶è§„å®š<code>html</code>çš„<code>font-size</code>å°±ä¸æ˜¯<code>100px</code>ï¼Œåº”è¯¥æ˜¯<code>(420*100)/750 = 56px</code>ã€‚<code>100</code>è¿™ä¸ªæ•°æ˜¯æˆ‘ä»¬è‡ªå·±è§„å®šçš„ã€‚</p><blockquote><p>è®¡ç®—æ€è·¯ï¼š</p><table><thead><tr><th align="center"></th><th align="center">å±å¹•</th><th align="center">è®¾è®¡ç¨¿</th></tr></thead><tbody><tr><td align="center"></td><td align="center">420px</td><td align="center">750px</td></tr><tr><td align="center">html çš„ font-size</td><td align="center">56px</td><td align="center">100px</td></tr></tbody></table><p><code>420/x=750/100 ===&gt; x=56px</code></p><p>æˆ‘ä»¬åœ¨å¼€å‘çš„æ—¶å€™æ˜¯åœ¨<code>750px</code>çš„è®¾è®¡ç¨¿åŸºç¡€ä¸Šå¼€å‘ã€‚æ­¤æ—¶é¡µé¢çš„<code>html</code>çš„<code>font-size</code>ä¸º<code>100px</code>ï¼Œè€Œ rem å°±æ˜¯ç›¸å¯¹äºè¯¥å€¼è®¡ç®—ï¼Œä¹Ÿå°±æ˜¯éœ€è¦ç¼©æ”¾çš„<code>40px</code>ï¼Œç›´æ¥å†™æˆ<code>40/100 = 0.4rem</code>ã€‚è€Œåœ¨<code>420px</code>çš„å±å¹•ä¸­çš„<code>html</code>çš„<code>font-size</code>è®¾ç½®æˆ 56px å°±å¯ä»¥ã€‚å½“ç„¶<code>100</code>æ˜¯è‡ªå·±å–çš„å€¼ï¼Œä¸ºäº†æ–¹ä¾¿è®¡ç®—ï¼Œå¯ä»¥å–å…¶ä»–å€¼ï¼Œä½†æ˜¯ä¸è¦å–<code>1px</code>,æµè§ˆå™¨å¯¹å…¶ä¼šæœ‰ä¸åŒçš„è®¡ç®—(ä¸å‡†ç¡®)</p></blockquote><p>ç°åœ¨è¦åšçš„å°±æ˜¯ï¼Œæ ¹æ®ä¸åŒçš„å±å¹•å®½åº¦ï¼Œè®¾ç½®<code>html</code>çš„<code>font-size</code>å€¼</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token operator">&lt;</span>head<span class="token operator">&gt;</span>  <span class="token operator">&lt;</span>meta name<span class="token operator">=</span><span class="token string">"viewport"</span> content<span class="token operator">=</span><span class="token string">"width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1"</span><span class="token operator">&gt;</span>  <span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>    <span class="token keyword">const</span> <span class="token constant">WIDTH</span> <span class="token operator">=</span> <span class="token number">750</span> <span class="token comment">//è®¾è®¡ç¨¿å°ºå¯¸</span>    <span class="token keyword">const</span> <span class="token function-variable function">setView</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>      document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>style<span class="token punctuation">.</span>fontSize <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">100</span> <span class="token operator">*</span> screen<span class="token punctuation">.</span>width <span class="token operator">/</span> <span class="token constant">WIDTH</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'px'</span>    <span class="token punctuation">}</span>    <span class="token function">setView</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    window<span class="token punctuation">.</span>onorientationchange <span class="token operator">=</span> setView <span class="token comment">// å±å¹•ç¿»è½¬ä¹‹åé‡æ–°è°ƒç”¨ä¸€æ¬¡</span>  <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">&gt;</span></code></pre><p>ä¸šåŠ¡ä»£ç </p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// ä½¿ç”¨css</span><span class="token punctuation">.</span>header<span class="token punctuation">{</span>    font<span class="token operator">-</span>size<span class="token operator">:</span> <span class="token number">.28</span>rem<span class="token punctuation">}</span><span class="token comment">// ä½¿ç”¨sass ï¼ˆå‡½æ•°æŒ‡ä»¤ï¼‰</span>@<span class="token keyword">function</span> <span class="token function">px2rem</span><span class="token punctuation">(</span><span class="token parameter">$px</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    @<span class="token keyword">return</span> $px <span class="token operator">*</span> <span class="token number">1</span>rem <span class="token operator">/</span> <span class="token number">100</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">.</span>header<span class="token punctuation">{</span>    font<span class="token operator">-</span>size<span class="token operator">:</span><span class="token function">px2rem</span><span class="token punctuation">(</span><span class="token number">28</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>æ¨èé˜…è¯»ï¼š</p><p><a href="https://juejin.cn/post/6844903845617729549">å…³äºç§»åŠ¨ç«¯é€‚é…ï¼Œä½ å¿…é¡»è¦çŸ¥é“çš„(è¶…çº§è¯¦ç»†)</a></p>]]></content>
      
      
      <categories>
          
          <category> ç§»åŠ¨ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç§»åŠ¨ç«¯ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å‚è€ƒvue-element-adminçš„i18nå®ç°æ€è·¯</title>
      <link href="/2021/10/13/can-kao-vue-element-admin-de-i18n-shi-xian-si-lu/"/>
      <url>/2021/10/13/can-kao-vue-element-admin-de-i18n-shi-xian-si-lu/</url>
      
        <content type="html"><![CDATA[<h2 id="å›½é™…åŒ–-Vue-ElementUI-çš„å®ç°"><a href="#å›½é™…åŒ–-Vue-ElementUI-çš„å®ç°" class="headerlink" title="å›½é™…åŒ–(Vue+ElementUI)çš„å®ç°"></a>å›½é™…åŒ–(Vue+ElementUI)çš„å®ç°</h2><h4 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h4><p><code>npm install vue-i18n --save-dev</code></p><h4 id="å¼•å…¥"><a href="#å¼•å…¥" class="headerlink" title="å¼•å…¥"></a>å¼•å…¥</h4><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// src/main.js</span><span class="token keyword">import</span> i18n <span class="token keyword">from</span> <span class="token string">'@/lang/index.js'</span>Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>ElementUIï¼Œ<span class="token punctuation">{</span>        <span class="token function-variable function">i18n</span><span class="token operator">:</span><span class="token punctuation">(</span><span class="token parameter">key<span class="token punctuation">,</span>value</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> i18n<span class="token punctuation">.</span><span class="token function">t</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span>value<span class="token punctuation">)</span> <span class="token comment">// ElementUIé»˜è®¤åªå…¼å®¹vue-i18nçš„5.xç‰ˆæœ¬ã€‚è¯¥è¡Œä»£ç æ˜¯ä¸ºäº†å…¼å®¹7.xç”šè‡³æ›´æ–°çš„ç‰ˆæœ¬</span>        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  el<span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>  i18n<span class="token punctuation">,</span>  <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token parameter">h</span> <span class="token operator">=&gt;</span> <span class="token function">h</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// src/lang/index.js</span><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">"vue"</span><span class="token punctuation">;</span><span class="token keyword">import</span> VueI18n <span class="token keyword">from</span> <span class="token string">"vue-i18n"</span><span class="token punctuation">;</span><span class="token keyword">import</span> Cookies <span class="token keyword">from</span> <span class="token string">"js-cookie"</span><span class="token punctuation">;</span><span class="token keyword">import</span> elementEnLocale <span class="token keyword">from</span> <span class="token string">"element-ui/lib/locale/lang/en"</span><span class="token punctuation">;</span> <span class="token comment">// element-ui çš„è¯­è¨€åŒ…</span><span class="token keyword">import</span> elementZhLocale <span class="token keyword">from</span> <span class="token string">"element-ui/lib/locale/lang/zh-CN"</span><span class="token punctuation">;</span> <span class="token comment">// element-ui çš„è¯­è¨€åŒ…</span><span class="token keyword">import</span> enLocale <span class="token keyword">from</span> <span class="token string">"./en"</span><span class="token punctuation">;</span><span class="token keyword">import</span> zhLocale <span class="token keyword">from</span> <span class="token string">"./zh"</span><span class="token punctuation">;</span>Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>VueI18n<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> message <span class="token operator">=</span> <span class="token punctuation">{</span>  en<span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token comment">// å¯¼å…¥å¤šä¸ªè¯­è¨€åŒ…</span>    <span class="token operator">...</span>enLocale<span class="token punctuation">,</span>    <span class="token operator">...</span>elementEnLocale<span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  zh<span class="token operator">:</span> <span class="token punctuation">{</span>    <span class="token operator">...</span>zhLocale<span class="token punctuation">,</span>    <span class="token operator">...</span>elementZhLocale<span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">getLanguage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">const</span> chooseLanguage <span class="token operator">=</span> Cookies<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"language"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>chooseLanguage<span class="token punctuation">)</span> <span class="token keyword">return</span> chooseLanguage<span class="token punctuation">;</span>  <span class="token comment">// if has not choose language</span>  <span class="token keyword">const</span> language <span class="token operator">=</span> <span class="token punctuation">(</span>    navigator<span class="token punctuation">.</span>language <span class="token operator">||</span> navigator<span class="token punctuation">.</span>browserLanguage  <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// z-cn</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>language<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">const</span> locales <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>messages<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> locale <span class="token keyword">of</span> locales<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>language<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>locale<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">return</span> locale<span class="token punctuation">;</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span>  <span class="token keyword">return</span> <span class="token string">"zh"</span><span class="token punctuation">;</span> <span class="token comment">// é»˜è®¤è¿”å›çš„æ˜¯ä¸­æ–‡</span><span class="token punctuation">}</span><span class="token keyword">const</span> i18n <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueI18n</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token comment">// set locale</span>  <span class="token comment">// options: en | zh | es</span>  locale<span class="token operator">:</span> <span class="token function">getLanguage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//  è¯­è¨€æ ‡è¯†</span>  <span class="token comment">// set locale messages</span>  messages<span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">export</span> <span class="token keyword">default</span> i18n<span class="token punctuation">;</span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// ./zh</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>  route<span class="token operator">:</span> <span class="token punctuation">{</span>    dashboard<span class="token operator">:</span> <span class="token string">'é¦–é¡µ'</span><span class="token punctuation">,</span>    documentation<span class="token operator">:</span> <span class="token string">'æ–‡æ¡£'</span><span class="token punctuation">,</span>    guide<span class="token operator">:</span> <span class="token string">'å¼•å¯¼é¡µ'</span><span class="token punctuation">,</span>    permission<span class="token operator">:</span> <span class="token string">'æƒé™æµ‹è¯•é¡µ'</span>    <span class="token operator">...</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  navbar<span class="token operator">:</span> <span class="token punctuation">{</span>    dashboard<span class="token operator">:</span> <span class="token string">'é¦–é¡µ'</span><span class="token punctuation">,</span>    github<span class="token operator">:</span> <span class="token string">'é¡¹ç›®åœ°å€'</span><span class="token punctuation">,</span>    logOut<span class="token operator">:</span> <span class="token string">'é€€å‡ºç™»å½•'</span><span class="token punctuation">,</span>    profile<span class="token operator">:</span> <span class="token string">'ä¸ªäººä¸­å¿ƒ'</span><span class="token punctuation">,</span>    theme<span class="token operator">:</span> <span class="token string">'æ¢è‚¤'</span><span class="token punctuation">,</span>    size<span class="token operator">:</span> <span class="token string">'å¸ƒå±€å¤§å°'</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>   <span class="token operator">...</span><span class="token punctuation">}</span></code></pre><h4 id="vue-i18n-æ•°æ®æ¸²æŸ“çš„æ¨¡æ¿è¯­æ³•"><a href="#vue-i18n-æ•°æ®æ¸²æŸ“çš„æ¨¡æ¿è¯­æ³•" class="headerlink" title="vue-i18n æ•°æ®æ¸²æŸ“çš„æ¨¡æ¿è¯­æ³•"></a>vue-i18n æ•°æ®æ¸²æŸ“çš„æ¨¡æ¿è¯­æ³•</h4><p>æ¨¡æ¿è¯­æ³•æš‚æ—¶åˆ†ä¸ºä¸‰ç§ï¼š</p><pre class="language-vue" data-language="vue"><code class="language-vue">//vueç»„ä»¶æ¨¡æ¿çš„ä½¿ç”¨&lt;div&gt;{{$t('navbar.github')}}&lt;/div&gt;//vueç»„ä»¶æ¨¡æ¿æ•°æ®ç»‘å®šçš„ä½¿ç”¨&lt;input :placeholder="$t('navbar.github')"&gt;&lt;/input&gt;//vueç»„ä»¶dataä¸­èµ‹å€¼çš„ä½¿ç”¨data:{   msg:this.$t('navbar.github');  // åœ¨templateæ¨¡æ¿ä¸­æ˜¯ä¸éœ€è¦ä½¿ç”¨thisæ¥è®¿é—®vueå®ä¾‹å˜é‡æ»´}</code></pre><h4 id="è·¯ç”±ä¸é¢åŒ…å±‘å›½é™…åŒ–çš„è¯­æ³•é—®é¢˜"><a href="#è·¯ç”±ä¸é¢åŒ…å±‘å›½é™…åŒ–çš„è¯­æ³•é—®é¢˜" class="headerlink" title="è·¯ç”±ä¸é¢åŒ…å±‘å›½é™…åŒ–çš„è¯­æ³•é—®é¢˜"></a>è·¯ç”±ä¸é¢åŒ…å±‘å›½é™…åŒ–çš„è¯­æ³•é—®é¢˜</h4><p><strong>é¢åŒ…å±‘</strong></p><p><img src="https://cdn.jsdelivr.net/gh/JingWZeng/markdownImg/img/202110131642640.png" alt="image-20211013164258567"></p><p><img src="https://cdn.jsdelivr.net/gh/JingWZeng/markdownImg/img/202110131643725.png" alt="image-20211013164313694"></p><p>é€šè¿‡<code>generateTitle</code>è½¬æˆ<code>route.[xxx]</code>çš„æ ¼å¼ï¼Œå³æ˜¯è®¿é—®<code>zh.js</code>ä¸­çš„<code>key</code>å€¼æ ¼å¼ã€‚è¿›è€Œè¿›è¡Œç¿»è¯‘è½¬æ¢ã€‚</p><p><strong>è·¯ç”±</strong></p><p>è€Œè¯¥é¡¹ç›®è·¯ç”±æ˜¯é€šè¿‡åŠ¨æ€è·¯ç”±åŠ è½½èœå•çš„å½¢å¼ç”Ÿæˆçš„ä¾§è¾¹æ ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/JingWZeng/markdownImg/img/202110131647063.png" alt="image-20211013164737019"></p><h4 id="i18n-çš„å‡ ä¸ª-api"><a href="#i18n-çš„å‡ ä¸ª-api" class="headerlink" title="i18n çš„å‡ ä¸ª api"></a>i18n çš„å‡ ä¸ª api</h4><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">$t</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> è¿”å›ç¿»è¯‘åçš„ç»“æœ<span class="token function">$te</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> æ£€æŸ¥å­˜åœ¨æœ¬åœ°è¯­è¨€ç¯å¢ƒä¿¡æ¯keyï¼Œè¿”å›å¸ƒå°”å€¼ ä¾‹å¦‚<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">navbar.github</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">(</span>æ•´ä¸ªæ˜¯ä¸ª<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">key</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> vue-admin </category>
          
          <category> i18n </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vue-admin </tag>
            
            <tag> i18n </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åŠ¨æ€è·¯ç”±æƒé™çš„è§£å†³æ–¹æ¡ˆ</title>
      <link href="/2021/10/13/dong-tai-lu-you-quan-xian-de-jie-jue-fang-an/"/>
      <url>/2021/10/13/dong-tai-lu-you-quan-xian-de-jie-jue-fang-an/</url>
      
        <content type="html"><![CDATA[<h2 id="Vue-åŠ¨æ€æ·»åŠ è·¯ç”±åŠç”Ÿæˆèœå•"><a href="#Vue-åŠ¨æ€æ·»åŠ è·¯ç”±åŠç”Ÿæˆèœå•" class="headerlink" title="Vue åŠ¨æ€æ·»åŠ è·¯ç”±åŠç”Ÿæˆèœå•"></a>Vue åŠ¨æ€æ·»åŠ è·¯ç”±åŠç”Ÿæˆèœå•</h2><p>å†™åå°ç®¡ç†ç³»ç»Ÿï¼Œä¼°è®¡æœ‰ä¸å°‘äººé‡è¿‡è¿™æ ·çš„éœ€æ±‚ï¼šæ ¹æ®åå°æ•°æ®åŠ¨æ€æ·»åŠ è·¯ç”±å’Œèœå•ã€‚<br><br>ä¸ºä»€ä¹ˆè¿™ä¹ˆåšå‘¢ï¼Ÿå› ä¸ºä¸åŒçš„ç”¨æˆ·æœ‰ä¸åŒçš„æƒé™ï¼Œèƒ½è®¿é—®çš„é¡µé¢æ˜¯ä¸ä¸€æ ·çš„ã€‚<br><br>æ€è·¯æ˜¯ä»¿ç…§<code>vue-element-admin</code>ã€‚<br></p><h3 id="åŠ¨æ€ç”Ÿæˆè·¯ç”±"><a href="#åŠ¨æ€ç”Ÿæˆè·¯ç”±" class="headerlink" title="åŠ¨æ€ç”Ÿæˆè·¯ç”±"></a>åŠ¨æ€ç”Ÿæˆè·¯ç”±</h3><p>åˆ©ç”¨ vue-router çš„ <code>addRoutes</code> æ–¹æ³•å¯ä»¥åŠ¨æ€æ·»åŠ è·¯ç”±ã€‚</p><p>å…ˆçœ‹ä¸€ä¸‹å®˜æ–¹ä»‹ç»ï¼š</p><p><strong>router.addRoutes</strong></p><pre class="language-js" data-language="js"><code class="language-js">router<span class="token punctuation">.</span><span class="token function">addRoutes</span><span class="token punctuation">(</span><span class="token punctuation">(</span>routes<span class="token operator">:</span> Array<span class="token operator">&lt;</span>RouteConfig<span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>åŠ¨æ€æ·»åŠ æ›´å¤šçš„è·¯ç”±è§„åˆ™ã€‚å‚æ•°å¿…é¡»æ˜¯ä¸€ä¸ªç¬¦åˆ <code>routes</code> é€‰é¡¹è¦æ±‚çš„æ•°ç»„ã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼š</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Router</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  routes<span class="token operator">:</span> <span class="token punctuation">[</span>    <span class="token punctuation">{</span>      path<span class="token operator">:</span> <span class="token string">"/login"</span><span class="token punctuation">,</span>      name<span class="token operator">:</span> <span class="token string">"login"</span><span class="token punctuation">,</span>      <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">"../components/Login.vue"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">{</span> path<span class="token operator">:</span> <span class="token string">"/"</span><span class="token punctuation">,</span> redirect<span class="token operator">:</span> <span class="token string">"/home"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>ä¸Šé¢çš„ä»£ç å’Œä¸‹é¢çš„ä»£ç æ•ˆæœæ˜¯ä¸€æ ·çš„</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Router</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  routes<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> path<span class="token operator">:</span> <span class="token string">"/"</span><span class="token punctuation">,</span> redirect<span class="token operator">:</span> <span class="token string">"/home"</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>router<span class="token punctuation">.</span><span class="token function">addRoutes</span><span class="token punctuation">(</span><span class="token punctuation">[</span>  <span class="token punctuation">{</span>    path<span class="token operator">:</span> <span class="token string">"/login"</span><span class="token punctuation">,</span>    name<span class="token operator">:</span> <span class="token string">"login"</span><span class="token punctuation">,</span>    <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">"../components/Login.vue"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>åœ¨åŠ¨æ€æ·»åŠ è·¯ç”±çš„è¿‡ç¨‹ä¸­ï¼Œå¦‚æœæœ‰ 404 é¡µé¢ï¼Œä¸€å®šè¦æ”¾åœ¨æœ€åæ·»åŠ ï¼Œå¦åˆ™åœ¨ç™»é™†çš„æ—¶å€™æ·»åŠ å®Œé¡µé¢ä¼šé‡å®šå‘åˆ° 404 é¡µé¢ã€‚</p><p>ç±»ä¼¼äºè¿™æ ·ï¼Œè¿™ç§è§„åˆ™ä¸€å®šè¦æœ€åæ·»åŠ ã€‚</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token punctuation">{</span>path<span class="token operator">:</span> <span class="token string">'*'</span><span class="token punctuation">,</span> redirect<span class="token operator">:</span> <span class="token string">'/404'</span><span class="token punctuation">}</span></code></pre><h3 id="åŠ¨æ€ç”Ÿæˆèœå•"><a href="#åŠ¨æ€ç”Ÿæˆèœå•" class="headerlink" title="åŠ¨æ€ç”Ÿæˆèœå•"></a>åŠ¨æ€ç”Ÿæˆèœå•</h3><p>å‡è®¾åå°è¿”å›æ¥çš„æ•°æ®é•¿è¿™æ ·</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// å·¦ä¾§èœå•æ æ•°æ®</span>menuItems<span class="token operator">:</span> <span class="token punctuation">[</span>  <span class="token punctuation">{</span>    name<span class="token operator">:</span> <span class="token string">"home"</span><span class="token punctuation">,</span> <span class="token comment">// è¦è·³è½¬çš„è·¯ç”±åç§° ä¸æ˜¯è·¯å¾„</span>    size<span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token comment">// iconå¤§å°</span>    type<span class="token operator">:</span> <span class="token string">"md-home"</span><span class="token punctuation">,</span> <span class="token comment">// iconç±»å‹</span>    text<span class="token operator">:</span> <span class="token string">"ä¸»é¡µ"</span><span class="token punctuation">,</span> <span class="token comment">// æ–‡æœ¬å†…å®¹</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token punctuation">{</span>    text<span class="token operator">:</span> <span class="token string">"äºŒçº§èœå•"</span><span class="token punctuation">,</span>    type<span class="token operator">:</span> <span class="token string">"ios-paper"</span><span class="token punctuation">,</span>    children<span class="token operator">:</span> <span class="token punctuation">[</span>      <span class="token punctuation">{</span>        type<span class="token operator">:</span> <span class="token string">"ios-grid"</span><span class="token punctuation">,</span>        name<span class="token operator">:</span> <span class="token string">"t1"</span><span class="token punctuation">,</span>        text<span class="token operator">:</span> <span class="token string">"è¡¨æ ¼"</span><span class="token punctuation">,</span>      <span class="token punctuation">}</span><span class="token punctuation">,</span>      <span class="token punctuation">{</span>        text<span class="token operator">:</span> <span class="token string">"ä¸‰çº§èœå•"</span><span class="token punctuation">,</span>        type<span class="token operator">:</span> <span class="token string">"ios-paper"</span><span class="token punctuation">,</span>        children<span class="token operator">:</span> <span class="token punctuation">[</span>          <span class="token punctuation">{</span>            type<span class="token operator">:</span> <span class="token string">"ios-notifications-outline"</span><span class="token punctuation">,</span>            name<span class="token operator">:</span> <span class="token string">"msg"</span><span class="token punctuation">,</span>            text<span class="token operator">:</span> <span class="token string">"æŸ¥çœ‹æ¶ˆæ¯"</span><span class="token punctuation">,</span>          <span class="token punctuation">}</span><span class="token punctuation">,</span>          <span class="token punctuation">{</span>            type<span class="token operator">:</span> <span class="token string">"md-lock"</span><span class="token punctuation">,</span>            name<span class="token operator">:</span> <span class="token string">"password"</span><span class="token punctuation">,</span>            text<span class="token operator">:</span> <span class="token string">"ä¿®æ”¹å¯†ç "</span><span class="token punctuation">,</span>          <span class="token punctuation">}</span><span class="token punctuation">,</span>          <span class="token punctuation">{</span>            type<span class="token operator">:</span> <span class="token string">"md-person"</span><span class="token punctuation">,</span>            name<span class="token operator">:</span> <span class="token string">"userinfo"</span><span class="token punctuation">,</span>            text<span class="token operator">:</span> <span class="token string">"åŸºæœ¬èµ„æ–™"</span><span class="token punctuation">,</span>          <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token punctuation">]</span><span class="token punctuation">,</span>      <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><p>æ¥çœ‹çœ‹æ€ä¹ˆå°†å®ƒè½¬åŒ–ä¸ºèœå•æ ï¼Œæˆ‘åœ¨è¿™é‡Œä½¿ç”¨äº† <code>iview</code> çš„ç»„ä»¶ï¼Œä¸ç”¨é‡å¤é€ è½®å­ã€‚</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token comment">&lt;!-- èœå•æ  --&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>menu</span>  <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>asideMenu<span class="token punctuation">"</span></span>  <span class="token attr-name">theme</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>dark<span class="token punctuation">"</span></span>  <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>100%<span class="token punctuation">"</span></span>  <span class="token attr-name">@on-select</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>gotoPage<span class="token punctuation">"</span></span>  <span class="token attr-name">accordion</span>  <span class="token attr-name">:open-names</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>openMenus<span class="token punctuation">"</span></span>  <span class="token attr-name">:active-name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>currentPage<span class="token punctuation">"</span></span>  <span class="token attr-name">@on-open-change</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>menuChange<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>  <span class="token comment">&lt;!-- åŠ¨æ€èœå• --&gt;</span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>(item, index) in menuItems<span class="token punctuation">"</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>index<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Submenu</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item.children<span class="token punctuation">"</span></span> <span class="token attr-name">:name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>index<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>title<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Icon</span> <span class="token attr-name">:size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item.size<span class="token punctuation">"</span></span> <span class="token attr-name">:type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item.type<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">v-show</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>isShowAsideTitle<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>{{item.text}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>(subItem, i) in item.children<span class="token punctuation">"</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>index + i<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Submenu</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>subItem.children<span class="token punctuation">"</span></span> <span class="token attr-name">:name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>index + <span class="token punctuation">'</span>-<span class="token punctuation">'</span> + i<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>title<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Icon</span> <span class="token attr-name">:size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>subItem.size<span class="token punctuation">"</span></span> <span class="token attr-name">:type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>subItem.type<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">v-show</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>isShowAsideTitle<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>{{subItem.text}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>menuitem</span>            <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>menu-level-3<span class="token punctuation">"</span></span>            <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>(threeItem, k) in subItem.children<span class="token punctuation">"</span></span>            <span class="token attr-name">:name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>threeItem.name<span class="token punctuation">"</span></span>            <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>index + i + k<span class="token punctuation">"</span></span>          <span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Icon</span> <span class="token attr-name">:size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>threeItem.size<span class="token punctuation">"</span></span> <span class="token attr-name">:type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>threeItem.type<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">v-show</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>isShowAsideTitle<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>{{threeItem.text}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>menuitem</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Submenu</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>menuitem</span> <span class="token attr-name">v-else</span> <span class="token attr-name">v-show</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>isShowAsideTitle<span class="token punctuation">"</span></span> <span class="token attr-name">:name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>subItem.name<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Icon</span> <span class="token attr-name">:size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>subItem.size<span class="token punctuation">"</span></span> <span class="token attr-name">:type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>subItem.type<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">v-show</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>isShowAsideTitle<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>{{subItem.text}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>menuitem</span><span class="token punctuation">&gt;</span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Submenu</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>menuitem</span> <span class="token attr-name">v-else</span> <span class="token attr-name">:name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item.name<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Icon</span> <span class="token attr-name">:size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item.size<span class="token punctuation">"</span></span> <span class="token attr-name">:type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>item.type<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">v-show</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>isShowAsideTitle<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>{{item.text}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>menuitem</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>menu</span><span class="token punctuation">&gt;</span></span></code></pre><p>ä»£ç ä¸ç”¨çœ‹å¾—å¤ªä»”ç»†ï¼Œç†è§£åŸç†å³å¯ï¼Œå…¶å®å°±æ˜¯é€šè¿‡ä¸‰æ¬¡ <code>v-for</code> ä¸åœçš„å¯¹å­æ•°ç»„è¿›è¡Œå¾ªç¯ï¼Œç”Ÿæˆä¸‰çº§èœå•ã€‚</p><p>åŠ¨æ€èœå•è¿™æ ·å°±å¯ä»¥å®ç°äº†ã€‚å…¶å®è¿™é‡Œç”¨é€’å½’ä¼šæ›´å¥½ï¼Œå› ä¸ºä¸ç”¨å†™åµŒå¥—çš„<code>for</code>å¾ªç¯ï¼Œä¸‡ä¸€æœ‰ 5 å±‚ã€6 å±‚ç”šè‡³æ›´å¤š</p><p><strong>åŠ¨æ€è·¯ç”±</strong>ï¼Œå› ä¸ºä¸Šé¢å·²ç»è¯´è¿‡äº†ç”¨ <code>addRoutes</code> æ¥å®ç°ï¼Œç°åœ¨çœ‹çœ‹å…·ä½“æ€ä¹ˆåšã€‚</p><p>é¦–å…ˆï¼Œè¦æŠŠé¡¹ç›®æ‰€æœ‰çš„é¡µé¢è·¯ç”±éƒ½åˆ—å‡ºæ¥ï¼Œå†ç”¨åå°è¿”å›æ¥çš„æ•°æ®åŠ¨æ€åŒ¹é…ï¼Œèƒ½åŒ¹é…ä¸Šçš„å°±æŠŠè·¯ç”±åŠ ä¸Šï¼Œä¸èƒ½åŒ¹é…ä¸Šçš„å°±ä¸åŠ ã€‚<br>æœ€åæŠŠè¿™ä¸ªæ–°ç”Ÿæˆçš„è·¯ç”±æ•°æ®ç”¨ <code>addRoutes</code> æ·»åŠ åˆ°è·¯ç”±è¡¨é‡Œã€‚</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// å…¨éƒ¨éœ€è¦åŠ¨æ€ç”Ÿæˆçš„è·¯ç”±</span><span class="token keyword">const</span> asyncRoutes <span class="token operator">=</span> <span class="token punctuation">{</span>  home<span class="token operator">:</span> <span class="token punctuation">{</span>    path<span class="token operator">:</span> <span class="token string">"home"</span><span class="token punctuation">,</span>    name<span class="token operator">:</span> <span class="token string">"home"</span><span class="token punctuation">,</span>    <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">"../views/Home.vue"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  t1<span class="token operator">:</span> <span class="token punctuation">{</span>    path<span class="token operator">:</span> <span class="token string">"t1"</span><span class="token punctuation">,</span>    name<span class="token operator">:</span> <span class="token string">"t1"</span><span class="token punctuation">,</span>    <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">"../views/T1.vue"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  password<span class="token operator">:</span> <span class="token punctuation">{</span>    path<span class="token operator">:</span> <span class="token string">"password"</span><span class="token punctuation">,</span>    name<span class="token operator">:</span> <span class="token string">"password"</span><span class="token punctuation">,</span>    <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">"../views/Password.vue"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  msg<span class="token operator">:</span> <span class="token punctuation">{</span>    path<span class="token operator">:</span> <span class="token string">"msg"</span><span class="token punctuation">,</span>    name<span class="token operator">:</span> <span class="token string">"msg"</span><span class="token punctuation">,</span>    <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">"../views/Msg.vue"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  userinfo<span class="token operator">:</span> <span class="token punctuation">{</span>    path<span class="token operator">:</span> <span class="token string">"userinfo"</span><span class="token punctuation">,</span>    name<span class="token operator">:</span> <span class="token string">"userinfo"</span><span class="token punctuation">,</span>    <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">"../views/UserInfo.vue"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment">// åç«¯ä¼ è¿‡æ¥è¯¥è§’è‰²éœ€è¦ç”Ÿæˆçš„è·¯ç”±ä¿¡æ¯ï¼Œå‰ç«¯æ¥åšå¯¹æ¯”ï¼Œä¸asyncRoutesé‡Œé¢çš„è·¯ç”±å¯¹æ¯”ï¼ŒåŒ¹é…åˆ°çš„æ·»åŠ è¿›è·¯ç”±è¡¨</span><span class="token function">menusToRoutes</span><span class="token punctuation">(</span>menusData<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// å°†èœå•ä¿¡æ¯è½¬æˆå¯¹åº”çš„è·¯ç”±ä¿¡æ¯ åŠ¨æ€æ·»åŠ </span><span class="token keyword">function</span> <span class="token function">menusToRoutes</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token keyword">const</span> children <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  result<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    path<span class="token operator">:</span> <span class="token string">"/"</span><span class="token punctuation">,</span>    <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">"../components/Index.vue"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    children<span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  data<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>    <span class="token function">generateRoutes</span><span class="token punctuation">(</span>children<span class="token punctuation">,</span> item<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  children<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    path<span class="token operator">:</span> <span class="token string">"error"</span><span class="token punctuation">,</span>    name<span class="token operator">:</span> <span class="token string">"error"</span><span class="token punctuation">,</span>    <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">"../components/Error.vue"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// æœ€åæ·»åŠ 404é¡µé¢ å¦åˆ™ä¼šåœ¨ç™»é™†æˆåŠŸåè·³åˆ°404é¡µé¢</span>  result<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span> path<span class="token operator">:</span> <span class="token string">"*"</span><span class="token punctuation">,</span> redirect<span class="token operator">:</span> <span class="token string">"/error"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">return</span> result<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token function">generateRoutes</span><span class="token punctuation">(</span><span class="token parameter">children<span class="token punctuation">,</span> item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>    children<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>asyncRoutes<span class="token punctuation">[</span>item<span class="token punctuation">.</span>name<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>children<span class="token punctuation">)</span> <span class="token punctuation">{</span>    item<span class="token punctuation">.</span>children<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>      <span class="token comment">// é€’å½’ï¼Œå­è·¯ç”±ä¹Ÿæ˜¯å¦‚æ­¤æ€è·¯æ¥ç”Ÿæˆ</span>      <span class="token function">generateRoutes</span><span class="token punctuation">(</span>children<span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p>é¡¹ç›®çš„<a href="https://github.com/JingWZeng/vue-admin-template-iview">æºç åœ°å€</a></p>]]></content>
      
      
      <categories>
          
          <category> vue-admin </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vue-admin </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ESLintè¶…çº§è¯¦ç»†</title>
      <link href="/2021/10/12/eslint-chao-ji-xiang-xi/"/>
      <url>/2021/10/12/eslint-chao-ji-xiang-xi/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æ­¤æ–‡ç« è½¬è½½äº<a href="https://developer.51cto.com/art/202106/667105.htm###">ä» ESLint å¼€å§‹ï¼Œè¯´é€æˆ‘å¦‚ä½•åœ¨å›¢é˜Ÿé¡¹ç›®ä¸­åŸºäº Vue åšä»£ç æ ¡éªŒ</a></p><p>è§£ç­”äº†å…³äº ESLint çš„å¾ˆå¤šç–‘æƒ‘ï¼Œæ–‡ç« ç®€æ˜é€šä¿—æ˜“æ‡‚~~~</p></blockquote><p>æœ€è¿‘é‡åˆ°äº†ä¸€ä¸ªè€é¡¹ç›®ï¼Œæ¯”è¾ƒæœ‰æ„æ€çš„æ˜¯è¿™ä¸ªé¡¹ç›®é›†å‰åç«¯çš„ä»£ç äºä¸€èµ·ï¼Œè€Œåç«¯ä¹Ÿä¼šå»ä¿®æ”¹å‰ç«¯ä»£ç ï¼Œæ‰€ä»¥å°±å‡ºç°äº†åç«¯ç”¨ IntelliJ IDEA æ¥å¼€å‘å‰ç«¯é¡¹ç›®ï¼Œè€Œå‰ç«¯ç”¨ VSCode æ¥å¼€å‘å‰ç«¯é¡¹ç›®çš„æƒ…å†µã€‚äºæ˜¯ä¹ï¼Œå‡ºç°äº†ä»£ç è§„èŒƒçš„é—®é¢˜ï¼Œæ‰€ä»¥å°±æœ‰äº†è¿™ç¯‡æ–‡ç« ï¼Œæ•´ç†äº†ä¸€ä¸‹å‰ç«¯ä»£ç æ ¡éªŒä»¥åŠåœ¨ Vue é¡¹ç›®ä¸­çš„å®è·µã€‚</p><p>é˜…è¯»å®Œè¿™ç¯‡æ–‡ç« ï¼Œä½ å¯ä»¥æ”¶è·ï¼š</p><ul><li>èƒ½å¤Ÿè‡ªå·±äº²æ‰‹å†™å‡ºä¸€å¥— ESLint é…ç½®;</li><li>ä¼šçŸ¥é“ä¸šç•Œéƒ½æœ‰å“ªäº›è‘—åçš„ JS ä»£ç è§„èŒƒï¼Œç†Ÿè¯»å®ƒä»¬å¯ä»¥è®©ä½ å†™å‡ºæ›´è§„èŒƒçš„ä»£ç ;</li><li>vue-cli åœ¨åˆå§‹åŒ–ä¸€ä¸ªåŒ…å«ä»£ç æ ¡éªŒçš„é¡¹ç›®æ—¶éƒ½åšäº†ä»€ä¹ˆ;</li><li>Prettier æ˜¯ä»€ä¹ˆ?ä¸ºä»€ä¹ˆè¦ä½¿ç”¨å®ƒ?å¦‚ä½•ä¸ ESLint é…åˆä½¿ç”¨?</li><li>EditorConfig åˆæ˜¯ä»€ä¹ˆ?å¦‚ä½•ä½¿ç”¨?</li><li>å¦‚ä½•åœ¨ VSCode ä¸­é€šè¿‡æ’ä»¶æ¥ååŠ©ä»£ç æ ¡éªŒå·¥ä½œ;</li><li>å¦‚ä½•ä¿è¯ push åˆ°è¿œç¨‹ä»“åº“çš„ä»£ç æ˜¯ç¬¦åˆè§„èŒƒçš„;</li></ul><p>ä¸‹é¢å¼€å§‹é˜…è¯»å§ï¼Œå¦‚æœä½ å¯¹ ESLint æ¯”è¾ƒç†Ÿæ‚‰ï¼Œå¯ä»¥ç›´æ¥è·³è¿‡è¿™ä¸ªéƒ¨åˆ†ã€‚</p><h3 id="ESLint-æ˜¯ä»€ä¹ˆ"><a href="#ESLint-æ˜¯ä»€ä¹ˆ" class="headerlink" title="ESLint æ˜¯ä»€ä¹ˆ"></a>ESLint æ˜¯ä»€ä¹ˆ</h3><p>ESLint æ˜¯ä¸€ä¸ªé›†ä»£ç å®¡æŸ¥å’Œä¿®å¤çš„å·¥å…·ï¼Œå®ƒçš„æ ¸å¿ƒåŠŸèƒ½æ˜¯é€šè¿‡é…ç½®ä¸€ä¸ªä¸ªè§„åˆ™æ¥é™åˆ¶ä»£ç çš„åˆæ³•æ€§å’Œé£æ ¼ã€‚</p><h2 id="é…ç½®è§£æå™¨å’Œè§£æå‚æ•°"><a href="#é…ç½®è§£æå™¨å’Œè§£æå‚æ•°" class="headerlink" title="é…ç½®è§£æå™¨å’Œè§£æå‚æ•°"></a>é…ç½®è§£æå™¨å’Œè§£æå‚æ•°</h2><p>ESLint çš„è§£æå™¨ï¼Œæ—©æœŸçš„æ—¶å€™ç”¨çš„æ˜¯ Esprima[1]ï¼Œåé¢åŸºäº Esprima v1.2.2 ç‰ˆæœ¬å¼€å‘äº†ä¸€ä¸ªæ–°çš„è§£æå™¨ Espree[2]ï¼Œå¹¶ä¸”æŠŠå®ƒå½“åšé»˜è®¤è§£æå™¨ã€‚</p><p>é™¤äº†ä½¿ç”¨ ESLint è‡ªå¸¦çš„è§£æå™¨å¤–ï¼Œè¿˜å¯ä»¥æŒ‡å®šå…¶ä»–è§£æå™¨ï¼š</p><ul><li>@babel/eslint-parser[3]ï¼šä½¿ Babel å’Œ ESLint å…¼å®¹ï¼Œå¯¹ä¸€äº› Babel è¯­æ³•æä¾›æ”¯æŒ;</li><li>@typescript-eslint/parser[4]ï¼šTSLint è¢«å¼ƒç”¨åï¼ŒTypeScript æä¾›äº†æ­¤è§£æå™¨ç”¨äºå°†å…¶ä¸ ESTree å…¼å®¹ï¼Œä½¿ ESLint å¯¹ TypeScript è¿›è¡Œæ”¯æŒ;</li></ul><p>ä¸ºé¡¹ç›®æŒ‡å®šæŸä¸ªé€‰æ‹©å™¨çš„åŸåˆ™æ˜¯ä»€ä¹ˆ?</p><ul><li>å¦‚æœä½ çš„é¡¹ç›®ç”¨åˆ°äº†æ¯”è¾ƒæ–°çš„ ES è¯­æ³•ï¼Œæ¯”å¦‚ ES2021 çš„ Promise.any()ï¼Œé‚£å°±å¯ä»¥æŒ‡å®š @babel/eslint-parser ä¸ºè§£æå™¨;</li><li>å¦‚æœé¡¹ç›®æ˜¯åŸºäº TS å¼€å‘çš„ï¼Œé‚£å°±ä½¿ç”¨ @typescript-eslint/parser;</li></ul><p>â€œå¦‚æœä½ å¯¹ ES æœ€æ–°æ ‡å‡†è¿˜ä¸ç†Ÿæ‚‰ï¼Œå¯ä»¥çœ‹çœ‹è¿™ç¯‡æ–‡ç« ï¼šé€ä½ ä¸€ä»½ç²¾å¿ƒæ€»ç»“çš„ 3 ä¸‡å­— ES6 å®ç”¨æŒ‡å—(ä¸‹)</p><p>é™¤äº†æŒ‡å®šè§£æå™¨ parser å¤–ï¼Œè¿˜å¯ä»¥é¢å¤–é…ç½®è§£æå™¨å‚æ•° parserOptionï¼š</p><pre class="language-none"><code class="language-none">{    // ESLint é»˜è®¤è§£æå™¨ï¼Œä¹Ÿå¯ä»¥æŒ‡å®šæˆåˆ«çš„    parser: "espree",    parserOption: {        // æŒ‡å®šè¦ä½¿ç”¨çš„ ECMAScript ç‰ˆæœ¬ï¼Œé»˜è®¤å€¼ 5        ecmaVersion: 5,        // è®¾ç½®ä¸º script (é»˜è®¤) æˆ– moduleï¼ˆå¦‚æœä½ çš„ä»£ç æ˜¯ ECMAScript æ¨¡å—)        sourceType: "script",        // è¿™æ˜¯ä¸ªå¯¹è±¡ï¼Œè¡¨ç¤ºä½ æƒ³ä½¿ç”¨çš„é¢å¤–çš„è¯­è¨€ç‰¹æ€§,æ‰€æœ‰é€‰é¡¹é»˜è®¤éƒ½æ˜¯ false        ecmafeatures: {            // æ˜¯å¦å…è®¸åœ¨å…¨å±€ä½œç”¨åŸŸä¸‹ä½¿ç”¨ return è¯­å¥            globalReturn: false,            // æ˜¯å¦å¯ç”¨å…¨å±€ strict æ¨¡å¼ï¼ˆä¸¥æ ¼æ¨¡å¼ï¼‰            impliedStrict: false,            // æ˜¯å¦å¯ç”¨JSX            jsx: false,            // æ˜¯å¦å¯ç”¨å¯¹å®éªŒæ€§çš„objectRest/spreadPropertiesçš„æ”¯æŒ            experimentalObjectRestSpread: false        }    }}</code></pre><h2 id="æŒ‡å®šç¯å¢ƒ-env"><a href="#æŒ‡å®šç¯å¢ƒ-env" class="headerlink" title="æŒ‡å®šç¯å¢ƒ env"></a>æŒ‡å®šç¯å¢ƒ env</h2><p>æŒ‡å®šä¸åŒçš„ç¯å¢ƒå¯ä»¥ç»™å¯¹åº”ç¯å¢ƒä¸‹æä¾›é¢„è®¾çš„å…¨å±€å˜é‡ã€‚æ¯”å¦‚è¯´åœ¨ browser ç¯å¢ƒä¸‹ï¼Œå¯ä»¥ä½¿ç”¨ window å…¨å±€å˜é‡;åœ¨ node ç¯å¢ƒä¸‹ï¼Œå¯ä»¥ä½¿ç”¨ process å…¨å±€å˜é‡ç­‰;</p><ul><li>ESLint ä¸­å¯é…ç½®çš„ç¯å¢ƒæ¯”è¾ƒå¤šï¼Œè¿™é‡Œæœ‰ä»½å®Œæ•´çš„ç¯å¢ƒåˆ—è¡¨[5]ï¼Œä¸‹é¢åˆ—å‡ºå‡ ä¸ªæ¯”è¾ƒå¸¸è§çš„ï¼š</li><li>browserï¼šæµè§ˆå™¨å…¨å±€å˜é‡;</li><li>nodeï¼šNode.js å…¨å±€å˜é‡å’Œä½œç”¨åŸŸ;</li><li>es6ï¼šes6 ä¸­é™¤äº†æ¨¡å—ä¹‹å¤–çš„å…¶ä»–ç‰¹æ€§ï¼ŒåŒæ—¶å°†è‡ªåŠ¨è®¾ç½® parserOptions.ecmaVersion å‚æ•°ä¸º 6;ä»¥æ­¤ç±»æ¨ ES2017 æ˜¯ 7ï¼Œè€Œ ES2021 æ˜¯ 12;</li><li>es2017ï¼šparserOptions.ecmaVersion ä¸º 8;</li><li>es2020ï¼šparserOptions.ecmaVersion ä¸º 11;</li><li>es2021ï¼šparserOptions.ecmaVersion ä¸º 12;</li></ul><p>é…ç½®æ–¹å¼å¦‚ä¸‹ï¼š</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token punctuation">{</span>    env<span class="token operator">:</span> <span class="token punctuation">{</span>        browser<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>        node<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>        es6<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>        commonjs<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>        mocha<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>        jquery<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p>å¯ä»¥æŒ‡å®šå¤šä¸ªç¯å¢ƒå¹¶ä¸æ„å‘³ç€é…ç½®çš„ç¯å¢ƒè¶Šå¤šè¶Šå¥½ï¼Œå®é™…é…ç½®çš„æ—¶å€™è¿˜æ˜¯å¾—ä¾æ®å½“å‰é¡¹ç›®çš„ç¯å¢ƒæ¥é€‰æ‹©ã€‚</p><h2 id="é…ç½®å…¨å±€å˜é‡-globals"><a href="#é…ç½®å…¨å±€å˜é‡-globals" class="headerlink" title="é…ç½®å…¨å±€å˜é‡ globals"></a>é…ç½®å…¨å±€å˜é‡ globals</h2><p>ESLint çš„ä¸€äº›æ ¸å¿ƒè§„åˆ™ä¾èµ–äºå¯¹ä»£ç åœ¨è¿è¡Œæ—¶å¯ç”¨çš„å…¨å±€å˜é‡çš„äº†è§£ã€‚ç”±äºè¿™äº›åœ¨ä¸åŒç¯å¢ƒä¹‹é—´å¯èƒ½ä¼šæœ‰å¾ˆå¤§å·®å¼‚ï¼Œå¹¶ä¸”åœ¨è¿è¡Œæ—¶ä¼šè¿›è¡Œä¿®æ”¹ï¼Œå› æ­¤ ESLint ä¸ä¼šå‡è®¾ä½ çš„æ‰§è¡Œç¯å¢ƒä¸­å­˜åœ¨å“ªäº›å…¨å±€å˜é‡ã€‚</p><p>å¦‚æœä½ æƒ³ä½¿ç”¨è¿™äº›å…¨å±€å˜é‡ï¼Œé‚£å°±å¯ä»¥é€šè¿‡ globals æ¥æŒ‡å®šã€‚æ¯”å¦‚åœ¨ react .eslintrc.js[6] é‡Œå°±æŠŠ spyOnDevã€ spyOnProd ç­‰å˜é‡æŒ‚åœ¨äº† global ä¸‹ä½œä¸ºå…¨å±€å˜é‡ï¼š</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token punctuation">{</span>    globals<span class="token operator">:</span> <span class="token punctuation">{</span>        spyOnDev<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>        spyOnProd<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p>å¯¹äºå®ƒçš„å€¼éœ€è¦ç‰¹åˆ«è¯´æ˜ä¸‹ï¼š</p><ul><li>falseã€readableã€readonly è¿™ 3 ä¸ªæ˜¯ç­‰ä»·çš„ï¼Œè¡¨ç¤ºå˜é‡åªå¯è¯»ä¸å¯å†™;</li><li>trueã€writeableã€writable è¿™ 3 ä¸ªæ˜¯ç­‰ä»·çš„ï¼Œè¡¨ç¤ºå˜é‡å¯è¯»å¯å†™;</li></ul><h2 id="é…ç½®æ‰©å±•-extends"><a href="#é…ç½®æ‰©å±•-extends" class="headerlink" title="é…ç½®æ‰©å±• extends"></a>é…ç½®æ‰©å±• extends</h2><p>å®é™…é¡¹ç›®ä¸­é…ç½®è§„åˆ™çš„æ—¶å€™ï¼Œä¸å¯èƒ½å›¢é˜Ÿä¸€æ¡ä¸€æ¡çš„å»å•†è®®é…ç½®ï¼Œå¤ªè´¹ç²¾åŠ›äº†ã€‚é€šå¸¸çš„åšæ³•æ˜¯ä½¿ç”¨ä¸šå†…å¤§å®¶æ™®é€šä½¿ç”¨çš„ã€éµå¾ªçš„ç¼–ç è§„èŒƒ;ç„¶åé€šè¿‡ extends å»å¼•å…¥è¿™äº›è§„èŒƒã€‚extends é…ç½®çš„æ—¶å€™æ¥å—å­—ç¬¦ä¸²æˆ–è€…æ•°ç»„ï¼š</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token punctuation">{</span>    <span class="token keyword">extends</span><span class="token operator">:</span> <span class="token punctuation">[</span>        <span class="token string">'eslint:recommended'</span><span class="token punctuation">,</span>        <span class="token string">'plugin:vue/essential'</span><span class="token punctuation">,</span>        <span class="token string">'eslint-config-standard'</span><span class="token punctuation">,</span> <span class="token comment">// å¯ä»¥ç¼©å†™æˆ 'standard'</span>        <span class="token string">'@vue/prettier'</span><span class="token punctuation">,</span>        <span class="token string">'./node_modules/coding-standard/.eslintrc-es6'</span>    <span class="token punctuation">]</span><span class="token punctuation">}</span></code></pre><h3 id="ä»ä¸Šé¢çš„é…ç½®ï¼Œå¯ä»¥çŸ¥é“-extends-æ”¯æŒçš„é…ç½®ç±»å‹å¯ä»¥æ˜¯ä»¥ä¸‹å‡ ç§"><a href="#ä»ä¸Šé¢çš„é…ç½®ï¼Œå¯ä»¥çŸ¥é“-extends-æ”¯æŒçš„é…ç½®ç±»å‹å¯ä»¥æ˜¯ä»¥ä¸‹å‡ ç§" class="headerlink" title="ä»ä¸Šé¢çš„é…ç½®ï¼Œå¯ä»¥çŸ¥é“ extends æ”¯æŒçš„é…ç½®ç±»å‹å¯ä»¥æ˜¯ä»¥ä¸‹å‡ ç§"></a>ä»ä¸Šé¢çš„é…ç½®ï¼Œå¯ä»¥çŸ¥é“ extends æ”¯æŒçš„é…ç½®ç±»å‹å¯ä»¥æ˜¯ä»¥ä¸‹å‡ ç§</h3><ul><li>eslint å¼€å¤´çš„ï¼šæ˜¯ ESLint å®˜æ–¹çš„æ‰©å±•;</li><li>plugin å¼€å¤´çš„ï¼šæ˜¯æ’ä»¶ç±»å‹æ‰©å±•ï¼Œæ¯”å¦‚ plugin:vue/essential;</li><li>eslint-config å¼€å¤´çš„ï¼šæ¥è‡ª npm åŒ…ï¼Œä½¿ç”¨æ—¶å¯ä»¥çœç•¥å‰ç¼€ eslint-config-ï¼Œæ¯”å¦‚ä¸Šé¢çš„å¯ä»¥ç›´æ¥å†™æˆ standard;</li><li>@å¼€å¤´çš„ï¼šæ‰©å±•å’Œ eslint-config ä¸€æ ·ï¼Œåªæ˜¯åœ¨ npm åŒ…ä¸Šé¢åŠ äº†ä¸€å±‚ä½œç”¨åŸŸ scope;</li><li>ä¸€ä¸ªæ‰§è¡Œé…ç½®æ–‡ä»¶çš„ç›¸å¯¹è·¯å¾„æˆ–ç»å¯¹è·¯å¾„;</li></ul><p>é‚£æœ‰å“ªäº›å¸¸ç”¨çš„ã€æ¯”è¾ƒè‘—åæ‰©å±•å¯ä»¥è¢« extends å¼•å…¥å‘¢</p><ul><li>eslint:recommendedï¼šESLint å†…ç½®çš„æ¨èè§„åˆ™ï¼Œå³ ESLint Rules åˆ—è¡¨ä¸­æ‰“äº†é’©çš„é‚£äº›è§„åˆ™;</li><li>eslint:allï¼šESLint å†…ç½®çš„æ‰€æœ‰è§„åˆ™;</li><li>eslint-config-standard[7]ï¼šstandard çš„ JS è§„èŒƒ;</li><li>eslint-config-prettier[8]ï¼šå…³é—­å’Œ ESLint ä¸­ä»¥åŠå…¶ä»–æ‰©å±•ä¸­æœ‰å†²çªçš„è§„åˆ™;</li><li>eslint-config-airbnb-baseï¼šairbab çš„ JS è§„èŒƒ;</li><li>eslint-config-alloy[9]ï¼šè…¾è®¯ AlloyTeam å‰ç«¯å›¢é˜Ÿå‡ºå“ï¼Œå¯ä»¥å¾ˆå¥½çš„é’ˆå¯¹ä½ é¡¹ç›®çš„æŠ€æœ¯æ ˆè¿›è¡Œé…ç½®é€‰æ‹©ï¼Œæ¯”å¦‚å¯ä»¥é€‰ Reactã€Vue(ç°å·²æ”¯æŒ Vue 3.0)ã€TypeScript ç­‰;</li></ul><h2 id="ä½¿ç”¨æ’ä»¶-plugins"><a href="#ä½¿ç”¨æ’ä»¶-plugins" class="headerlink" title="ä½¿ç”¨æ’ä»¶ plugins"></a>ä½¿ç”¨æ’ä»¶ plugins</h2><h3 id="ESLint-æä¾›æ’ä»¶æ˜¯å¹²å˜›ç”¨çš„"><a href="#ESLint-æä¾›æ’ä»¶æ˜¯å¹²å˜›ç”¨çš„" class="headerlink" title="ESLint æä¾›æ’ä»¶æ˜¯å¹²å˜›ç”¨çš„"></a>ESLint æä¾›æ’ä»¶æ˜¯å¹²å˜›ç”¨çš„</h3><p>ESLint è™½ç„¶å¯ä»¥å®šä¹‰å¾ˆå¤šçš„ rulesï¼Œä»¥åŠé€šè¿‡ extends æ¥å¼•å…¥æ›´å¤šçš„è§„åˆ™ï¼Œä½†æ˜¯è¯´åˆ°åº•åªæ˜¯æ£€æŸ¥ JS è¯­æ³•ã€‚å¦‚æœéœ€è¦æ£€æŸ¥ Vue ä¸­çš„ template æˆ–è€… React ä¸­çš„ jsxï¼Œå°±æŸæ‰‹æ— ç­–äº†ã€‚æ‰€ä»¥å¼•å…¥æ’ä»¶çš„ç›®çš„å°±æ˜¯ä¸ºäº†å¢å¼º ESLint çš„æ£€æŸ¥èƒ½åŠ›å’ŒèŒƒå›´ã€‚</p><h3 id="å¦‚ä½•é…ç½®æ’ä»¶"><a href="#å¦‚ä½•é…ç½®æ’ä»¶" class="headerlink" title="å¦‚ä½•é…ç½®æ’ä»¶"></a>å¦‚ä½•é…ç½®æ’ä»¶</h3><p>ESLint ç›¸å…³çš„æ’ä»¶çš„å‘½åå½¢å¼æœ‰ 2 ç§ï¼šä¸å¸¦å‘½åç©ºé—´çš„å’Œå¸¦å‘½åç©ºé—´çš„ï¼Œæ¯”å¦‚ï¼š</p><ul><li>eslint-plugin- å¼€å¤´çš„å¯ä»¥çœç•¥è¿™éƒ¨åˆ†å‰ç¼€;</li><li>@/ å¼€å¤´çš„;</li></ul><pre class="language-js" data-language="js"><code class="language-js"><span class="token punctuation">{</span>  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>    <span class="token string">"jquery"</span><span class="token punctuation">,</span> <span class="token comment">// æ˜¯æŒ‡ eslint-plugin-jquery</span>    <span class="token string">"@jquery/jquery"</span><span class="token punctuation">,</span> <span class="token comment">// æ˜¯æŒ‡ @jquery/eslint-plugin-jquery</span>    <span class="token string">"@foobar"</span><span class="token punctuation">,</span> <span class="token comment">// æ˜¯æŒ‡ @foobar/eslint-plugin</span>  <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>å½“éœ€è¦åŸºäºæ’ä»¶è¿›è¡Œ extends å’Œ rules çš„é…ç½®çš„æ—¶å€™ï¼Œéœ€è¦åŠ ä¸Šæ’ä»¶çš„å¼•ç”¨ï¼Œæ¯”å¦‚ï¼š</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token punctuation">{</span>    plugins<span class="token operator">:</span> <span class="token punctuation">[</span>        <span class="token string">'jquery'</span><span class="token punctuation">,</span>   <span class="token comment">// eslint-plugin-jquery</span>        <span class="token string">'@foo/foo'</span><span class="token punctuation">,</span> <span class="token comment">// @foo/eslint-plugin-foo</span>        '@bar<span class="token punctuation">,</span>      <span class="token comment">// @bar/eslint-plugin</span>    <span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token keyword">extends</span><span class="token operator">:</span> <span class="token punctuation">[</span>        <span class="token string">'plugin:jquery/recommended'</span><span class="token punctuation">,</span>        <span class="token string">'plugin:@foo/foo/recommended'</span><span class="token punctuation">,</span>        <span class="token string">'plugin:@bar/recommended'</span>    <span class="token punctuation">]</span><span class="token punctuation">,</span>    rules<span class="token operator">:</span> <span class="token punctuation">{</span>        <span class="token string">'jquery/a-rule'</span><span class="token operator">:</span> <span class="token string">'error'</span><span class="token punctuation">,</span>        <span class="token string">'@foo/foo/some-rule'</span><span class="token operator">:</span> <span class="token string">'error'</span><span class="token punctuation">,</span>        <span class="token string">'@bar/another-rule'</span><span class="token operator">:</span> <span class="token string">'error'</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span></code></pre><p>ä»¥ä¸Šé…ç½®æ¥è‡ª ESLint plugins[10]</p><h2 id="é…ç½®è§„åˆ™-rules"><a href="#é…ç½®è§„åˆ™-rules" class="headerlink" title="é…ç½®è§„åˆ™ rules"></a>é…ç½®è§„åˆ™ rules</h2><p>ESLint æä¾›äº†å¤§é‡å†…ç½®çš„è§„åˆ™ï¼Œè¿™é‡Œæ˜¯å®ƒçš„è§„åˆ™åˆ—è¡¨ ESLint Rulesï¼Œé™¤æ­¤ä¹‹å¤–ä½ è¿˜å¯ä»¥é€šè¿‡æ’ä»¶æ¥æ·»åŠ æ›´å¤šçš„è§„åˆ™ã€‚</p><h3 id="è§„åˆ™çš„æ ¡éªŒè¯´æ˜ï¼Œæœ‰-3-ä¸ªæŠ¥é”™ç­‰çº§"><a href="#è§„åˆ™çš„æ ¡éªŒè¯´æ˜ï¼Œæœ‰-3-ä¸ªæŠ¥é”™ç­‰çº§" class="headerlink" title="è§„åˆ™çš„æ ¡éªŒè¯´æ˜ï¼Œæœ‰ 3 ä¸ªæŠ¥é”™ç­‰çº§"></a>è§„åˆ™çš„æ ¡éªŒè¯´æ˜ï¼Œæœ‰ 3 ä¸ªæŠ¥é”™ç­‰çº§</h3><ul><li>off æˆ– 0ï¼šå…³é—­å¯¹è¯¥è§„åˆ™çš„æ ¡éªŒ;</li><li>warn æˆ– 1ï¼šå¯ç”¨è§„åˆ™ï¼Œä¸æ»¡è¶³æ—¶æŠ›å‡ºè­¦å‘Šï¼Œä¸”ä¸ä¼šé€€å‡ºç¼–è¯‘è¿›ç¨‹;</li><li>error æˆ– 2ï¼šå¯ç”¨è§„åˆ™ï¼Œä¸æ»¡è¶³æ—¶æŠ›å‡ºé”™è¯¯ï¼Œä¸”ä¼šé€€å‡ºç¼–è¯‘è¿›ç¨‹;</li></ul><p>é€šå¸¸è§„åˆ™åªéœ€è¦é…ç½®å¼€å¯è¿˜æ˜¯å…³é—­å³å¯;ä½†æ˜¯ä¹Ÿæœ‰äº›è§„åˆ™å¯ä»¥ä¼ å…¥å±æ€§ï¼Œæ¯”å¦‚ï¼š</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token punctuation">{</span>    rules<span class="token operator">:</span> <span class="token punctuation">{</span>        <span class="token string">'quotes'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token string">'single'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token comment">// å¦‚æœä¸æ˜¯å•å¼•å·ï¼Œåˆ™æŠ¥é”™</span>        <span class="token string">'one-var'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>            <span class="token string">'var'</span><span class="token operator">:</span> <span class="token string">'always'</span><span class="token punctuation">,</span>  <span class="token comment">// æ¯ä¸ªå‡½æ•°ä½œç”¨åŸŸä¸­ï¼Œåªå…è®¸ 1 ä¸ª var å£°æ˜</span>            <span class="token string">'let'</span><span class="token operator">:</span> <span class="token string">'never'</span><span class="token punctuation">,</span>   <span class="token comment">// æ¯ä¸ªå—ä½œç”¨åŸŸä¸­ï¼Œå…è®¸å¤šä¸ª let å£°æ˜</span>            <span class="token string">'const'</span><span class="token operator">:</span> <span class="token string">'never'</span><span class="token punctuation">,</span> <span class="token comment">// æ¯ä¸ªå—ä½œç”¨åŸŸä¸­ï¼Œå…è®¸å¤šä¸ª const å£°æ˜</span>        <span class="token punctuation">}</span><span class="token punctuation">]</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p>å¦‚ä½•çŸ¥é“æŸä¸ªæ‰©å±•æœ‰å“ªäº›è§„åˆ™å¯ä»¥é…ç½®ï¼Œä»¥åŠæ¯ä¸ªè§„åˆ™å…·ä½“é™åˆ¶?è¿™é‡Œç›´æ¥ç»™å‡ºä¸šå†…è‘—åä¸”ä½¿ç”¨æ¯”è¾ƒå¤šçš„è§„åˆ™åˆ—è¡¨çš„å¿«é€Ÿé“¾æ¥ï¼š</p><ul><li>ESLint rulesï¼Œè¿™æ•´ä¸ªåˆ—è¡¨å¯¹åº” eslint:allï¼Œè€Œæ‰“é’© âœ”ï¸ çš„æ˜¯ eslint:recommenmed;</li><li>Prettier rules</li><li>standard rules</li><li>airbnb rules</li><li>AlloyTeam vue rules</li></ul><h3 id="è§„åˆ™çš„ä¼˜å…ˆçº§"><a href="#è§„åˆ™çš„ä¼˜å…ˆçº§" class="headerlink" title="è§„åˆ™çš„ä¼˜å…ˆçº§"></a>è§„åˆ™çš„ä¼˜å…ˆçº§</h3><ul><li>å¦‚æœ extends é…ç½®çš„æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œé‚£ä¹ˆæœ€ç»ˆä¼šå°†æ‰€æœ‰è§„åˆ™é¡¹è¿›è¡Œåˆå¹¶ï¼Œå‡ºç°å†²çªçš„æ—¶å€™ï¼Œåé¢çš„ä¼šè¦†ç›–å‰é¢çš„;</li><li>é€šè¿‡ rules å•ç‹¬é…ç½®çš„è§„åˆ™ä¼˜å…ˆçº§æ¯” extends é«˜;</li></ul><h2 id="å…¶ä»–é…ç½®"><a href="#å…¶ä»–é…ç½®" class="headerlink" title="å…¶ä»–é…ç½®"></a>å…¶ä»–é…ç½®</h2><h3 id="é…ç½®å½“å‰ç›®å½•ä¸º-root"><a href="#é…ç½®å½“å‰ç›®å½•ä¸º-root" class="headerlink" title="é…ç½®å½“å‰ç›®å½•ä¸º root"></a>é…ç½®å½“å‰ç›®å½•ä¸º root</h3><p>ESLint æ£€æµ‹é…ç½®æ–‡ä»¶æ­¥éª¤ï¼š</p><ol><li>åœ¨è¦æ£€æµ‹çš„æ–‡ä»¶åŒä¸€ç›®å½•é‡Œå¯»æ‰¾ .eslintrc.* å’Œ package.json;</li><li>ç´§æ¥ç€åœ¨çˆ¶çº§ç›®å½•é‡Œå¯»æ‰¾ï¼Œä¸€ç›´åˆ°æ–‡ä»¶ç³»ç»Ÿçš„æ ¹ç›®å½•;</li><li>å¦‚æœåœ¨å‰ä¸¤æ­¥å‘ç°æœ‰ rootï¼štrue çš„é…ç½®ï¼Œåœæ­¢åœ¨çˆ¶çº§ç›®å½•ä¸­å¯»æ‰¾ .eslintrc;</li><li>å¦‚æœä»¥ä¸Šæ­¥éª¤éƒ½æ²¡æœ‰æ‰¾åˆ°ï¼Œåˆ™å›é€€åˆ°ç”¨æˆ·ä¸»ç›®å½• ~/.eslintrc ä¸­è‡ªå®šä¹‰çš„é»˜è®¤é…ç½®;</li></ol><p>é€šå¸¸æˆ‘ä»¬éƒ½ä¹ æƒ¯æŠŠ ESLint é…ç½®æ–‡ä»¶æ”¾åˆ°é¡¹ç›®æ ¹ç›®å½•ï¼Œå› æ­¤å¯ä»¥ä¸ºäº†é¿å… ESLint æ ¡éªŒçš„æ—¶å€™å¾€çˆ¶çº§ç›®å½•æŸ¥æ‰¾é…ç½®æ–‡ä»¶ï¼Œæ‰€ä»¥éœ€è¦åœ¨é…ç½®æ–‡ä»¶ä¸­åŠ ä¸Š root: trueã€‚</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token punctuation">{</span>root<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><span class="token punctuation">}</span></code></pre><h3 id="æ·»åŠ å…±äº«æ•°æ®"><a href="#æ·»åŠ å…±äº«æ•°æ®" class="headerlink" title="æ·»åŠ å…±äº«æ•°æ®"></a>æ·»åŠ å…±äº«æ•°æ®</h3><p>ESLint æ”¯æŒåœ¨é…ç½®æ–‡ä»¶æ·»åŠ å…±äº«è®¾ç½®ï¼Œä½ å¯ä»¥æ·»åŠ  settings å¯¹è±¡åˆ°é…ç½®æ–‡ä»¶ï¼Œå®ƒå°†æä¾›ç»™æ¯ä¸€ä¸ªå°†è¢«æ‰§è¡Œçš„è§„åˆ™ã€‚å¦‚æœä½ æƒ³æ·»åŠ çš„è‡ªå®šä¹‰è§„åˆ™è€Œä¸”ä½¿å®ƒä»¬å¯ä»¥è®¿é—®åˆ°ç›¸åŒçš„ä¿¡æ¯ï¼Œè¿™å°†ä¼šå¾ˆæœ‰ç”¨ï¼Œå¹¶ä¸”å¾ˆå®¹æ˜“é…ç½®ï¼š</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token punctuation">{</span>    settings<span class="token operator">:</span> <span class="token punctuation">{</span>        sharedData<span class="token operator">:</span> <span class="token string">'Hello'</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span></code></pre><p>å‚è€ƒï¼šESLint é…ç½®æ–‡ä»¶.eslintrc å‚æ•°è¯´æ˜[11]</p><h3 id="é’ˆå¯¹ä¸ªåˆ«æ–‡ä»¶è®¾ç½®æ–°çš„æ£€æŸ¥è§„åˆ™"><a href="#é’ˆå¯¹ä¸ªåˆ«æ–‡ä»¶è®¾ç½®æ–°çš„æ£€æŸ¥è§„åˆ™" class="headerlink" title="é’ˆå¯¹ä¸ªåˆ«æ–‡ä»¶è®¾ç½®æ–°çš„æ£€æŸ¥è§„åˆ™"></a>é’ˆå¯¹ä¸ªåˆ«æ–‡ä»¶è®¾ç½®æ–°çš„æ£€æŸ¥è§„åˆ™</h3><p>æ¯”å¦‚ webpack çš„ä¸­åŒ…å«äº†æŸäº›è¿è¡Œæ—¶çš„ JS æ–‡ä»¶ï¼Œè€Œè¿™äº›æ–‡ä»¶æ˜¯åªè·‘åœ¨æµè§ˆå™¨ç«¯çš„ï¼Œæ‰€ä»¥éœ€è¦é’ˆå¯¹è¿™éƒ¨åˆ†æ–‡ä»¶è¿›è¡Œå·®å¼‚åŒ–é…ç½®ï¼š</p><pre class="language-js" data-language="js"><code class="language-js">overrides<span class="token operator">:</span> <span class="token punctuation">[</span>  <span class="token punctuation">{</span>    files<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"lib/**/*.runtime.js"</span><span class="token punctuation">,</span> <span class="token string">"hot/*.js"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    env<span class="token operator">:</span> <span class="token punctuation">{</span>      es6<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>      browser<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    globals<span class="token operator">:</span> <span class="token punctuation">{</span>      Promise<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    parserOptions<span class="token operator">:</span> <span class="token punctuation">{</span>      ecmaVersion<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><p>ä»¥ä¸Šé…ç½®æ¥è‡ª webpack .eslintrc.js[12]</p><h3 id="å¦‚ä½•æ ¡éªŒ"><a href="#å¦‚ä½•æ ¡éªŒ" class="headerlink" title="å¦‚ä½•æ ¡éªŒ"></a>å¦‚ä½•æ ¡éªŒ</h3><p>ä¸Šé¢ç»†è¯´äº† ESLint çš„å„ç§é…ç½®é¡¹ï¼Œä»¥åŠé’ˆå¯¹ Vue é¡¹ç›®å¦‚ä½•è¿›è¡Œå·®å¼‚é…ç½®çš„è¯´æ˜ã€‚</p><p>ç°åœ¨æˆ‘ä»¬çŸ¥é“äº†å¦‚ä½•é…ç½®ï¼Œä½†æ˜¯ä½ çŸ¥é“è¿™äº›é…ç½®éƒ½æ˜¯é…ç½®åˆ°å“ªé‡Œçš„å—?</p><h2 id="é…ç½®æ–¹å¼"><a href="#é…ç½®æ–¹å¼" class="headerlink" title="é…ç½®æ–¹å¼"></a>é…ç½®æ–¹å¼</h2><p>ESLint æ”¯æŒ 3 ç§é…ç½®æ–¹å¼ï¼š</p><ul><li>å‘½ä»¤è¡Œï¼šä¸æ¨èï¼Œä¸åšä»‹ç»;</li><li>å•æ–‡ä»¶å†…æ³¨é‡Šï¼šä¸æ¨èï¼Œä¸åšä»‹ç»;</li><li>é…ç½®æ–‡ä»¶ï¼šé…ç½®æ–‡ä»¶çš„ç±»å‹å¯ä»¥æ˜¯å¥½å‡ ç§ï¼Œæ¯”å¦‚ï¼š.jsã€.ymlã€json ç­‰ã€‚æ¨èä½¿ç”¨ .eslintrc.js;</li></ul><p>ä¸‹é¢é€šè¿‡å‘½ä»¤æ¥ç”Ÿæˆä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼š</p><pre class="language-js" data-language="js"><code class="language-js"># å®‰è£… eslintnpm i eslint <span class="token operator">-</span><span class="token constant">D</span># åˆå§‹åŒ–ä¸€ä¸ªé…ç½®æ–‡ä»¶npx eslint <span class="token operator">--</span>init</code></pre><p>æœ€åä¼šåœ¨å½“å‰ç›®å½•ç”Ÿæˆä¸€ä¸ª .eslintrc.js æ–‡ä»¶ã€‚è¿™é‡Œå°±ä¸æŠŠä»£ç è´´å‡ºæ¥äº†ï¼Œæ²¡å‚è€ƒæ„ä¹‰ã€‚</p><p>ä¸Šé¢æˆ‘ä»¬çŸ¥é“äº†å¯ä»¥å°†é…ç½®ç»Ÿä¸€å†™åˆ°ä¸€ä¸ªé…ç½®æ–‡ä»¶é‡Œï¼Œä½†æ˜¯ä½ çŸ¥é“è¯¥å¦‚ä½•å»è§¦å‘è¿™ä¸ªé…ç½®æ–‡ä»¶çš„æ ¡éªŒè§„åˆ™å˜›?</p><h2 id="æ ¡éªŒå•ä¸ªæ–‡ä»¶"><a href="#æ ¡éªŒå•ä¸ªæ–‡ä»¶" class="headerlink" title="æ ¡éªŒå•ä¸ªæ–‡ä»¶"></a>æ ¡éªŒå•ä¸ªæ–‡ä»¶</h2><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// æ ¡éªŒ a.js å’Œ b.js</span>npx eslint a<span class="token punctuation">.</span>js b<span class="token punctuation">.</span>js<span class="token comment">// æ ¡éªŒ src å’Œ scripts ç›®å½•</span>npx eslint src scripts</code></pre><h2 id="æ ¡éªŒåˆ«çš„ç±»å‹çš„æ–‡ä»¶"><a href="#æ ¡éªŒåˆ«çš„ç±»å‹çš„æ–‡ä»¶" class="headerlink" title="æ ¡éªŒåˆ«çš„ç±»å‹çš„æ–‡ä»¶"></a>æ ¡éªŒåˆ«çš„ç±»å‹çš„æ–‡ä»¶</h2><p>é€šå¸¸ ESLint åªèƒ½æ ¡éªŒ JS æ–‡ä»¶ã€‚æ¯”å¦‚éœ€è¦æ ¡éªŒ .vue æ–‡ä»¶ï¼Œå…‰é…ç½® vue æ’ä»¶å’Œ vue-eslint-parser è§£æå™¨æ˜¯ä¸å¤Ÿçš„ï¼Œè¿˜éœ€è¦è®© ESLint åœ¨æŸ¥æ‰¾æ–‡ä»¶çš„æ—¶å€™æ‰¾åˆ° .vue æ–‡ä»¶ã€‚</p><p>å¯ä»¥é€šè¿‡ â€“ext æ¥æŒ‡å®šå…·ä½“éœ€è¦æ ¡éªŒçš„æ–‡ä»¶ï¼š</p><pre class="language-js" data-language="js"><code class="language-js">npx eslint <span class="token operator">--</span>ext <span class="token punctuation">.</span>js<span class="token punctuation">,</span><span class="token punctuation">.</span>jsx<span class="token punctuation">,</span><span class="token punctuation">.</span>vue src</code></pre><h2 id="è‡ªåŠ¨ä¿®å¤éƒ¨åˆ†æ ¡éªŒé”™è¯¯çš„ä»£ç "><a href="#è‡ªåŠ¨ä¿®å¤éƒ¨åˆ†æ ¡éªŒé”™è¯¯çš„ä»£ç " class="headerlink" title="è‡ªåŠ¨ä¿®å¤éƒ¨åˆ†æ ¡éªŒé”™è¯¯çš„ä»£ç "></a>è‡ªåŠ¨ä¿®å¤éƒ¨åˆ†æ ¡éªŒé”™è¯¯çš„ä»£ç </h2><p>rules åˆ—è¡¨é¡¹ä¸­æ ‡è¯†äº†ä¸€ä¸ªæ‰³æ‰‹ ğŸ”§ å›¾æ¡ˆçš„è§„åˆ™å°±æ ‡è¯†è¯¥è§„åˆ™æ˜¯å¯ä»¥é€šè¿‡ ESLint å·¥å…·è‡ªåŠ¨ä¿®å¤ä»£ç çš„ã€‚å¦‚ä½•è‡ªåŠ¨ä¿®å¤å‘¢?é€šè¿‡ â€“fix å³å¯ã€‚æ¯”å¦‚å¯¹äº ESLint Rules é‡Œçš„è¿™ä¸ª semi è§„åˆ™ï¼Œå®ƒå°±æ˜¯å¸¦æ‰³æ‰‹å›¾æ¡ˆçš„ã€‚</p><p>å¯¹äºå¦‚ä¸‹çš„ a.js ä»£ç ï¼š</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">const</span> num <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span></code></pre><p>å½“åœ¨é…ç½®æ–‡ä»¶é…ç½®äº† â€˜semiâ€™: [2, â€˜alwaysâ€™] åï¼Œè¿è¡Œå‘½ä»¤ï¼š</p><pre class="language-js" data-language="js"><code class="language-js">npx eslint <span class="token operator">--</span>fix a<span class="token punctuation">.</span>js</code></pre><p>æ ¡éªŒç›´æ¥å°±é€šè¿‡äº†ï¼Œä¸”ä¼šè‡ªåŠ¨ä¿®å¤ä»£ç ï¼Œåœ¨ä»£ç æœ«å°¾è‡ªåŠ¨åŠ ä¸Šåˆ†å·ã€‚</p><h2 id="æŠŠæ ¡éªŒå‘½ä»¤åŠ åˆ°-package-json"><a href="#æŠŠæ ¡éªŒå‘½ä»¤åŠ åˆ°-package-json" class="headerlink" title="æŠŠæ ¡éªŒå‘½ä»¤åŠ åˆ° package.json"></a>æŠŠæ ¡éªŒå‘½ä»¤åŠ åˆ° package.json</h2><p>æ£€éªŒå‘½ä»¤æ¯”è¾ƒé•¿ï¼Œä¹Ÿéš¾è®°ï¼Œä¹ æƒ¯ä¸Šä¼šæŠŠè¿™äº›å‘½åç›´æ¥å†™åˆ° package.json é‡Œï¼š</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token punctuation">{</span>    <span class="token string">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{</span>        <span class="token string">"lint"</span><span class="token operator">:</span> <span class="token string">"npx eslint --ext .js,.jsx,.vue src"</span><span class="token punctuation">,</span>        <span class="token string">"lint:fix"</span><span class="token operator">:</span> <span class="token string">"npx eslint --fix --ext .js,.jsx,.vue src"</span><span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h2 id="è¿‡æ»¤ä¸€äº›ä¸éœ€è¦æ ¡éªŒçš„æ–‡ä»¶"><a href="#è¿‡æ»¤ä¸€äº›ä¸éœ€è¦æ ¡éªŒçš„æ–‡ä»¶" class="headerlink" title="è¿‡æ»¤ä¸€äº›ä¸éœ€è¦æ ¡éªŒçš„æ–‡ä»¶"></a>è¿‡æ»¤ä¸€äº›ä¸éœ€è¦æ ¡éªŒçš„æ–‡ä»¶</h2><p>å¯¹äºä¸€äº›å…¬å…±çš„ JSã€æµ‹è¯•è„šæœ¬æˆ–è€…æ˜¯ç‰¹å®šç›®å½•ä¸‹çš„æ–‡ä»¶ä¹ æƒ¯ä¸Šæ˜¯ä¸éœ€è¦æ ¡éªŒçš„ï¼Œå› æ­¤å¯ä»¥åœ¨é¡¹ç›®æ ¹ç›®å½•é€šè¿‡åˆ›å»ºä¸€ä¸ª .eslintignore æ–‡ä»¶æ¥é…ç½®ï¼Œå‘Šè¯‰ ESLint æ ¡éªŒçš„æ—¶å€™å¿½ç•¥å®ƒä»¬ï¼š</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">public</span> <span class="token operator">/</span> src <span class="token operator">/</span> main<span class="token punctuation">.</span>js<span class="token punctuation">;</span></code></pre><p>é™¤äº† .eslintignore ä¸­æŒ‡å®šçš„æ–‡ä»¶æˆ–ç›®å½•ï¼ŒESLint æ€»æ˜¯å¿½ç•¥ /node_modules/ å’Œ /bower_components/ ä¸­çš„æ–‡ä»¶;å› æ­¤å¯¹äºä¸€äº›ç›®å‰è§£å†³ä¸äº†çš„è§„åˆ™æŠ¥é”™ï¼Œä½†æ˜¯å¦‚æœåˆæ€¥äºæ‰“åŒ…ä¸Šçº¿ï¼Œåœ¨ä¸å½±å“è¿è¡Œçš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å°±å¯ä»¥åˆ©ç”¨ .eslintignore æ–‡ä»¶å°†å…¶æš‚æ—¶å¿½ç•¥ã€‚</p><h3 id="åœ¨-Vue-é¡¹ç›®ä¸­çš„å®è·µ"><a href="#åœ¨-Vue-é¡¹ç›®ä¸­çš„å®è·µ" class="headerlink" title="åœ¨ Vue é¡¹ç›®ä¸­çš„å®è·µ"></a>åœ¨ Vue é¡¹ç›®ä¸­çš„å®è·µ</h3><p>ä¸Šé¢æŠŠ ESLint çš„å‡ ä¹æ‰€æœ‰çš„é…ç½®å‚æ•°å’Œæ ¡éªŒæ–¹å¼éƒ½è¯¦ç»†çš„ä»‹ç»äº†ä¸€éï¼Œä½†æ˜¯å¦‚æœæƒ³åœ¨é¡¹ç›®ä¸­è½åœ°ï¼Œä»…ä»…é ä¸Šé¢çš„çŸ¥è¯†è¿˜æ˜¯ä¸å¤Ÿçš„ã€‚ä¸‹é¢å°†ç»†è¯´å¦‚ä½•åœ¨ Vue ä¸­è½åœ°ä»£ç æ ¡éªŒã€‚</p><p>å…³äºå¦‚ä½•åœ¨ Vue ä¸­è½åœ°ä»£ç æ ¡éªŒï¼Œä¸€èˆ¬æ˜¯æœ‰ 2 ç§æƒ…å†µï¼š</p><ul><li>é€šè¿‡ vue-cli åˆå§‹åŒ–é¡¹ç›®çš„æ—¶å€™å·²ç»é€‰æ‹©äº†å¯¹åº”çš„æ ¡éªŒé…ç½®</li><li>å¯¹äºä¸€ä¸ªç©ºçš„ Vue é¡¹ç›®ï¼Œæƒ³æ¥å…¥ä»£ç æ ¡éªŒ</li></ul><p>å…¶å®è¿™ 2 ç§æƒ…å†µæœ€ç»ˆçš„æ ¡éªŒçš„æ ¸å¿ƒé…ç½®éƒ½æ˜¯ä¸€æ ·çš„ï¼Œåªæ˜¯åˆšå¼€å§‹çš„æ—¶å€™å®‰è£…çš„åŒ…æœ‰æ‰€åŒºåˆ«ã€‚ä¸‹é¢é€šè¿‡åˆ†æ vue-cli é…ç½®çš„ä»£ç æ ¡éªŒï¼Œæ¥çœ‹çœ‹å®ƒåˆ°åº•åšäº†å“ªäº›äº‹æƒ…ï¼Œé€šè¿‡å®ƒå®‰è£…çš„åŒ…ä»¥åŠåŒ…çš„ä½œç”¨ï¼Œæˆ‘ä»¬å°±ä¼šçŸ¥é“å¦‚ä½•åœ¨ç©ºé¡¹ç›®ä¸­é…ç½®ä»£ç æ ¡éªŒäº†ã€‚</p><h2 id="é€šè¿‡-vue-cli-åˆå§‹åŒ–çš„é¡¹ç›®"><a href="#é€šè¿‡-vue-cli-åˆå§‹åŒ–çš„é¡¹ç›®" class="headerlink" title="é€šè¿‡ vue-cli åˆå§‹åŒ–çš„é¡¹ç›®"></a>é€šè¿‡ vue-cli åˆå§‹åŒ–çš„é¡¹ç›®</h2><p>å¦‚æœä½ çš„é¡¹ç›®æœ€åˆæ˜¯é€šè¿‡ vue-cli æ–°å»ºçš„ï¼Œé‚£ä¹ˆåœ¨æ–°å»ºçš„æ—¶å€™ä¼šè®©ä½ é€‰</p><ul><li>æ˜¯å¦æ”¯æŒ eslint;</li><li>æ˜¯å¦å¼€å¯ä¿å­˜æ ¡éªŒ;</li><li>æ˜¯å¦å¼€å¯æäº¤å‰æ ¡éªŒ;</li></ul><p>å¦‚æœéƒ½å¼€å¯äº†è¯ï¼Œä¼šå®‰è£…å¦‚ä¸‹å‡ ä¸ªåŒ…ï¼š</p><ul><li>eslintï¼šå‰é¢ 2 å¤§ç« èŠ‚ä»‹ç»çš„å°±æ˜¯è¿™ç©æ„ï¼ŒESLint å‡ºå“ï¼Œæ˜¯ä»£ç æ ¡éªŒçš„åŸºç¡€åŒ…ï¼Œä¸”æä¾›äº†å¾ˆå¤šå†…ç½®çš„ Rulesï¼Œæ¯”å¦‚ eslint:recommended ç»å¸¸è¢«ä½œä¸ºé¡¹ç›®çš„ JS æ£€æŸ¥è§„èŒƒè¢«å¼•å…¥;</li><li>babel-eslintï¼šä¸€ä¸ªå¯¹ Babel è§£æå™¨çš„åŒ…è£…ï¼Œä½¿å…¶èƒ½å¤Ÿä¸ ESLint å…¼å®¹;</li><li>lint-stagedï¼šè¯·çœ‹åé¢ pre-commit éƒ¨åˆ†;</li><li>@vue/cli-plugin-eslint</li><li>eslint-plugin-vue</li></ul><p>ä¸‹é¢é‡ç‚¹ä»‹ç» @vue/cli-plugin-eslint å’Œ eslint-plugin-vueï¼Œè¯´ä¸‹è¿™ 2 ä¸ªåŒ…æ˜¯å¹²å˜›çš„ã€‚</p><h3 id="vue-cli-plugin-eslint"><a href="#vue-cli-plugin-eslint" class="headerlink" title="@vue/cli-plugin-eslint"></a>@vue/cli-plugin-eslint</h3><p>è¿™ä¸ªåŒ…å®ƒä¸»è¦å¹²äº† 2 ä»¶äº‹æƒ…ï¼š</p><h3 id="ç¬¬ä¸€ä»¶äº‹"><a href="#ç¬¬ä¸€ä»¶äº‹" class="headerlink" title="ç¬¬ä¸€ä»¶äº‹"></a>ç¬¬ä¸€ä»¶äº‹</h3><p>å¾€ package.json é‡Œæ³¨å†Œäº†ä¸€ä¸ªå‘½ä»¤ï¼š</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token punctuation">{</span>    <span class="token string">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{</span>        <span class="token string">"lint"</span><span class="token operator">:</span> <span class="token string">"vue-cli-service lint"</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p>æ‰§è¡Œè¿™ä¸ªå‘½ä»¤ä¹‹åï¼Œå®ƒä¼šå»æ£€æŸ¥å’Œä¿®å¤éƒ¨åˆ†å¯ä»¥ä¿®å¤çš„é—®é¢˜ã€‚é»˜è®¤æŸ¥æ‰¾çš„æ–‡ä»¶æ˜¯ src å’Œ tests ç›®å½•ä¸‹æ‰€æœ‰çš„ .js,.jsx,.vue æ–‡ä»¶ï¼Œä»¥åŠé¡¹ç›®æ ¹ç›®å½•ä¸‹æ‰€æœ‰çš„ js æ–‡ä»¶(æ¯”å¦‚ï¼Œä¹Ÿä¼šæ£€æŸ¥ .eslintrc.js)ã€‚</p><p>å½“ç„¶ä½ ä¹Ÿå¯ä»¥è‡ªå®šä¹‰çš„ä¼ å…¥å‚æ•°å’Œæ ¡éªŒæ–‡ä»¶ï¼š</p><pre class="language-js" data-language="js"><code class="language-js">vue<span class="token operator">-</span>cli<span class="token operator">-</span>service lint <span class="token punctuation">[</span>options<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">...</span>files<span class="token punctuation">]</span></code></pre><p>æ”¯æŒçš„å‚æ•°å¦‚ä¸‹ï¼š</p><ul><li>â€“no-fix: ä¸ä¼šä¿®å¤ errors å’Œ warnings;</li><li>â€“max-errors [limit]ï¼šæŒ‡å®šå¯¼è‡´å‡ºç° npm ERR é”™è¯¯çš„æœ€å¤§ errors æ•°é‡;</li></ul><h3 id="ç¬¬äºŒä»¶äº‹"><a href="#ç¬¬äºŒä»¶äº‹" class="headerlink" title="ç¬¬äºŒä»¶äº‹"></a>ç¬¬äºŒä»¶äº‹</h3><p>å¢åŠ äº†ä»£ç ä¿å­˜è§¦å‘æ ¡éªŒçš„åŠŸèƒ½ lintOnSaveï¼Œè¿™ä¸ªåŠŸèƒ½é»˜è®¤æ˜¯å¼€å¯çš„ã€‚å¦‚æœæƒ³è¦å…³é—­è¿™ä¸ªåŠŸèƒ½ï¼Œå¯ä»¥åœ¨ vue.config.js é‡Œé…ç½®ï¼Œä¹ æƒ¯ä¸Šåªå¼€å¯ development ç¯å¢ƒä¸‹çš„ä»£ç ä¿å­˜æ ¡éªŒåŠŸèƒ½ï¼š</p><pre class="language-js" data-language="js"><code class="language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>  lintOnSave<span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">"development"</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>lintOnSave å‚æ•°è¯´æ˜ï¼š</p><ul><li>true æˆ–è€… warningï¼šå¼€å¯ä¿å­˜æ ¡éªŒï¼Œä¼šå°† errors çº§åˆ«çš„é”™è¯¯åœ¨ç»ˆç«¯ä¸­ä»¥ WARNING çš„å½¢å¼æ˜¾ç¤ºã€‚é»˜è®¤çš„ï¼ŒWARNING å°†ä¸ä¼šå¯¼è‡´ç¼–è¯‘å¤±è´¥;</li><li>falseï¼šä¸å¼€å¯ä¿å­˜æ ¡éªŒ;</li><li>errorï¼šå¼€å¯ä¿å­˜æ ¡éªŒï¼Œä¼šå°† errors çº§åˆ«çš„é”™è¯¯åœ¨ç»ˆç«¯ä¸­ä»¥ ERROR çš„å½¢å¼å‡ºç°ï¼Œä¼šå¯¼è‡´ç¼–è¯‘å¤±è´¥ï¼ŒåŒæ—¶æµè§ˆå™¨é¡µé¢å˜é»‘ï¼Œæ˜¾ç¤º Failed to compileã€‚</li></ul><h3 id="eslint-plugin-vue"><a href="#eslint-plugin-vue" class="headerlink" title="eslint-plugin-vue"></a>eslint-plugin-vue</h3><p>eslint-plugin-vue æ˜¯å¯¹ .vue æ–‡ä»¶è¿›è¡Œä»£ç æ ¡éªŒçš„æ’ä»¶ã€‚</p><p>é’ˆå¯¹è¿™ä¸ªæ’ä»¶ï¼Œå®ƒæä¾›äº†è¿™å‡ ä¸ªæ‰©å±•</p><ul><li>plugin:vue/baseï¼šåŸºç¡€</li><li>plugin:vue/essentialï¼šé¢„é˜²é”™è¯¯çš„(ç”¨äº Vue 2.x)</li><li>plugin:vue/recommendedï¼šæ¨èçš„ï¼Œæœ€å°åŒ–ä»»æ„é€‰æ‹©å’Œè®¤çŸ¥å¼€é”€(ç”¨äº Vue 2.x);</li><li>plugin:vue/strongly-recommendedï¼šå¼ºçƒˆæ¨èï¼Œæé«˜å¯è¯»æ€§(ç”¨äº Vue 2.x);</li><li>plugin:vue/vue3-essentialï¼š(ç”¨äº Vue 3.x)</li><li>plugin:vue/vue3-strongly-recommendedï¼š(ç”¨äº Vue 3.x)</li><li>plugin:vue/vue3-recommendedï¼š(ç”¨äº Vue 3.x)</li></ul><p>å„æ‰©å±•è§„åˆ™åˆ—è¡¨ï¼švue rules</p><h3 id="çœ‹åˆ°è¿™ä¹ˆä¸€å †çš„æ‰©å±•ï¼Œæ˜¯ä¸æ˜¯éƒ½ä¸çŸ¥é“é€‰å“ªä¸ªäº†"><a href="#çœ‹åˆ°è¿™ä¹ˆä¸€å †çš„æ‰©å±•ï¼Œæ˜¯ä¸æ˜¯éƒ½ä¸çŸ¥é“é€‰å“ªä¸ªäº†" class="headerlink" title="çœ‹åˆ°è¿™ä¹ˆä¸€å †çš„æ‰©å±•ï¼Œæ˜¯ä¸æ˜¯éƒ½ä¸çŸ¥é“é€‰å“ªä¸ªäº†"></a>çœ‹åˆ°è¿™ä¹ˆä¸€å †çš„æ‰©å±•ï¼Œæ˜¯ä¸æ˜¯éƒ½ä¸çŸ¥é“é€‰å“ªä¸ªäº†</h3><p>ä»£ç è§„èŒƒçš„ä¸œè¥¿ï¼ŒåŸåˆ™è¿˜æ˜¯å¾—ç”±å„è‡ªçš„å›¢é˜Ÿå»ç£¨åˆå•†è®®å‡ºä¸€å¥—é€‚åˆå¤§å®¶çš„è§„åˆ™ã€‚ä¸è¿‡ï¼Œå¦‚æœä½ ç”¨çš„æ˜¯ Vue2ï¼Œæˆ‘è¿™é‡Œå¯ä»¥æ¨è 2 å¥— extends é…ç½®ï¼š</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token punctuation">{</span>    <span class="token comment">// Vue å®˜æ–¹ç¤ºä¾‹ä¸Šçš„é…ç½®</span>   <span class="token keyword">extends</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'eslint:recommended'</span><span class="token punctuation">,</span> <span class="token string">'plugin:vue/recommended'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>   <span class="token comment">// æˆ–è€…ä½¿ç”¨ AlloyTeam å›¢é˜Ÿé‚£å¥—</span>   <span class="token keyword">extends</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'alloy'</span><span class="token punctuation">,</span> <span class="token string">'alloy/vue'</span><span class="token punctuation">]</span><span class="token punctuation">}</span></code></pre><h3 id="é…ç½®å’Œæ’ä»¶å¯¹åº”çš„è§£æå™¨"><a href="#é…ç½®å’Œæ’ä»¶å¯¹åº”çš„è§£æå™¨" class="headerlink" title="é…ç½®å’Œæ’ä»¶å¯¹åº”çš„è§£æå™¨"></a>é…ç½®å’Œæ’ä»¶å¯¹åº”çš„è§£æå™¨</h3><p>å¦‚æœæ˜¯ Vue 2.x é¡¹ç›®ï¼Œé…ç½®äº† eslint-plugin-vue æ’ä»¶å’Œ extends åï¼Œtemplate æ ¡éªŒè¿˜æ˜¯ä¼šå¤±æ•ˆï¼Œå› ä¸ºä¸ç®¡æ˜¯ ESLint é»˜è®¤çš„è§£æå™¨ Espree è¿˜æ˜¯ babel-eslint éƒ½åªèƒ½è§£æ JSï¼Œæ— æ³•è§£æ template çš„å†…å®¹ã€‚</p><p>è€Œ vue-eslint-parser åªèƒ½è§£æ template çš„å†…å®¹ï¼Œä½†æ˜¯ä¸ä¼šè§£æ JSï¼Œå› æ­¤è¿˜éœ€è¦å¯¹è§£æå™¨åšå¦‚ä¸‹é…ç½®ï¼š</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token punctuation">{</span>    parser<span class="token operator">:</span> <span class="token string">'vue-eslint-parser'</span><span class="token punctuation">,</span>    parseOptions<span class="token operator">:</span> <span class="token punctuation">{</span>        parser<span class="token operator">:</span> <span class="token string">'babel-eslint'</span><span class="token punctuation">,</span>        ecmaVersion<span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span>        sourceType<span class="token operator">:</span> <span class="token string">'module'</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token keyword">extends</span><span class="token operator">:</span> <span class="token punctuation">[</span>        <span class="token string">'eslint:recommended'</span><span class="token punctuation">,</span>        <span class="token string">'plugin:vue/recommended'</span>    <span class="token punctuation">]</span><span class="token punctuation">,</span>    plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'vue'</span><span class="token punctuation">]</span><span class="token punctuation">}</span></code></pre><p>å‚è€ƒï¼šeslint-plugin-vue faq[13]</p><h2 id="è®©-Prettier-ç®¡æ§ä»£ç é£æ ¼"><a href="#è®©-Prettier-ç®¡æ§ä»£ç é£æ ¼" class="headerlink" title="è®© Prettier ç®¡æ§ä»£ç é£æ ¼"></a>è®© Prettier ç®¡æ§ä»£ç é£æ ¼</h2><p>é’ˆå¯¹ Prettier ä¸å¾—ä¸æå‡ºä»¥ä¸‹ç–‘é—®?</p><ul><li>Prettier æ˜¯ä»€ä¹ˆ?</li><li>ä¸ºä»€ä¹ˆæœ‰äº† ESLintï¼Œè¿˜éœ€è¦å¼•å…¥ Prettier å‘¢?å®ƒä¸¤ä¹‹é—´æœ‰ä»€ä¹ˆåŒºåˆ«?</li><li>å¦‚ä½•é…ç½® Prettier?</li><li>Prettier å¦‚ä½•å’Œ ESLint ç»“åˆä½¿ç”¨?</li><li>Prettier æ˜¯ä»€ä¹ˆ</li></ul><p>ç”¨å®ƒè‡ªå·±çš„è¯æ¥è¯´ï¼šæˆ‘æ˜¯ä¸€ä¸ªè‡ªä»¥ä¸ºæ˜¯çš„ä»£ç æ ¼å¼åŒ–å·¥å…·ï¼Œè€Œä¸”æˆ‘æ”¯æŒçš„æ–‡ä»¶ç±»å‹å¾ˆå¤šï¼Œæ¯”å¦‚ï¼š</p><ul><li>JavaScript(åŒ…æ‹¬å®éªŒä¸­çš„ç‰¹æ€§)</li><li>JSX</li><li>Vue</li><li>TypeScript</li><li>CSSã€Lessã€SCSS</li><li>HTML</li><li>JSON</li><li>Markdown</li></ul><p>ä»¥åŠè¿˜æœ‰ä¸€äº›å…¶ä»–ç±»å‹çš„æ–‡ä»¶ã€‚</p><h3 id="Prettier-å¯¹æ¯”-ESLint"><a href="#Prettier-å¯¹æ¯”-ESLint" class="headerlink" title="Prettier å¯¹æ¯” ESLint"></a>Prettier å¯¹æ¯” ESLint</h3><p>æˆ‘ä»¬çŸ¥é“ ESLint è´Ÿè´£äº†å¯¹ä»£ç çš„æ ¡éªŒåŠŸèƒ½ï¼Œå¹¶ä¸”ä¸»è¦æä¾›äº† 2 ç±»è§„åˆ™ï¼š</p><ul><li>æ£€æŸ¥æ ¼å¼åŒ–çš„è§„åˆ™</li><li>æ£€æŸ¥ä»£ç è´¨é‡çš„è§„åˆ™</li></ul><p>è¯´åˆ°åº• ESLint å°±æ˜¯é€šè¿‡ä¸€æ¡æ¡çš„è§„åˆ™å»é™åˆ¶ä»£ç çš„è§„èŒƒï¼Œä½†æ˜¯è¿™äº›è§„åˆ™æ¯•ç«Ÿæ˜¯æœ‰é™çš„ï¼Œè€Œä¸”æ›´é‡è¦çš„æ˜¯è¿™äº›è§„åˆ™çš„é‡ç‚¹å¹¶ä¸åœ¨ä»£ç é£æ ¼ä¸Šï¼Œæ‰€ä»¥å•å‡­ ESLint å¹¶ä¸èƒ½å®Œå…¨çš„ç»Ÿä¸€ä»£ç é£æ ¼ã€‚</p><p>è¿™ä¸ªæ—¶å€™å°±éœ€è¦å¼•å…¥ Prettier äº†ï¼Œå› ä¸ºå®ƒå¹²çš„äº‹å°±æ˜¯åªç®¡ä»£ç æ ¼å¼åŒ–ï¼Œä¸ç®¡ä»£ç è´¨é‡ã€‚</p><p>â€œPrettierï¼šåœ¨ä»£ç é£æ ¼è¿™ä¸€å—ï¼Œæˆ‘ä¸€ç›´æ‹¿æçš„æ­»æ­»çš„ã€‚</p><h3 id="å¦‚ä½•é…ç½®-Prettier"><a href="#å¦‚ä½•é…ç½®-Prettier" class="headerlink" title="å¦‚ä½•é…ç½® Prettier"></a>å¦‚ä½•é…ç½® Prettier</h3><p>åˆå§‹åŒ–æ“ä½œï¼š</p><pre class="language-js" data-language="js"><code class="language-js"># å®‰è£…åŒ…npm i prettier <span class="token operator">-</span><span class="token constant">D</span># æ–°å»º <span class="token punctuation">.</span>prettierrc<span class="token punctuation">.</span>jsecho module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token operator">&gt;</span> <span class="token punctuation">.</span>prettierrc<span class="token punctuation">.</span>js# æ–°å»º <span class="token punctuation">.</span>prettierignoreecho <span class="token operator">&gt;</span> <span class="token punctuation">.</span>prettierignore</code></pre><p>Prettier æ”¯æŒå¯ä»¥é…ç½®å‚æ•°ä¸å¤šï¼Œæ€»å…±æ‰ 21 ä¸ªï¼Œè¿™é‡Œæ˜¯æ‰€æœ‰å‚æ•°çš„è¯´æ˜ prettier options[14]</p><p>æ‰€æœ‰å‚æ•°éƒ½æœ‰é»˜è®¤å€¼ï¼Œä¹Ÿå°±æ˜¯è¯´å³ä½¿ä½ æ²¡æœ‰é…ç½® .prettierrc.jsï¼Œå½“ä½ ç”¨ Prettier å»æ ¼å¼åŒ–ä»£ç çš„æ—¶å€™å…¨éƒ¨éƒ½ä¼šèµ°é»˜è®¤é…ç½®ã€‚é’ˆå¯¹ä¸ªåˆ«å‚æ•°ï¼Œä½ ä¸æƒ³ç”¨é»˜è®¤è®¾ç½®çš„è¯ï¼Œå°±å¯ä»¥åœ¨ .prettierrc.js é…ç½®å…·ä½“æƒ³è¦çš„å€¼ã€‚</p><p>å¦‚ä¸‹ï¼ŒæŠŠé¡¹ç›®ä¸­ä¼šç”¨åˆ°çš„å‚æ•°è¿›è¡Œä¸€ä¸ªè¯´æ˜ï¼š</p><pre class="language-js" data-language="js"><code class="language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>  printWidth<span class="token operator">:</span> <span class="token number">80</span><span class="token punctuation">,</span> <span class="token comment">//ï¼ˆé»˜è®¤å€¼ï¼‰å•è¡Œä»£ç è¶…å‡º 80 ä¸ªå­—ç¬¦è‡ªåŠ¨æ¢è¡Œ</span>  tabWidth<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token comment">//ï¼ˆé»˜è®¤å€¼ï¼‰ä¸€ä¸ª tab é”®ç¼©è¿›ç›¸å½“äº 2 ä¸ªç©ºæ ¼</span>  useTabs<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// è¡Œç¼©è¿›ä½¿ç”¨ tab é”®ä»£æ›¿ç©ºæ ¼</span>  semi<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">//ï¼ˆé»˜è®¤å€¼ï¼‰è¯­å¥çš„æœ«å°¾åŠ ä¸Šåˆ†å·</span>  singleQuote<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// ä½¿ç”¨å•å¼•å·</span>  quoteProps<span class="token operator">:</span> <span class="token string">"as-needed"</span><span class="token punctuation">,</span> <span class="token comment">//ï¼ˆé»˜è®¤å€¼ï¼‰ä»…ä»…å½“å¿…é¡»çš„æ—¶å€™æ‰ä¼šåŠ ä¸ŠåŒå¼•å·</span>  jsxSingleQuote<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// åœ¨ JSX ä¸­ä½¿ç”¨å•å¼•å·</span>  trailingComma<span class="token operator">:</span> <span class="token string">"all"</span><span class="token punctuation">,</span> <span class="token comment">// ä¸ç”¨åœ¨å¤šè¡Œçš„é€—å·åˆ†éš”çš„å¥æ³•ç»“æ„çš„æœ€åä¸€è¡Œçš„æœ«å°¾åŠ ä¸Šé€—å·</span>  bracketSpacing<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//ï¼ˆé»˜è®¤å€¼ï¼‰åœ¨æ‹¬å·å’Œå¯¹è±¡çš„æ–‡å­—ä¹‹é—´åŠ ä¸Šä¸€ä¸ªç©ºæ ¼</span>  jsxBracketSameLine<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// æŠŠ &gt; ç¬¦å·æ”¾åœ¨å¤šè¡Œçš„ JSX å…ƒç´ çš„æœ€åä¸€è¡Œ</span>  arrowParens<span class="token operator">:</span> <span class="token string">"avoid"</span><span class="token punctuation">,</span> <span class="token comment">// å½“ç®­å¤´å‡½æ•°ä¸­åªæœ‰ä¸€ä¸ªå‚æ•°çš„æ—¶å€™å¯ä»¥å¿½ç•¥æ‹¬å¼§</span>  vueIndentScriptAndStyle<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">//ï¼ˆé»˜è®¤å€¼ï¼‰å¯¹äº .vue æ–‡ä»¶ï¼Œä¸ç¼©è¿› &lt;script&gt; å’Œ &lt;style&gt; é‡Œçš„å†…å®¹</span>  embeddedLanguageFormatting<span class="token operator">:</span> <span class="token string">"off"</span><span class="token punctuation">,</span> <span class="token comment">// ä¸å…è®¸æ ¼å¼åŒ–å†…åµŒçš„ä»£ç å—ï¼Œæ¯”å¦‚ markdown  æ–‡ä»¶é‡Œçš„ä»£ç å—</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>â€œæ‰©å±•é˜…è¯»ï¼šå…³äº Trailing commas[15] ä½ æˆ–è®¸æƒ³äº†è§£æ›´å¤šã€‚</p><p>ç„¶åå¯ä»¥é€šè¿‡å‘½ä»¤æ¥æ ¼å¼åŒ–ä»£ç ï¼š</p><pre class="language-js" data-language="js"><code class="language-js"># å°†æ ¼å¼åŒ–å½“å‰ç›®å½•åŠå­ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶npx prettier <span class="token operator">--</span>write <span class="token punctuation">.</span># æ£€æŸ¥æŸä¸ªæ–‡ä»¶æ˜¯å¦å·²ç»æ ¼å¼åŒ–npx prettier <span class="token operator">--</span>check src<span class="token operator">/</span>main<span class="token punctuation">.</span>js</code></pre><p>å¦‚æœæœ‰äº›æ–‡ä»¶ä¸æƒ³è¢« Prettier æ ¼å¼åŒ–ï¼Œå¯ä»¥å°†å…¶å†™å…¥åˆ° .prettierignore é‡Œï¼š</p><pre class="language-js" data-language="js"><code class="language-js">build<span class="token operator">/</span><span class="token keyword">package</span><span class="token punctuation">.</span>json<span class="token keyword">public</span><span class="token operator">/</span>test<span class="token comment">/*.*</span></code></pre><h3 id="Prettier-å’Œ-ESLint-ä¸€èµ·å¹²æ´»æ›´é…å“¦"><a href="#Prettier-å’Œ-ESLint-ä¸€èµ·å¹²æ´»æ›´é…å“¦" class="headerlink" title="Prettier å’Œ ESLint ä¸€èµ·å¹²æ´»æ›´é…å“¦"></a>Prettier å’Œ ESLint ä¸€èµ·å¹²æ´»æ›´é…å“¦</h3><p>ä¸Šé¢ä»‹ç»äº† Prettier çš„å…·ä½“é…ç½®ï¼Œè¿™é‡Œä¸»è¦ä»‹ç»å’Œ ESLint ç»“åˆä½¿ç”¨çš„é…ç½®å’Œæ³¨æ„äº‹é¡¹ã€‚</p><p>å’Œ ESLint é…åˆä½¿ç”¨éœ€è¦ç”¨åˆ° eslint-plugin-prettier è¿™ä¸ªæ’ä»¶ï¼š</p><pre class="language-js" data-language="js"><code class="language-js">npm i eslint<span class="token operator">-</span>plugin<span class="token operator">-</span>prettier <span class="token operator">-</span><span class="token constant">D</span></code></pre><p>é…ç½®ï¼š</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token punctuation">{</span>    plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'prettier'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    rules<span class="token operator">:</span> <span class="token punctuation">{</span>        <span class="token string">'prettier/prettier'</span><span class="token operator">:</span> <span class="token string">'error'</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p>è¿™ä¸ªæ’ä»¶çš„å·¥ä½œåŸç†æ˜¯å…ˆè°ƒç”¨ Prettier å¯¹ä½ çš„ä»£ç è¿›è¡Œæ ¼å¼åŒ–ï¼Œç„¶åä¼šæŠŠæ ¼å¼åŒ–å‰åä¸ä¸€è‡´çš„åœ°æ–¹è¿›è¡Œæ ‡è®°ï¼Œé€šè¿‡é…ç½® â€˜prettier/prettierâ€™: â€˜errorâ€™ æ­¤æ¡è§„åˆ™ä¼šå°†æ ‡è®°åœ°æ–¹è¿›è¡Œ error çº§åˆ«çš„æŠ¥é”™æç¤ºï¼Œç„¶åå¯ä»¥é€šè¿‡ ESLint çš„ â€“fix è‡ªåŠ¨ä¿®å¤åŠŸèƒ½å°†å…¶ä¿®å¤ã€‚</p><h3 id="å†²çªäº†æ€ä¹ˆåŠ"><a href="#å†²çªäº†æ€ä¹ˆåŠ" class="headerlink" title="å†²çªäº†æ€ä¹ˆåŠ"></a>å†²çªäº†æ€ä¹ˆåŠ</h3><p>é€šè¿‡å‰é¢çš„ä»‹ç»ï¼Œæˆ‘ä»¬çŸ¥é“ ESLint ä¹Ÿæ˜¯ä¼šå¯¹ä»£ç é£æ ¼åšä¸€äº›é™åˆ¶çš„ï¼Œè€Œ Prettier ä¸»è¦å°±æ˜¯è§„èŒƒä»£ç é£æ ¼ï¼Œæ‰€ä»¥åœ¨æŠŠå®ƒä»¬ç»“åˆä¸€èµ·ä½¿ç”¨çš„æ—¶å€™æ˜¯å­˜ä¼šåœ¨ä¸€äº›é—®é¢˜çš„ã€‚å¯¹äºä¸ªåˆ«è§„åˆ™ï¼Œä¼šä½¿å¾—åŒæ–¹åœ¨æ ¡éªŒåå‡ºç°ä»£ç æ ¼å¼ä¸ä¸€è‡´çš„é—®é¢˜ã€‚</p><p>é‚£ä¹ˆå½“ Prettier å’Œ ESLint å‡ºç°å†²çªä¹‹åï¼Œè¯¥æ€ä¹ˆåŠå‘¢?</p><p>ç”¨ Prettier çš„è¯æ¥è¯´å¾ˆç®€å•ï¼Œåªè¦ä½¿ç”¨ eslint-config-prettier å°±å¯ä»¥äº†ã€‚è§£å†³å†²çªçš„æ€è·¯å°±æ˜¯é€šè¿‡å°†è¿™ä¸ªåŒ…æä¾›çš„æ‰©å±•æ”¾åˆ° extends æœ€åé¢å¼•å…¥ï¼Œä¾æ® rules ç”Ÿæ•ˆçš„ä¼˜å…ˆçº§ï¼Œæ‰€ä»¥å®ƒä¼šè¦†ç›–å‰é¢èµ·å†²çªçš„è§„åˆ™ï¼Œæ¯”å¦‚ï¼š</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token punctuation">{</span>    <span class="token keyword">extends</span><span class="token operator">:</span> <span class="token punctuation">[</span>        <span class="token string">'eslint:recommended'</span><span class="token punctuation">,</span>        <span class="token string">'prettier'</span><span class="token punctuation">,</span>  <span class="token comment">// å¿…é¡»æ”¾æœ€å</span>    <span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">}</span></code></pre><p>é™¤äº†èƒ½è¦†ç›–å’Œ ESLint ä¸­èµ·å†²çªçš„è§„åˆ™ä¹‹å¤–ï¼Œeslint-config-prettier è¿˜èƒ½è¦†ç›–æ¥è‡ªä»¥ä¸‹æ’ä»¶çš„è§„åˆ™(åªåˆ—äº†éƒ¨åˆ†)ï¼š</p><ul><li>eslint-plugin-standard</li><li>eslint-plugin-vue</li></ul><p>é‚£ eslint-config-prettier åˆ°åº•æä¾›äº†å“ªäº›è¦†ç›–è§„åˆ™å‘¢?ç›´æ¥çœ‹è¿™ä¸ªåˆ—è¡¨ï¼šeslint-config-prettier rules</p><p>å¦‚æœæƒ³è¦†ç›–æŸäº›æ’ä»¶çš„è§„åˆ™ï¼Œéœ€è¦å¼•å…¥å¯¹åº”æ’ä»¶çš„æ‰©å±•ï¼Œæ¯”å¦‚ï¼š</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token punctuation">{</span>    <span class="token keyword">extends</span><span class="token operator">:</span> <span class="token punctuation">[</span>        <span class="token string">'standard'</span><span class="token punctuation">,</span>        <span class="token string">'plugin:vue/recommended'</span><span class="token punctuation">,</span>        <span class="token string">'prettier/standard'</span><span class="token punctuation">,</span>      <span class="token comment">// è¦†ç›– eslint-config-stanard</span>        <span class="token string">'prettier/vue'</span><span class="token punctuation">,</span>           <span class="token comment">// è¦†ç›– eslint-plugin-vue</span>    <span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">}</span></code></pre><p>â€œæç¤ºï¼šåœ¨ eslint-config-prettier 8.0.0 ç‰ˆæœ¬åï¼Œextends ä¸å†éœ€è¦ä¸ºå•ç‹¬çš„æ’ä»¶å¼•å…¥å¯¹åº”æ‰©å±•æ¥è¦†ç›–å†²çªäº†ï¼Œç»Ÿä¸€å¼•å…¥ â€˜prettierâ€™ å³å¯ã€‚</p><p>å¦‚æœåŒæ—¶ä½¿ç”¨äº† eslint-plugin-prettier å’Œ eslint-config-prettier å¯ä»¥è¿™ä¹ˆé…ç½®ï¼š</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token punctuation">{</span>   <span class="token keyword">extends</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'plugin:prettier/recommended'</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">}</span></code></pre><p>å®ƒå…¶å®å’Œä¸‹é¢è¿™äº›é…ç½®æ˜¯ç­‰ä»·çš„ï¼š</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token punctuation">{</span>    <span class="token keyword">extends</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'prettier'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token comment">// eslint-config-prettier æä¾›çš„ï¼Œç”¨äºè¦†ç›–èµ·å†²çªçš„è§„åˆ™</span>    plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'prettier'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token comment">// æ³¨å†Œ eslint-plugin-prettier æ’ä»¶</span>    rules<span class="token operator">:</span> <span class="token punctuation">{</span>        <span class="token string">'prettier/prettier'</span><span class="token operator">:</span> <span class="token string">'error'</span><span class="token punctuation">,</span>        <span class="token string">'arrow-body-style'</span><span class="token operator">:</span> <span class="token string">'off'</span><span class="token punctuation">,</span>        <span class="token string">'prefer-arrow-callback'</span><span class="token operator">:</span> <span class="token string">'off'</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p>æ‰€ä»¥å¦‚æœæ˜¯åœ¨ Vue 2 é¡¹ç›®ä¸­é…ç½® ESLint å’Œ Prettier ä¼šè¿™ä¹ˆé…ç½®ï¼š</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token punctuation">{</span>    parser<span class="token operator">:</span> <span class="token string">'vue-eslint-parser'</span><span class="token punctuation">,</span>    parseOptions<span class="token operator">:</span> <span class="token punctuation">{</span>        parser<span class="token operator">:</span> <span class="token string">'babel-eslint'</span><span class="token punctuation">,</span>        ecmaVersion<span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span>        sourceType<span class="token operator">:</span> <span class="token string">'module'</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token keyword">extends</span><span class="token operator">:</span> <span class="token punctuation">[</span>        <span class="token string">'eslint:recommended'</span><span class="token punctuation">,</span>        <span class="token string">'plugin:vue/recommended'</span><span class="token punctuation">,</span>        <span class="token string">'plugin:prettier/recommended'</span><span class="token punctuation">,</span>  <span class="token comment">// åœ¨å‰é¢ Vue é…ç½®çš„åŸºç¡€ä¸ŠåŠ ä¸Šè¿™è¡Œ</span>    <span class="token punctuation">]</span><span class="token punctuation">,</span>    plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'vue'</span><span class="token punctuation">]</span><span class="token punctuation">}</span></code></pre><p>å…¶å®å¦‚æœä½ çš„é¡¹ç›®æ˜¯ç”¨ vue-cli åˆå§‹åŒ–çš„ï¼Œä¸”é€‰æ‹©äº† eslint + prettier æ–¹æ¡ˆçš„è¯ï¼Œç”Ÿæˆçš„é¡¹ç›®ä¸­ï¼Œ.eslintrc.js é…ç½®æ–‡ä»¶ä¸­ extends çš„é…ç½®æ˜¯è¿™æ ·çš„ï¼š</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token punctuation">{</span>    <span class="token keyword">extends</span><span class="token operator">:</span> <span class="token punctuation">[</span>        <span class="token string">'plugin:vue/essential'</span><span class="token punctuation">,</span>        <span class="token string">'eslint:recommended'</span><span class="token punctuation">,</span>        <span class="token string">'@vue/prettier'</span>    <span class="token punctuation">]</span><span class="token punctuation">}</span></code></pre><p>å®ƒçš„æœ€åä¸€é¡¹æ‰©å±•æ˜¯ @vue/prettierï¼Œè¿™ä¸ªå¯¹åº”çš„æ˜¯ @vue/eslint-config-prettier è¿™ä¸ªåŒ…ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹è¿™ä¸ªåŒ…ä¸‹é¢çš„ index.js å†…å®¹ï¼š</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token punctuation">{</span>    plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'prettier'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token keyword">extends</span><span class="token operator">:</span> <span class="token punctuation">[</span>        require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'eslint-config-prettier'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'eslint-config-prettier/vue'</span><span class="token punctuation">)</span>    <span class="token punctuation">]</span><span class="token punctuation">,</span>    rules<span class="token operator">:</span> <span class="token punctuation">{</span>        <span class="token string">'prettier/prettier'</span><span class="token operator">:</span> <span class="token string">'warn'</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p>è¿™ä¸ªå’Œæˆ‘ä»¬ä¸Šé¢é…ç½®çš„å†…å®¹æ˜¯ç›¸å·®æ— å‡ çš„ï¼Œè€Œå¼•å…¥ eslint-config-prettier/vue æ˜¯å› ä¸ºè¿™ä¸ª @vue/eslint-config-prettier åŒ…ä¾èµ–çš„ eslint-config-prettier ç‰ˆæœ¬æ˜¯ ^6.0.0 ç‰ˆæœ¬çš„ï¼Œæ‰€ä»¥åœ¨å¤„ç†å†²çªçš„æ—¶å€™éœ€è¦ç‰¹åˆ«æŒ‡å®šå’Œå¯¹åº”ç±»å‹æ’ä»¶åŒ¹é…çš„æ‰©å±•ã€‚</p><h2 id="è®©-EditorConfig-åŠ©åŠ›å¤šç¼–è¾‘å™¨å¼€å‘å§"><a href="#è®©-EditorConfig-åŠ©åŠ›å¤šç¼–è¾‘å™¨å¼€å‘å§" class="headerlink" title="è®© EditorConfig åŠ©åŠ›å¤šç¼–è¾‘å™¨å¼€å‘å§"></a>è®© EditorConfig åŠ©åŠ›å¤šç¼–è¾‘å™¨å¼€å‘å§</h2><p>EditorConfig[16] æ˜¯ä¸ªå•¥ç©æ„?å®ƒå¯ä»¥å¯¹å¤šç§ç±»å‹çš„å•æ–‡ä»¶è¿›è¡Œç®€å•çš„æ ¼å¼åŒ–ï¼Œå®ƒæä¾›çš„é…ç½®å‚æ•°å¾ˆå°‘ï¼š</p><pre class="language-js" data-language="js"><code class="language-js"># å‘Šè¯‰ EditorConfig æ’ä»¶ï¼Œè¿™æ˜¯æ ¹æ–‡ä»¶ï¼Œä¸ç”¨ç»§ç»­å¾€ä¸ŠæŸ¥æ‰¾root <span class="token operator">=</span> <span class="token boolean">true</span># åŒ¹é…å…¨éƒ¨æ–‡ä»¶<span class="token punctuation">[</span><span class="token operator">*</span><span class="token punctuation">]</span># è®¾ç½®å­—ç¬¦é›†charset <span class="token operator">=</span> utf<span class="token operator">-</span><span class="token number">8</span># ç¼©è¿›é£æ ¼ï¼Œå¯é€‰ spaceã€tabindent_style <span class="token operator">=</span> tab# ç¼©è¿›çš„ç©ºæ ¼æ•°ï¼Œå½“ indent_style <span class="token operator">=</span> tab å°†ä½¿ç”¨ tab_width# å¦åˆ™ä½¿ç”¨ indent_sizeindent_size <span class="token operator">=</span> <span class="token number">2</span>tab_width <span class="token operator">=</span> <span class="token number">2</span># ç»“å°¾æ¢è¡Œç¬¦ï¼Œå¯é€‰ lfã€crã€crlfend_of_line <span class="token operator">=</span> lf# åœ¨æ–‡ä»¶ç»“å°¾æ’å…¥æ–°è¡Œinsert_final_newline <span class="token operator">=</span> <span class="token boolean">true</span># åˆ é™¤ä¸€è¡Œä¸­çš„å‰åç©ºæ ¼trim_trailing_whitespace <span class="token operator">=</span> <span class="token boolean">true</span># åŒ¹é…mdç»“å°¾çš„æ–‡ä»¶<span class="token punctuation">[</span><span class="token operator">*</span><span class="token punctuation">.</span>md<span class="token punctuation">]</span>insert_final_newline <span class="token operator">=</span> <span class="token boolean">false</span>trim_trailing_whitespace <span class="token operator">=</span> <span class="token boolean">false</span></code></pre><p>è™½ç„¶å®ƒæä¾›çš„æ ¼å¼åŒ–çš„é…ç½®å‚æ•°å¾ˆå°‘ï¼Œå°± 3 ä¸ªï¼Œç¼©è¿›é£æ ¼ã€æ˜¯å¦åœ¨æ–‡ä»¶æœ«å°¾æ’å…¥æ–°è¡Œå’Œæ˜¯å¦åˆ é™¤ä¸€è¡Œä¸­å‰åç©ºæ ¼ã€‚ä½†æ˜¯å®ƒè¿˜æ˜¯éå¸¸æœ‰å¿…è¦å­˜åœ¨çš„ï¼Œç†ç”±æœ‰ 3 ä¸ªï¼š</p><ul><li>èƒ½å¤Ÿåœ¨ä¸åŒçš„ç¼–è¾‘å™¨å’Œ IDE ä¸­ä¿æŒä¸€è‡´çš„ä»£ç é£æ ¼;</li><li>é…åˆæ’ä»¶æ‰“å¼€æ–‡ä»¶å³è‡ªåŠ¨æ ¼å¼åŒ–ï¼Œéå¸¸æ–¹ä¾¿</li><li>æ”¯æŒæ ¼å¼åŒ–çš„æ–‡ä»¶ç±»å‹å¾ˆå¤š;</li></ul><p>å¦‚æœéœ€è¦è®©ä»¥ä¸Šçš„é…ç½®ç”Ÿæ•ˆï¼Œè¿˜å¾—åœ¨ VSCode é‡Œå®‰è£… EditorConfig for VS Code è¿™ä¸ªæ’ä»¶é…åˆä½¿ç”¨ã€‚</p><h3 id="é‡ç‚¹æ¥äº†"><a href="#é‡ç‚¹æ¥äº†" class="headerlink" title="é‡ç‚¹æ¥äº†"></a>é‡ç‚¹æ¥äº†</h3><p>å¯ä»¥çœ‹åˆ° EditorConfig å’Œ Prettier ä¼šå­˜åœ¨ä¸€äº›é‡å¤çš„é…ç½®ï¼Œæ¯”å¦‚éƒ½æä¾›äº†å¯¹ç¼©è¿›çš„é…ç½®å‚æ•°ï¼Œæ‰€ä»¥åœ¨å®é™…ä½¿ç”¨çš„æ—¶å€™éœ€è¦é¿å…å®ƒä»¬ï¼Œæˆ–è€…æŠŠä»–ä»¬çš„å‚æ•°è®¾ç½®ä¸ºä¸€è‡´ã€‚</p><h2 id="åœ¨-VSCode-ä¸­æ”¯æŒ-ESLint"><a href="#åœ¨-VSCode-ä¸­æ”¯æŒ-ESLint" class="headerlink" title="åœ¨ VSCode ä¸­æ”¯æŒ ESLint"></a>åœ¨ VSCode ä¸­æ”¯æŒ ESLint</h2><p>å‰é¢åšçš„é…ç½®ï¼Œéƒ½éœ€è¦æ‰§è¡Œå‘½ä»¤æ‰èƒ½è¿›è¡Œæ£€æŸ¥å’Œä¿®å¤ä»£ç ï¼Œè¿˜æ˜¯æŒºä¸æ–¹ä¾¿çš„ï¼Œå¦‚æœæˆ‘å¸Œæœ›ç¼–è¾‘å®Œæˆ–è€…ä¿å­˜çš„æ—¶å€™å»æ£€æŸ¥ä»£ç è¯¥å¦‚ä½•åšå‘¢?å¯ä»¥ç›´æ¥åœ¨ IDE é‡Œå®‰è£… ESLint æ’ä»¶ï¼Œå› ä¸ºæˆ‘ä½¿ç”¨çš„æ˜¯ VSCodeï¼Œæ‰€ä»¥è¿™é‡Œåªä»‹ç»åœ¨ VSCode ä¸­çš„é…ç½®ã€‚</p><ul><li>åœ¨ä½¿ç”¨å‰ï¼Œéœ€è¦æŠŠ ESLint æ‰©å±•å®‰è£…åˆ° VSCode é‡Œï¼Œè¿™é‡Œæˆ‘å°±ä¸ç»†è¯´å®‰è£…æ­¥éª¤äº†ã€‚å®‰è£…å®Œæˆåï¼Œéœ€è¦åœ¨è®¾ç½®é‡Œå†™å…¥é…ç½®ï¼š</li><li>åœ¨ VSCode å·¦ä¸‹è§’æ‰¾åˆ°ä¸€ä¸ªé½¿è½® âš™ å›¾æ ‡ï¼Œç‚¹å‡»åé€‰æ‹©è®¾ç½®é€‰é¡¹ï¼Œè¿™ä¸ªæ—¶å€™æ‰“å¼€äº†è®¾ç½®é¢æ¿;</li><li>ç„¶ååœ¨ VSCode å³ä¸Šè§’æ‰¾åˆ°æ‰“å¼€è®¾ç½®(json)çš„å›¾æ ‡ï¼Œç‚¹å‡»åï¼Œä¼šæ‰“å¼€ settings.json æ–‡ä»¶;</li></ul><p>ç„¶åæŠŠä»¥ä¸‹é…ç½®è´´è¿›å»å³å¯;</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token punctuation">{</span>    <span class="token string">"eslint.alwaysShowStatus"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  <span class="token comment">// æ€»æ˜¯åœ¨ VSCode æ˜¾ç¤º ESLint çš„çŠ¶æ€</span>    <span class="token string">"eslint.quiet"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>             <span class="token comment">// å¿½ç•¥ warning çš„é”™è¯¯</span>    <span class="token string">"editor.codeActionsOnSave"</span><span class="token operator">:</span> <span class="token punctuation">{</span>     <span class="token comment">// ä¿å­˜æ—¶ä½¿ç”¨ ESLint ä¿®å¤å¯ä¿®å¤é”™è¯¯</span>        <span class="token string">"source.fixAll"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>        <span class="token string">"source.fixAll.eslint"</span><span class="token operator">:</span> <span class="token boolean">true</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p>é…ç½®è¯´æ˜ï¼Œåœ¨ ESLint 2.0.4 ç‰ˆæœ¬å¼€å§‹ï¼š</p><ul><li>ä¸éœ€è¦é€šè¿‡ eslint.validate æ¥æŒ‡å®šæ ¡éªŒçš„æ–‡ä»¶ç±»å‹äº†ï¼Œå·²ç»è‡ªåŠ¨æ”¯æŒäº† .vue æ–‡ä»¶;</li><li>editor.codeActionsOnSave å¼€å¯ä¿å­˜è‡ªåŠ¨ä¿®å¤åŠŸèƒ½;</li></ul><p>å½“è¿™æ ·é…ç½®ä¹‹åå‘¢ï¼Œæ¯æ¬¡ç¼–è¾‘ä»£ç  ESLint éƒ½ä¼šå®æ—¶æ ¡éªŒä»£ç ï¼Œä¸”å½“ä¿å­˜çš„æ—¶å€™ä¼šè‡ªåŠ¨ fixï¼Œæ˜¯ä¸æ˜¯å¾ˆæ–¹ä¾¿å‘¢ã€‚ä¸è¿‡å¯¹äºæœ‰äº›æ— æ³•è‡ªåŠ¨ fix çš„ä»£ç å°±éœ€è¦ä½ æ‰‹åŠ¨å»ä¿®æ”¹äº†ï¼Œå¦‚æœä¸æƒ³ä¿®æ”¹çš„è¯å°±å¯ä»¥é…ç½® rules æŠŠè¯¥æ¡è§„åˆ™ç»™å…³é—­æ‰ã€‚</p><p>å…¶å®åœ¨å›¢é˜Ÿå¼€å‘çš„æ—¶å€™ï¼Œæœ€å¥½æŠŠé’ˆå¯¹ VSCode çš„é…ç½®ï¼Œå†™ä¸€ä¸ªæ–‡ä»¶è·Ÿéšç€é¡¹ç›®ï¼Œä¸€èµ·æäº¤åˆ°è¿œç¨‹ä»“åº“ï¼Œè¿™æ ·çš„è¯å°±ä¿è¯äº†é¡¹ç›®æˆå‘˜éƒ½æ˜¯ç”¨çš„è¿™å¥—é…ç½®ã€‚æ¯”å¦‚å¯ä»¥åœ¨é¡¹ç›®æ ¹ç›®å½•æ–°å»º .vscode/settings.jsonï¼Œç„¶åå†™å…¥ä¸Šé¢çš„é‚£ä¸²é…ç½®å†…å®¹ã€‚</p><h2 id="åœ¨æäº¤å‰åšæ ¡éªŒ-pre-commit"><a href="#åœ¨æäº¤å‰åšæ ¡éªŒ-pre-commit" class="headerlink" title="åœ¨æäº¤å‰åšæ ¡éªŒ pre-commit"></a>åœ¨æäº¤å‰åšæ ¡éªŒ pre-commit</h2><p>ä»¥ä¸Šåªæ˜¯é€šè¿‡ ESLint è‡ªåŠ¨ä¿®å¤èƒ½å¤Ÿä¿®å¤çš„é”™è¯¯ä»¥åŠé€šè¿‡ Prettier è¿›è¡Œä»£ç çš„æ ¼å¼åŒ–ï¼Œä½†æ˜¯åœ¨å®é™…å¼€å‘çš„æ—¶å€™éš¾å…ä¼šé‡åˆ°æ— æ³• fix çš„é”™è¯¯ï¼Œå¯èƒ½å¼€å‘äººå‘˜ä¹Ÿå¿˜è®°ä¿®æ”¹ï¼Œå¦‚æœè¿™ä¸ªæ—¶å€™æŠŠä»£ç æäº¤åˆ°è¿œç¨‹ä»“åº“ï¼Œé‚£å°±æŠŠç³Ÿç³•çš„ä»£ç ç»™æäº¤ä¸Šå»äº†ã€‚</p><p>é‚£ä¹ˆå¦‚ä½•æœç»æŠŠç³Ÿç³•çš„ä»£ç æäº¤ä¸Šå»å‘¢?å¯ä»¥é€šè¿‡é…ç½® git hooks çš„ pre-commit é’©å­æ¥å®ç°è¿™ä¸ªç›®çš„ã€‚ä¸»è¦æ˜¯åˆ©ç”¨äº† husky[17] å’Œ lint-staged[18] è¿™ 2 ä¸ªåŒ…ã€‚husky å°±æ˜¯ç”¨æ¥é…ç½® git hooks çš„ï¼Œè€Œ lint-staged åˆ™æ˜¯å¯¹æ‹¿åˆ°çš„ staged æ–‡ä»¶è¿›è¡Œå¤„ç†ï¼Œæ¯”å¦‚æ‰§è¡Œ npx eslint â€“fix è¿›è¡Œä»£ç æ ¡éªŒã€‚</p><p>å…·ä½“æ“ä½œæ­¥éª¤å¦‚ä¸‹ï¼š</p><p>1ã€æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><pre class="language-js" data-language="js"><code class="language-js">npx mrm lint<span class="token operator">-</span>staged</code></pre><p>ä¼šè‡ªåŠ¨å®‰è£… lint-staged å’Œ husky å¹¶ä¸”åœ¨ package.json é‡Œå†™å…¥ lint-stagedã€‚</p><p>â€œæ³¨æ„ï¼šmrm æ˜¯ä¸€ä¸ªè‡ªåŠ¨åŒ–å·¥å…·ï¼Œå®ƒå°†æ ¹æ® package.json ä¾èµ–é¡¹ä¸­çš„ä»£ç è´¨é‡å·¥å…·æ¥å®‰è£…å’Œé…ç½® husky å’Œ lint-stagedï¼Œå› æ­¤è¯·ç¡®ä¿åœ¨æ­¤ä¹‹å‰å®‰è£…å¹¶é…ç½®æ‰€æœ‰ä»£ç è´¨é‡å·¥å…·ï¼Œå¦‚ Prettier å’Œ ESlintã€‚</p><p>å¦‚æœä¸Šé¢é¡ºåˆ©ä¼šåœ¨ package.json é‡Œå†™å…¥ lint-stagedï¼Œå¯ä»¥è‡ªè¡Œä¿®æ”¹è®©å®ƒæ”¯æŒ .vue æ–‡ä»¶çš„æ ¡éªŒï¼š</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token punctuation">{</span>    <span class="token string">"lint-staged"</span><span class="token operator">:</span> <span class="token punctuation">{</span>        <span class="token string">"*.{js,vue}"</span><span class="token operator">:</span> <span class="token string">"eslint --cache --fix"</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p>2ã€å¯åŠ¨ git hooks</p><pre class="language-js" data-language="js"><code class="language-js">npx husky install</code></pre><p>ç»è¿‡ä¸Šé¢çš„å‘½ä»¤åï¼Œv6 ç‰ˆæœ¬çš„ husky ä¼šåœ¨é¡¹ç›®æ ¹ç›®å½•æ–°å»ºä¸€ä¸ª .husky ç›®å½•ã€‚å¦‚æœæ˜¯ v4 ç‰ˆæœ¬çš„åˆ™ä¼šå†™å…¥åˆ° package.json é‡Œã€‚</p><p>3ã€åˆ›å»º pre-commit é’©å­</p><pre class="language-js" data-language="js"><code class="language-js">npx husky add <span class="token punctuation">.</span>husky<span class="token operator">/</span>pre<span class="token operator">-</span>commit <span class="token string">"npx lint-staged"</span></code></pre><p>åˆ°è¿™é‡Œåï¼Œgit commit å‰è‡ªåŠ¨æ‰§è¡Œä»£ç æ ¡éªŒå’Œä¿®å¤çš„åŠŸèƒ½å°±ç®—å®Œæˆäº†ã€‚ç„¶åä½ å¯ä»¥è¯•è¯•ä¿®æ”¹æ–‡ä»¶ï¼Œç„¶åæäº¤è¯•è¯•ã€‚</p><p><a href="https://s6.51cto.com/oss/202106/18/ee85e3e0b534a49c4fa3809ed4ff7944.png?x-oss-process=image/format,jpg"><img src="https://cdn.jsdelivr.net/gh/JingWZeng/markdownImg/img/202110121439749.jpeg" alt="img"></a></p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>è¿™ç¯‡æ–‡ç« æ¯”è¾ƒé•¿ï¼Œå‰å‰ååè®²äº†å¾ˆå¤šä»£ç æ ¡éªŒçš„ä¸œè¥¿ï¼Œç°åœ¨æˆ‘ä»¬æ¥æ¢³ç†ä¸‹ã€‚</p><p>é¦–å…ˆç”¨ ESLint æ¥åšä»£ç æ ¡éªŒï¼Œå®ƒè‡ªå¸¦çš„ ruels èƒ½æä¾› 2 ç§ç±»å‹çš„æ ¡éªŒï¼Œåˆ†åˆ«æ˜¯ä»£ç é”™è¯¯æ ¡éªŒå’Œä»£ç æ ¼å¼æ ¡éªŒï¼Œè€Œ ESLint æœ¬èº«çš„æ ¸å¿ƒå·¥ä½œå…¶å®å°±æ˜¯æ ¡éªŒå’Œä¿®å¤é”™è¯¯çš„ä»£ç ï¼Œè€Œå¯¹æ ¼å¼åŒ–çš„è§„åˆ™æä¾›çš„ä¸å¤šã€‚</p><p>æ‰€ä»¥å¦‚æœæƒ³è¦å¯¹ä»£ç æ ¼å¼åŒ–è¿›è¡Œä¸€ä¸ªæ›´åŠ ç²¾ç»†çš„é…ç½®åˆ™éœ€è¦å€ŸåŠ© Prettierï¼Œå› ä¸ºå®ƒæ˜¯åªè´Ÿè´£é£æ ¼çš„ç®¡æ§ï¼Œæ‰€ä»¥ç”¨å®ƒå†é€‚åˆä¸è¿‡äº†ã€‚ä½†æ˜¯å¦‚æœæŠŠ ESLint å’Œ Prettier ç»“åˆèµ·æ¥ä¸€èµ·ä½¿ç”¨çš„è¯ï¼Œå°±å¯èƒ½ä¼šå‡ºç°è§„åˆ™çš„å†²çªäº†ï¼Œæ¯•ç«Ÿå®ƒä»¬ä¸¤è€…éƒ½ä¼šå¯¹é£æ ¼è¿›è¡Œå¤„ç†ï¼Œæ‰€ä»¥è¿™ä¸ªæ—¶å€™å°±å¯ä»¥é€šè¿‡ eslint-config-prettier è¿™ä¸ªæ‰©å±•æ¥æŠŠå†²çªçš„è§„åˆ™è¿›è¡Œå…³é—­ï¼Œè¿™ä¸ªæ‰©å±•ä¸ä»…å¯ä»¥å…³é—­å’Œ ESLint å†…ç½®è§„åˆ™çš„å†²çªï¼Œè¿˜å¯ä»¥å…³é—­å®é™…é¡¹ç›®ä¸­å¼•ç”¨åˆ°çš„æ‰©å±•è§„åˆ™çš„å†²çªï¼Œæ¯”å¦‚å’Œ Vueã€Reactã€TypeScriptã€Flow çš„å†²çªã€‚</p><p>åœ¨æŠŠ ESLint å’Œ Prettier ç»“åˆçš„æ—¶å€™ï¼Œæˆ‘ä»¬å¸Œæœ›è®© ESLint æ¥æ£€æŸ¥ä»£ç é”™è¯¯ï¼Œè€Œ Prettier æ ¡éªŒä»£ç é£æ ¼ï¼Œé‚£ä¹ˆè¿™ä¸ªæ—¶å€™å…¶å®æ˜¯æœ‰ 2 ä¸ªä»»åŠ¡çš„ï¼Œéœ€è¦ç”¨ 2 æ¡å‘½ä»¤æ¥å¤„ç†çš„ã€‚ä½†æ˜¯æœ‰äº† eslint-plugin-prettier è¿™ä¸ªæ’ä»¶åå°±å¯ä»¥å¾ˆæ–¹ä¾¿çš„æŠŠå®ƒä»¬ç»“åˆèµ·æ¥ï¼Œå½“éœ€è¦æ ¡éªŒä»£ç é”™è¯¯çš„æ—¶å€™ ESLint è‡ªåŠ¨ä¼šç»™ä½ æ ¡éªŒï¼Œå½“ç„¶å‰ææ˜¯ VSCode é‡Œå¿…é¡»æŒ‰ç…§ ESLint æ’ä»¶ï¼Œè€Œå½“éœ€è¦æ ¡éªŒä»£ç é£æ ¼çš„æ—¶å€™ ESLint å°±ä¼šè°ƒç”¨ Prettier çš„èƒ½åŠ›è¿›è¡Œä»£ç é£æ ¼çš„æ£€æŸ¥ã€‚</p><p>æ–‡ç« çš„åé¢åˆ†åˆ«åˆç»†è¯´äº† EditorConfig å’Œæäº¤ä»£ç å‰æ ¡éªŒçš„å¤„ç†ï¼Œè¿™é‡Œå°±ä¸å¤šè®²äº†ã€‚</p><p>çœ‹åˆ°è¿™é‡Œå¸Œæœ›ä½ å¯¹ä»£ç æ ¡éªŒå’Œè§„èŒƒæœ‰ä¸€ä¸ªæ–°çš„è®¤è¯†ï¼Œä¸è¿‡æˆ‘æœ€å¸Œæœ›çš„æ˜¯ä½ èƒ½å¤Ÿè‡ªå·±åŠ¨æ‰‹ä¸ºä½ çš„é¡¹ç›®é…ç½®ä¸€å¥—æ ¡éªŒè§„åˆ™ã€‚</p><p>å‚è€ƒèµ„æ–™</p><p>[1] <a href="http://esprima.org/">Esprima</a></p><p>[2] <a href="https://github.com/eslint/espree">Espree</a></p><p>[3] <a href="https://github.com/babel/babel/tree/main/eslint/babel-eslint-parser">@babel/eslint-parser</a></p><p>[4] <a href="https://github.com/typescript-eslint/typescript-eslint">@typescript-eslint/parser</a></p><p>[5] <a href="https://eslint.org/docs/user-guide/configuring/language-options#specifying-environments">Specifying Environments</a></p><p>[6] <a href="https://github.com/facebook/react/blob/master/.eslintrc.js">react .eslintrc.js</a></p><p>[7] <a href="https://github.com/standard/eslint-config-standard">eslint-config-standard</a></p><p>[8] <a href="https://github.com/prettier/eslint-config-prettier">eslint-config-prettier</a></p><p>[9] <a href="https://github.com/AlloyTeam/eslint-config-alloy">eslint-config-alloy</a></p><p>[10] <a href="https://eslint.org/docs/user-guide/configuring/plugins#configuring-plugins">ESLint plugins</a></p><p>[11] <a href="https://gist.github.com/rswanderer/29dc65efc421b3b5b0442f1bd3dcd046">ESLint é…ç½®æ–‡ä»¶.eslintrc å‚æ•°è¯´æ˜</a></p><p>[12] <a href="https://github.com/webpack/webpack/blob/master/.eslintrc.js">webpack .eslintrc.js</a></p><p>[13] <a href="https://eslint.vuejs.org/user-guide/#faq">eslint-plugin-vue</a></p><p>[14] <a href="https://prettier.io/docs/en/options.html#print-width">prettier options</a></p><p>[15] <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Trailing_commas#trailing_commas_in_functions">Trailing commas</a></p><p>[16] <a href="https://editorconfig.org/">EditorConfig</a></p><p>[17] <a href="https://typicode.github.io/husky/#/?id=install">husky</a></p><p>[18] <a href="https://github.com/okonet/lint-staged">lint-staged</a></p>]]></content>
      
      
      <categories>
          
          <category> ESLint </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ESLint </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vueä¸­ä½¿ç”¨JSX</title>
      <link href="/2021/09/30/vue-zhong-shi-yong-jsx/"/>
      <url>/2021/09/30/vue-zhong-shi-yong-jsx/</url>
      
        <content type="html"><![CDATA[<h3 id="JSX-ä½¿ç”¨ç†ç”±"><a href="#JSX-ä½¿ç”¨ç†ç”±" class="headerlink" title="JSX ä½¿ç”¨ç†ç”±"></a>JSX ä½¿ç”¨ç†ç”±</h3><p>æ¯ä¸ªç»„ä»¶ä¸Šéƒ½æœ‰ä¸€ä¸ª<code>render</code>å‡½æ•°,å…¶å†™æ³•æ˜¯<code>this.$createElement('div', {}, [...])</code>,éå¸¸çš„ä¸ç›´è§‚ï¼Œ<code>JSX</code>å¯ä»¥æ”¹è¿›è¿™ç§å†™æ³•ï¼Œä½¿å…¶æ›´åŠ ç›´è§‚æ–¹ä¾¿ã€‚</p><blockquote><p>æ³¨æ„: å¦‚æœåœ¨ç»„ä»¶ä¸Šå®šä¹‰äº†<code>render</code>æ–¹æ³•ï¼Œåˆ™<code>Vue</code>å°†å¿½ç•¥<code>template</code>å®šä¹‰ã€‚å› ä¸º <code>template</code>æœ€ç»ˆè¿˜æ˜¯éœ€è¦ç¼–è¯‘æˆ<code>render</code>çš„æ ¼å¼ã€‚</p></blockquote><h3 id="å•¥å«-JSX-å‘¢"><a href="#å•¥å«-JSX-å‘¢" class="headerlink" title="å•¥å« JSX å‘¢"></a>å•¥å« JSX å‘¢</h3><blockquote><p>JSX æ˜¯ JavaScript çš„ç±»ä¼¼ XML çš„è¯­æ³•æ‰©å±•ï¼Œæ²¡æœ‰ä»»ä½•å®šä¹‰çš„è¯­ä¹‰ã€‚</p></blockquote><p>é€šè¿‡<code>babel</code>å°†<code>JSX</code>è½¬æˆ<code>JS</code>ã€‚ç®€å•æ¥è¯´å‘¢ï¼Œ<code>JSX</code>å°±æ˜¯åœ¨<code>JS</code>ä¸­å†™ç±»ä¼¼<code>HTML</code>çš„è¯­æ³•ã€‚</p><p>å¦‚æœä½¿ç”¨çš„<code>Vue-cli</code>å¤§äºæˆ–ç­‰äº 3.0 ç‰ˆæœ¬ï¼Œé‚£ä¹ˆå°±ç›´æ¥å¯ä»¥ä½¿ç”¨<code>JSX</code>çš„è¯­æ³•äº†ã€‚</p><h3 id="åœ¨-Vue-ä¸­ä½¿ç”¨-JSX-éœ€è¦æ³¨æ„çš„åœ°æ–¹"><a href="#åœ¨-Vue-ä¸­ä½¿ç”¨-JSX-éœ€è¦æ³¨æ„çš„åœ°æ–¹" class="headerlink" title="åœ¨ Vue ä¸­ä½¿ç”¨ JSX éœ€è¦æ³¨æ„çš„åœ°æ–¹"></a>åœ¨ Vue ä¸­ä½¿ç”¨ JSX éœ€è¦æ³¨æ„çš„åœ°æ–¹</h3><ul><li>è¦ç›‘å¬<code>JSX</code>ä¸­çš„äº‹ä»¶ï¼Œæˆ‘ä»¬éœ€è¦<code>â€œonâ€</code>å‰ç¼€ã€‚ ä¾‹å¦‚ï¼Œå°†<code>onClick</code>ç”¨äºå•å‡»äº‹ä»¶ã€‚</li></ul><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token function">render</span> <span class="token punctuation">(</span><span class="token parameter">createElement</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token punctuation">(</span>        <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>handleClick<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>    <span class="token punctuation">)</span><span class="token punctuation">}</span></code></pre><ul><li>ç»‘å®šå˜é‡ï¼Œæ³¨æ„è¿™é‡Œä¸æ˜¯ä½¿ç”¨<code>:</code></li></ul><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token function">render</span> <span class="token punctuation">(</span><span class="token parameter">createElement</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token punctuation">(</span>        <span class="token operator">&lt;</span>button content<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>generatedText<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>    <span class="token punctuation">)</span><span class="token punctuation">}</span></code></pre><ul><li>å°†<code>HTML</code>å­—ç¬¦ä¸²è®¾ç½®ä¸ºå…ƒç´ çš„å†…å®¹ï¼Œä½¿ç”¨<code>domPropsInnerHTML</code>è€Œä¸æ˜¯ä½¿ç”¨<code>v-html</code></li></ul><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token function">render</span> <span class="token punctuation">(</span><span class="token parameter">createElement</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token punctuation">(</span>        <span class="token operator">&lt;</span>button domPropsInnerHTML<span class="token operator">=</span><span class="token punctuation">{</span>htmlContent<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>    <span class="token punctuation">)</span><span class="token punctuation">}</span></code></pre><ul><li>æˆ‘ä»¬ä¹Ÿå¯ä»¥å±•å¼€ä¸€ä¸ªå¤§å¯¹è±¡ï¼š</li></ul><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token function">render</span> <span class="token punctuation">(</span><span class="token parameter">createElement</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token punctuation">(</span>        <span class="token operator">&lt;</span>button <span class="token punctuation">{</span><span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>largeProps<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>    <span class="token punctuation">)</span><span class="token punctuation">}</span></code></pre><h3 id="å¯¼å…¥-JSX-ç»„ä»¶"><a href="#å¯¼å…¥-JSX-ç»„ä»¶" class="headerlink" title="å¯¼å…¥ JSX ç»„ä»¶"></a>å¯¼å…¥ JSX ç»„ä»¶</h3><p>åœ¨<code>Vue</code>ä¸­ä½¿ç”¨<code>JSX</code>çš„å¦ä¸€ä¸ªå¥½å¤„æ˜¯ï¼Œæˆ‘ä»¬ä¸å†éœ€è¦æ³¨å†Œæ‰€éœ€çš„æ¯ä¸ªç»„ä»¶ã€‚ æˆ‘ä»¬åªæ˜¯å¯¼å…¥å’Œä½¿ç”¨ã€‚ç»„ä»¶çš„æ­£å¸¸ä½¿ç”¨æ˜¯éœ€è¦æ³¨å†Œçš„ã€‚</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> Button <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"../components"</span><span class="token punctuation">;</span><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>  <span class="token function">render</span><span class="token punctuation">(</span><span class="token parameter">createElement</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token operator">&lt;</span>Button primary<span class="token operator">=</span><span class="token punctuation">{</span><span class="token boolean">true</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>Edit<span class="token operator">&lt;</span><span class="token operator">/</span>Button<span class="token operator">&gt;</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> vue-JSX </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å‰ç«¯ </tag>
            
            <tag> Vue2 </tag>
            
            <tag> Vue-JSX </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue-routeråŸºæœ¬ä½¿ç”¨</title>
      <link href="/2021/09/30/vue-router-ji-ben-shi-yong/"/>
      <url>/2021/09/30/vue-router-ji-ben-shi-yong/</url>
      
        <content type="html"><![CDATA[<h3 id="è·¯ç”±çš„åŸºæœ¬ä½¿ç”¨æ–¹æ³•"><a href="#è·¯ç”±çš„åŸºæœ¬ä½¿ç”¨æ–¹æ³•" class="headerlink" title="è·¯ç”±çš„åŸºæœ¬ä½¿ç”¨æ–¹æ³•"></a>è·¯ç”±çš„åŸºæœ¬ä½¿ç”¨æ–¹æ³•</h3><p><code>vue-router</code>çš„ä½¿ç”¨åˆ†ä¸ºä¸‰æ­¥</p><ol><li><p>å¼•å…¥<code>vue-router</code>ï¼Œå¹¶ä½¿ç”¨<code>Vue.use(VueRouter)</code></p></li><li><p>å®šä¹‰è·¯ç”±æ•°ç»„<code>const routes = {}</code>ï¼Œå¹¶å°†æ•°ç»„<code>routes</code>ä¼ å…¥<code>VueRouterå®ä¾‹</code>ï¼Œå¹¶å°†å®ä¾‹æš´éœ²å‡ºå»<code>export default new VueRouter({ routes})</code></p></li><li><p>å°†<code>VueRouter</code>å®ä¾‹å¼•å…¥åˆ°<code>main.js</code>ï¼Œå¹¶æ³¨å†Œåˆ°æ ¹<code>Vue</code>å®ä¾‹</p></li></ol><blockquote><p>æ³¨æ„ï¼šthis.$routeã€this.$router</p><ul><li><p>this.$routeï¼šè¡¨ç¤ºçš„æ˜¯å½“å‰çš„è·¯ç”±ä¿¡æ¯ã€‚<code>this.$route.matched</code>æ˜¯ä¸€ä¸ªæ•°ç»„ï¼ŒåŒ…å«äº†å½“å‰è·¯ç”±çš„æ‰€æœ‰çš„åµŒå¥—è®°å½•ï¼Œå³æ˜¯<code>routes</code>é…ç½®ä¸­çš„å¯¹è±¡æ•°ç»„ï¼ŒåŒ…æ‹¬è‡ªå·±çš„ä¿¡æ¯å’Œ<code>children</code>æ•°æ®ã€‚</p></li><li><p>this.$routerï¼šè¡¨ç¤ºçš„æ˜¯å…¨å±€çš„è·¯ç”±ä¿¡æ¯ã€‚é€šè¿‡<code>vue</code>æ ¹å®ä¾‹ä¸­æ³¨å…¥<code>router</code>å®ä¾‹ï¼Œç„¶åå†æ³¨å…¥åˆ°æ¯ä¸ªå­ç»„ä»¶ï¼Œä»è€Œè®©æ•´ä¸ªåº”ç”¨éƒ½æœ‰è·¯ç”±åŠŸèƒ½ã€‚æ‰€æœ‰çš„é¡µé¢éƒ½å¯ä»¥è®¿é—®ã€‚æ¯”å¦‚å¸¸ç”¨çš„æ˜¯<code>this.$router.push()</code>ã€‚å¦‚æœæä¾›äº†<code>path</code>ï¼Œ<code>params</code>ä¼šè¢«å¿½ç•¥ï¼Œä¾‹å¦‚ï¼š</p><p><code>this.$router.push({path: 'home', params: { page: 2}}) </code>è¿™é‡Œçš„<code>params</code>ä¼šè¢«å¿½ç•¥ã€‚åŒæ ·çš„è§„åˆ™ä¹Ÿé€‚ç”¨äº<code>router-link</code>çš„<code>to</code>å±æ€§</p></li></ul></blockquote><blockquote><p>ä½¿ç”¨<code>route-link</code>ç»„ä»¶è¿›è¡Œè·¯å¾„è·³è½¬</p><p>ä½¿ç”¨<code>router-view</code>ç»„ä»¶è¿›è¡Œè·¯ç”±å¯¹åº”å†…å®¹å±•ç¤º</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/JingWZeng/markdownImg/img/202109291625624.jpg" alt="0"></p>]]></content>
      
      
      <categories>
          
          <category> Vue-router </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å‰ç«¯ </tag>
            
            <tag> Vue2 </tag>
            
            <tag> Vue-router </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JSå°åé—¨</title>
      <link href="/2021/09/30/js-xiao-pian-men/"/>
      <url>/2021/09/30/js-xiao-pian-men/</url>
      
        <content type="html"><![CDATA[<ul><li><p>å¤åˆ¶æ•°ç»„<code>array.concat()</code></p></li><li><p><code>console.table(obj)</code>ç”¨äºå¯¹è±¡æˆ–è€…å¯¹è±¡æ•°ç»„ã€‚<code>console.clear()</code>æ¸…ç©ºæ§åˆ¶å°</p></li><li><p><code>eval()</code>å‚æ•°æ˜¯å­—ç¬¦ä¸²ï¼Œå°†å­—ç¬¦ä¸²å˜æˆå¯æ‰§è¡Œçš„<code>JS</code>ä»£ç </p></li><li><p><code>a</code>æ ‡ç­¾çš„<code>href</code>çš„åŠ¨æ€å‚æ•°ï¼Œå¯ä»¥è®¾ç½®ä¸ºå‚æ•°è®¾ç½®ä¸åŒçš„å€¼</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token operator">&lt;</span>a <span class="token operator">:</span>href<span class="token operator">=</span><span class="token string">"'www.ZJingW.blog?id='+userId"</span> <span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span><span class="token keyword">let</span> userId <span class="token operator">=</span><span class="token number">1111</span></code></pre></li><li><p>this æ—¢ä¸æŒ‡å‘å‡½æ•°è‡ªèº«ä¹Ÿä¸æŒ‡å‘å‡½æ•°çš„è¯æ³•ä½œç”¨åŸŸã€‚this å®é™…ä¸Šæ˜¯åœ¨å‡½æ•°è°ƒç”¨çš„æ—¶å‘ç”Ÿçš„ç»‘å®šï¼Œ<strong>å®ƒæŒ‡å‘å•¥å®Œå…¨å–å†³å‡½æ•°åœ¨å“ªé‡Œè¢«è°ƒç”¨</strong></p></li><li><p>è°ƒç”¨æ ˆ-&gt;ä¸ºäº†åˆ°è¾¾å½“å‰æ‰§è¡Œä½ç½®æ‰€è°ƒç”¨çš„æ‰€æœ‰çš„å‡½æ•° | è°ƒç”¨ä½ç½®â€“&gt;å½“å‰æ­£åœ¨æ‰§è¡Œçš„å‡½æ•°çš„å‰ä¸€ä¸ªè°ƒç”¨ä¸­</p></li><li><p><code>html5</code> çš„<code>meta</code></p></li></ul><pre class="language-html" data-language="html"><code class="language-html">meta æœ‰4ä¸ªå±æ€§ name http-equiv charset content contentå’Œå®ƒä»¬æ­é…ä½¿ç”¨ï¼Œcontent ='å…·ä½“çš„æè¿°' name ä¸»è¦ç”¨äºæè¿°ç½‘é¡µcontentå°±æ˜¯è¿›ä¸€æ­¥è¯´æ˜nameï¼Œä¹Ÿå°±æ˜¯æŒ‡å®šå…·ä½“çš„nameå¯¹è±¡ http-equivç›¸å½“äºhttpçš„æ–‡ä»¶å¤´ä½œç”¨ï¼Œæ¯”å¦‚è¯´å®šä¹‰httå¹³å‚æ•°å•¥çš„ 1.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span> //html5å›ºå®šçš„å†™æ³•,ç®€å†™ 2.X-UA-Compatible(æµè§ˆå™¨é‡‡å–ä½•ç§ç‰ˆæœ¬æ¸²æŸ“å½“å‰é¡µé¢)<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>X-UA-Compatible<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>IE=edge,chrome=1<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>//æŒ‡å®šIEå’ŒChromeä½¿ç”¨æœ€æ–°ç‰ˆæœ¬æ¸²æŸ“å½“å‰é¡µé¢3.cache-control(æŒ‡å®šè¯·æ±‚å’Œå“åº”éµå¾ªçš„ç¼“å­˜æœºåˆ¶)<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cache-control<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>no-cache<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>no-cache: å…ˆå‘é€è¯·æ±‚ï¼Œä¸æœåŠ¡å™¨ç¡®è®¤è¯¥èµ„æºæ˜¯å¦è¢«æ›´æ”¹ï¼Œå¦‚æœæœªè¢«æ›´æ”¹ï¼Œåˆ™ä½¿ç”¨ç¼“å­˜ã€‚no-store: ä¸å…è®¸ç¼“å­˜ï¼Œæ¯æ¬¡éƒ½è¦å»æœåŠ¡å™¨ä¸Šï¼Œä¸‹è½½å®Œæ•´çš„å“åº”ã€‚ï¼ˆå®‰å…¨æªæ–½ï¼‰ public :ç¼“å­˜æ‰€æœ‰å“åº”ï¼Œä½†å¹¶éå¿…é¡»ã€‚å› ä¸ºmax-ageä¹Ÿå¯ä»¥åšåˆ°ç›¸åŒæ•ˆæœ private :åªä¸ºå•ä¸ªç”¨æˆ·ç¼“å­˜ï¼Œå› æ­¤ä¸å…è®¸ä»»ä½•ä¸­ç»§è¿›è¡Œç¼“å­˜ã€‚ï¼ˆæ¯”å¦‚è¯´CDNå°±ä¸å…è®¸ç¼“å­˜privateçš„å“åº”ï¼‰maxage :è¡¨ç¤ºå½“å‰è¯·æ±‚å¼€å§‹ï¼Œè¯¥å“åº”åœ¨å¤šä¹…å†…èƒ½è¢«ç¼“å­˜å’Œé‡ç”¨ï¼Œè€Œä¸å»æœåŠ¡å™¨é‡æ–°è¯·æ±‚ã€‚ä¾‹å¦‚ï¼šmax-age=60è¡¨ç¤ºå“åº”å¯ä»¥å†ç¼“å­˜å’Œé‡ç”¨60 ç§’ã€‚<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span>  <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cache-control<span class="token punctuation">"</span></span>  <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>no-siteapp<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>çš„ä½œç”¨æ˜¯é¿å…åœ¨ç§»åŠ¨ç«¯æµè§ˆæ—¶ï¼Œè¢«ç™¾åº¦è‡ªåŠ¨è½¬ç 4.expires(ç½‘é¡µåˆ°æœŸæ—¶é—´)ï¼Œå°±æ˜¯ç½‘é¡µèµ„æºè¿‡äº†è®¾ç½®è¿™ä¸ªæ—¶é—´ä¹‹åï¼Œå°±é‡æ–°è¯·æ±‚èµ„æºæ˜¯å¦æ”¹å˜ï¼Œæ”¹å˜åˆ™æ›´æ–°5.refresh(è‡ªåŠ¨åˆ·æ–°å¹¶æŒ‡å‘æŸé¡µé¢)<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>refresh<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>2; url=<span class="token punctuation">'</span>https://myblog-six.vercel.app/<span class="token punctuation">'</span><span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>//æ„æ€æ˜¯2ç§’åè·³è½¬å‘æˆ‘çš„åšå®¢6.Set-Cookie(cookieè®¾å®š)å¦‚æœç½‘é¡µè¿‡æœŸï¼Œé‚£ä¹ˆè¿™ä¸ªç½‘é¡µå­˜åœ¨æœ¬åœ°çš„cookieä¹Ÿä¼šè‡ªåŠ¨è¢«åˆ é™¤<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Set-Cookie<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>name,data<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span> //æ ¼å¼</code></pre><ul><li><code>vh</code>å°±æ˜¯å½“å‰å±å¹•å¯è§é«˜åº¦çš„ 1%ï¼Œä¹Ÿå°±æ˜¯è¯´ <code>height:100vh === height:100%</code></li></ul><pre class="language-css" data-language="css"><code class="language-css"><span class="token selector">// é—®é¢˜æ¥äº†:å›ºå®šé¡µè„šåšæ³•&lt;body&gt;&lt;main&lt;/main&gt;&lt;footer&gt;&lt;/footer&gt;&lt;/body&gt;1.å·²çŸ¥footerçš„é«˜åº¦ï¼Œå»è®¾ç½®&lt;main&gt;çš„æœ€å°é«˜åº¦min-height:calc(100vh - footerçš„é«˜åº¦)  // æ³¨æ„ -çš„å‰åéœ€è¦æœ‰ç©ºæ ¼ï¼Œä¸ç„¶ä¸ç”Ÿæ•ˆ2.æœªçŸ¥footerçš„é«˜åº¦ åˆ©ç”¨flexBoxã€‚bodyè®¾ç½®flexï¼ŒåŒæ—¶min-height:100vhï¼Œå¹¶æŠŠä¼¸ç¼©æ–¹å‘è®¾ç½®æˆcolumnï¼Œmianè®¾ç½®æˆflexï¼š1flex åªè¦è®¾ç½®äº†å¤§äº0çš„å€¼ï¼Œå°±è·å¾—å¯ä¼¸ç¼©çš„ç‰¹æ€§å¦‚æœmainè®¾ç½®äº†flex:2 ,footerè®¾ç½®äº†flex:1 ã€‚é‚£ä¹ˆmainçš„é«˜åº¦æ˜¯footerçš„ä¸¤å€    body</span> <span class="token punctuation">{</span>  <span class="token property">min-height</span><span class="token punctuation">:</span> 100vh<span class="token punctuation">;</span>  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>  <span class="token property">flex-direction</span><span class="token punctuation">:</span> column<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector">main</span> <span class="token punctuation">{</span>  <span class="token property">flex</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>  <span class="token property">background-color</span><span class="token punctuation">:</span> brown<span class="token punctuation">;</span>  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token selector">footer</span> <span class="token punctuation">{</span>  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>  <span class="token property">background-color</span><span class="token punctuation">:</span> aqua<span class="token punctuation">;</span>  <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><ul><li><code>:first-child</code>è¡¨ç¤ºåœ¨ä¸€ç»„å…„å¼Ÿå…ƒç´ ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚æ³¨æ„æ˜¯ç›¸åŒçš„å…ƒç´ </li><li><code>text-shadow</code></li></ul><pre class="language-html" data-language="html"><code class="language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>X-UA-Compatible<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>IE=edge<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">    <span class="token selector">div</span> <span class="token punctuation">{</span>      <span class="token property">height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>      <span class="token property">width</span><span class="token punctuation">:</span> 300px<span class="token punctuation">;</span>      <span class="token property">font-size</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>      <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token selector">.a</span> <span class="token punctuation">{</span>      <span class="token property">background-color</span><span class="token punctuation">:</span> deeppink<span class="token punctuation">;</span>      <span class="token property">color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>      <span class="token property">text-shadow</span><span class="token punctuation">:</span> 1px 1px black<span class="token punctuation">,</span> 1px -1px black<span class="token punctuation">,</span> -1px 1px black<span class="token punctuation">,</span> -1px<span class="token punctuation">,</span> -1px<span class="token punctuation">,</span> black<span class="token punctuation">;</span>      <span class="token comment">/* æ²¡æœ‰èƒŒæ™¯é¢œè‰²ï¼Œç›¸å½“äºé•¶è¾¹æ•ˆæœ  x y blur color xä¸ºè´Ÿæ•°ï¼Œé˜´å½±åœ¨å·¦ï¼Œyä¸ºè´Ÿæ•°ï¼Œé˜´å½±åœ¨å³*/</span>    <span class="token punctuation">}</span>    <span class="token selector">.glow</span> <span class="token punctuation">{</span>      <span class="token property">background-color</span><span class="token punctuation">:</span> #203<span class="token punctuation">;</span>      <span class="token property">color</span><span class="token punctuation">:</span> #ffc<span class="token punctuation">;</span>      <span class="token property">text-shadow</span><span class="token punctuation">:</span> 0 0 0.1em<span class="token punctuation">,</span> 0 0 0.3em<span class="token punctuation">;</span>      <span class="token comment">/* æ²¡æŒ‡å®šé¢œè‰²ï¼Œé˜´å½±å°±å’Œæ–‡å­—ä¸€ä¸ªé¢œè‰² */</span>    <span class="token punctuation">}</span>  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>a<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>css<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>glow<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>glow<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span></code></pre><p><img src="https://cdn.jsdelivr.net/gh/JingWZeng/markdownImg/img/202109171149919.png" alt="text-shodow"></p><ul><li><code>Set</code>æ–¹å¼å»é™¤å­—ç¬¦ä¸²é‡Œé¢çš„é‡å¤å­—ç¬¦</li></ul><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token class-name">Set</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>ï¼šæ·»åŠ æŸä¸ªå€¼ï¼Œè¿”å› Set ç»“æ„æœ¬èº«ã€‚ğŸ¤”<span class="token class-name">Set</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>ï¼šåˆ é™¤æŸä¸ªå€¼ï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºåˆ é™¤æ˜¯å¦æˆåŠŸã€‚<span class="token class-name">Set</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>ï¼šè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºè¯¥å€¼æ˜¯å¦ä¸ºSetçš„æˆå‘˜ã€‚<span class="token class-name">Set</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span>ï¼šæ¸…é™¤æ‰€æœ‰æˆå‘˜ï¼Œæ²¡æœ‰è¿”å›å€¼ã€‚</code></pre><p><img src="https://cdn.jsdelivr.net/gh/JingWZeng/markdownImg/img/202109201517506.png" alt="image-20210920151716408"></p><ul><li><code>Object.defineProperty</code></li></ul><p>ä¸ºå¯¹è±¡æ–°å¢å±æ€§æˆ–è€…ä¿®æ”¹å±æ€§çš„æ—¶å€™å‘¢ï¼Œæœ‰ä¸¤ç§ä¸åŒçš„æ–¹æ³•ï¼š</p><ol><li>ç›´æ¥ä½¿ç”¨ = èµ‹å€¼</li><li>ä½¿ç”¨<code>Object.defineProperty()</code>å®šä¹‰</li></ol><p>åŒºåˆ«å°±æ˜¯ä½¿ç”¨ = çš„è¯ï¼Œå¯¹è±¡çš„è¯¥å±æ€§çš„<code>writable</code>ã€<code>enumerable</code>å’Œ<code>configurable</code>éƒ½ä¸º<code>true</code>ã€‚</p><p>ä½¿ç”¨<code>defineProperty</code>çš„è¯ï¼Œå®ƒä»¬éƒ½æ˜¯<code>false</code>,ä¹Ÿå°±æ˜¯è¯¥å±æ€§ä¸å¯ä»¥è¢«ä¿®æ”¹ã€è¢«éå†ã€è¢«åˆ é™¤ã€‚</p><p><code>configurable</code>:å½“ä¸”ä»…å½“è¯¥å±æ€§çš„<code>configurable</code>ä¸º<code>true</code>æ—¶ï¼Œè¯¥å±æ€§æè¿°ç¬¦æ‰èƒ½å¤Ÿè¢«æ”¹å˜ï¼ŒåŒæ—¶è¯¥å±æ€§ä¹Ÿèƒ½ä»å¯¹åº”çš„å¯¹è±¡ä¸Šè¢«åˆ é™¤</p><ul><li><code>URL</code>ç¼–ç </li></ul><p>å½“æœŸæœ›è·å–ä¸€ä¸ªå¯ç”¨çš„ URL åœ°å€æ—¶ï¼Œä½¿ç”¨<code>encodeURI()</code><br>å½“éœ€è¦å¯¹<code>URL</code>çš„å‚æ•°è¿›è¡Œç¼–ç æ—¶ï¼Œä½¿ç”¨<code>encodeURIComponent()</code>ï¼Œå¦‚æœå®ƒä½œç”¨äºæ•´ä¸ª<code>url</code>ï¼Œå®ƒä¼šç¼–ç <code>http://</code>å¯¼è‡´å®Œæˆåçš„ä¸æ˜¯ä¸€ä¸ªå¯ç”¨çš„<code>url</code>åœ°å€<br><a href="http://www.ruanyifeng.com/blog/2010/02/url_encoding.html">å…³äº<code>url</code>ç¼–ç </a></p><ul><li>å­ç»„ä»¶æƒ³ä¿®æ”¹çˆ¶ç»„ä»¶çš„å€¼å¹¶ä¼ ç»™çˆ¶ç»„ä»¶</li></ul><p><code>vue</code>æœ¬èº«æ˜¯å•å‘æ•°æ®æµçš„ï¼Œå°±æ˜¯å­ç»„ä»¶ä¸èƒ½ç›´æ¥ä¿®æ”¹çˆ¶ç»„ä»¶çš„å€¼ï¼Œå¦‚æœå­ç»„ä»¶æƒ³æ›´æ–°çˆ¶ç»„ä»¶çš„å€¼çš„è¯ï¼Œå¯ä»¥åˆ©ç”¨<code>.sync</code>å’Œ<code>$emit(update:xxx)</code>ã€‚å…¶å®æ˜¯ç®€åŒ–äº†åœ¨å­ç»„ä»¶å®šä¹‰ä¸€ä¸ªäº‹ä»¶ï¼Œçˆ¶ç»„ä»¶å¤„ç†è¯¥äº‹ä»¶ã€‚</p><p>å­ç»„ä»¶<code>son</code></p><p><code>this.$emit('update:myMsg',val);</code></p><p>çˆ¶ç»„ä»¶</p><p><code>&lt;son :my-msg.sync = "val"/&gt; //æ­¤å¤„my-msgä¸€å®šéœ€è¦ä½¿ç”¨kebeb-baseå†™æ³•ï¼Œé©¼å³°æ˜¯æ— æ•ˆçš„</code></p>]]></content>
      
      
      <categories>
          
          <category> JS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å‰ç«¯ </tag>
            
            <tag> JS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>package.jsonçš„å­—æ®µè¯´æ˜</title>
      <link href="/2021/09/27/package-json-de-zi-duan-shuo-ming/"/>
      <url>/2021/09/27/package-json-de-zi-duan-shuo-ming/</url>
      
        <content type="html"><![CDATA[<blockquote><p>è‹±æ–‡ç‰ˆçš„<code>package.json</code>ä»‹ç»</p><p><a href="https://heynode.com/tutorial/what-packagejson/">https://heynode.com/tutorial/what-packagejson/</a></p></blockquote><h5 id="name"><a href="#name" class="headerlink" title="name"></a><code>name</code></h5><p><code>name</code>å­—æ®µè¡¨ç¤ºå½“å‰çš„æ–‡ä»¶åå­—ï¼Œå¦‚æœéœ€è¦å‘å¸ƒåœ¨<code>npm</code>ä¸Šçš„è¯ï¼Œä½œä¸ºå”¯ä¸€çš„æ ‡è¯†ã€‚</p><h5 id="version"><a href="#version" class="headerlink" title="version"></a><code>version</code></h5><p><code>version</code>å½“å‰é¡¹ç›®çš„ç‰ˆæœ¬ï¼Œå†³å®šäº†è¯¥ç‰ˆæœ¬çš„æ‰€æœ‰ä¾èµ–çš„ç‰ˆæœ¬ã€‚</p><h5 id="license"><a href="#license" class="headerlink" title="license"></a><code>license</code></h5><p><code>license</code>è®¸å¯è¯ï¼Œå‘å¸ƒåœ¨<code>npm</code>çš„æ—¶å€™,è®¸å¯è¯è§„å®šå“ªäº›äººå¯ä»¥ä½¿ç”¨ï¼Œå“ªäº›äººä¸å¯ä»¥ä½¿ç”¨ã€‚</p><h5 id="authorå’Œcontributors"><a href="#authorå’Œcontributors" class="headerlink" title="authorå’Œcontributors"></a><code>author</code>å’Œ<code>contributors</code></h5><pre class="language-json" data-language="json"><code class="language-json"><span class="token property">"author"</span><span class="token operator">:</span> <span class="token string">"Jon Church jon@example.com https://www.osioslabs.com/#team"</span><span class="token punctuation">,</span><span class="token property">"contributors"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"Amber Matz"</span><span class="token punctuation">,</span><span class="token property">"email"</span><span class="token operator">:</span> <span class="token string">"example@example.com"</span><span class="token punctuation">,</span><span class="token property">"url"</span><span class="token operator">:</span> <span class="token string">"https://www.osiolabs.com/#team"</span><span class="token punctuation">}</span><span class="token punctuation">]</span></code></pre><p>ä½œè€…å’Œå…±äº«è€…ï¼Œæ‹¥æœ‰<code>name</code> ã€<code> email</code>ã€ <code> url</code>å­—æ®µã€‚</p><h5 id="description"><a href="#description" class="headerlink" title="description"></a><code>description</code></h5><p>å‘å¸ƒåœ¨<code>npm</code>ä¸Šçš„æ—¶å€™å¯¹è¯¥åŒ…çš„æè¿°è¯´æ˜ã€‚</p><h5 id="keywords"><a href="#keywords" class="headerlink" title="keywords"></a><code>keywords</code></h5><p>ä½œç”¨è·Ÿ<code>description</code>å·®ä¸å¤šï¼Œå°±æ˜¯ç”¨äºæœç´¢å¼•æ“çš„å…³é”®å­—ï¼Œè¯´æ˜å­—æ®µè€Œå·²ã€‚</p><h5 id="main"><a href="#main" class="headerlink" title="main"></a><code>main</code></h5><pre class="language-json" data-language="json"><code class="language-json"><span class="token property">"main"</span><span class="token operator">:</span><span class="token string">"src/index.js"</span></code></pre><p>å®šä¹‰é¡¹ç›®çš„å¯åŠ¨å…¥å£ã€‚å¦‚æœä½ å®‰è£…äº†åŒ…<code>foo-lib</code>ï¼Œå½“ä½ æ‰§è¡Œ<code>require('foo-lib')</code>,è¿”å›çš„ç»“æœå°±æ˜¯è¯¥æ–‡ä»¶<code>module.exports</code>æš´éœ²å‡ºæ¥çš„å±æ€§ã€‚</p><h5 id="script"><a href="#script" class="headerlink" title="script"></a><code>script</code></h5><p>å®šä¹‰<code>npm run</code> è¿è¡Œçš„è„šæœ¬åå­—ã€‚</p><h5 id="repository"><a href="#repository" class="headerlink" title="repository"></a><code>repository</code></h5><p>å®ƒæ˜¯ä»“åº“çš„æ„æ€ï¼Œå°±æ˜¯è¯¥é¡¹ç›®æ”¾åœ¨äº†é‚£ä¸ªåœ°æ–¹ï¼Œä¾‹å¦‚<code>git</code>,å±æ€§æœ‰<code>type</code>ã€<code>url</code></p><h5 id="dependencies"><a href="#dependencies" class="headerlink" title="dependencies"></a><code>dependencies</code></h5><p>ç”Ÿæˆä¾èµ–ï¼Œå®ƒä¼šä¸‹è½½åˆ°node_modules/æ–‡ä»¶å¤¹ä¸­ã€‚ ç‰ˆæœ¬çš„ç¬¦å·å…³ç³»å¦‚ä¸‹</p><ul><li><code>^</code>: ä¸æ”¹å˜æœ€å·¦è¾¹çš„éé›¶æ•°å­—çš„æ›´æ–°ï¼Œå³å¯ä»¥åœ¨æ¬¡è¦ç‰ˆæœ¬æˆ–è¡¥ä¸ç‰ˆæœ¬ä¸­è¿›è¡Œæ›´æ”¹ï¼Œä½†ä¸èƒ½åœ¨ä¸»è¦ç‰ˆæœ¬ä¸­è¿›è¡Œæ›´æ”¹ã€‚å¦‚æœä½ å†™<code>^13.1.0</code>ï¼Œè¿è¡Œæ—¶<code>npm update</code>ï¼Œå®ƒå¯ä»¥æ›´æ–°åˆ°<code>13.2.0</code>ï¼Œ<code>13.3.0</code>ç”šè‡³<code>13.3.1</code>ï¼Œ<code>13.3.2</code>ç­‰ç­‰ï¼Œä½†ä¸èƒ½æ›´æ–°åˆ°<code>14.0.0</code>æˆ–ä»¥ä¸Šã€‚é™åˆ¶çš„æ˜¯æœ€å·¦è¾¹ä½ç½®çš„æ•°å­—ã€‚</li><li><code>~</code>ï¼šå¦‚æœæ‚¨<code>~0.13.0</code>åœ¨è¿è¡Œæ—¶ç¼–å†™<code>npm update</code>å®ƒå¯ä»¥æ›´æ–°åˆ°è¡¥ä¸ç‰ˆæœ¬ï¼š<code>0.13.1</code>å¯ä»¥ï¼Œä½†<code>0.14.0</code>ä¸æ˜¯ã€‚é™åˆ¶çš„æ˜¯ä¸­é—´ä½ç½®çš„æ•°å­—ã€‚</li><li><code>&gt;</code>ï¼šé«˜äºæŒ‡å®šçš„ç‰ˆæœ¬çš„ä»»ä½•ç‰ˆæœ¬</li><li><code>&gt;=</code>ï¼šç­‰äºæˆ–é«˜äºæŒ‡å®šçš„ç‰ˆæœ¬çš„ä»»ä½•ç‰ˆæœ¬</li><li><code>&lt;=</code>ï¼šç­‰äºæˆ–ä½äºæŒ‡å®šçš„ç‰ˆæœ¬çš„ä»»ä½•ç‰ˆæœ¬</li><li><code>&lt;</code>ï¼šä½äºæŒ‡å®šçš„ç‰ˆæœ¬çš„ä»»ä½•ç‰ˆæœ¬</li><li><code>=</code>: ç¡®åˆ‡çš„ç‰ˆæœ¬</li><li><code>-</code>: èŒƒå›´ã€‚ä¾‹å­ï¼š<code>2.1.0 - 2.6.2</code></li><li><code>||</code>: ç»„åˆã€‚ä¾‹å­ï¼š<code>&lt; 2.1 || &gt; 2.6</code></li></ul><h5 id="devDependencies"><a href="#devDependencies" class="headerlink" title="devDependencies"></a><code>devDependencies</code></h5><p>å¼€å‘ä¾èµ–ï¼Œä¸ä¼šåœ¨ç”Ÿäº§æ¨¡å¼ä¸­ä½¿ç”¨è¿™äº›èµ„æºçš„ã€‚å®‰è£…çš„æ—¶å€™ç”¨<code>npm install --save-dev</code></p><h5 id="npmrcæ–‡ä»¶"><a href="#npmrcæ–‡ä»¶" class="headerlink" title=".npmrcæ–‡ä»¶"></a><code>.npmrc</code>æ–‡ä»¶</h5><p>æœ‰äº›å›¢é˜Ÿæœ‰è‡ªå·±çš„ç§æœ‰çš„<code>npm</code>ç§æœ‰æœ,å‰ç«¯çš„è¯ä¸€äº›å›¢é˜Ÿå†…çš„ç»„ä»¶å•¦ã€‚å¦‚æœæƒ³è¦æ‹¿åˆ°è¿™é‡Œé¢çš„åŒ…çš„è¯å°±éœ€è¦é…ç½®<code>npm</code>çš„ä¸‹è½½é•œåƒåœ°å€å•¦ã€‚è¯¥æ–‡ä»¶å°±æ˜¯ç”¨æ¥è®¾ç½®é•œåƒåœ°å€çš„ã€‚</p><p>æ¯”å¦‚</p><p><code>@ç§æœ‰æœ:registry = https://npm.[ç§æœ‰æœ].cn/</code></p><p>å½“ç„¶è¯¥æ–‡ä»¶è¿˜æœ‰å…¶ä»–çš„ä¸€äº›é…ç½®é¡¹å•¦ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> package.json </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å‰ç«¯ </tag>
            
            <tag> package.json </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Nginxåå‘ä»£ç†</title>
      <link href="/2021/09/27/nginx-fan-xiang-dai-li/"/>
      <url>/2021/09/27/nginx-fan-xiang-dai-li/</url>
      
        <content type="html"><![CDATA[<h3 id="æ­£å‘ä»£ç†å’Œåå‘ä»£ç†"><a href="#æ­£å‘ä»£ç†å’Œåå‘ä»£ç†" class="headerlink" title="æ­£å‘ä»£ç†å’Œåå‘ä»£ç†"></a>æ­£å‘ä»£ç†å’Œåå‘ä»£ç†</h3><blockquote><p>æ­£å‘ä»£ç†</p><p>å°±æ˜¯æ­£å¸¸çš„å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ä¹‹é—´åˆ©ç”¨ä¸€éƒ¨ä»£ç†æœåŠ¡å™¨æ¥è¿›è¡Œè½¬å‘æ•°æ®å’Œç¼“å­˜ã€‚ä½†æ˜¯è¿™æ ·æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯æœåŠ¡ç«¯ä¸çŸ¥é“è¯·æ±‚æ˜¯æ¥è‡ªå“ªé‡Œï¼Ÿåªæœ‰å®¢æˆ·ç«¯çŸ¥é“ã€‚</p></blockquote><blockquote><p>åå‘ä»£ç†</p><p>åå‘ä»£ç†å¯ä»¥è§£å†³ä¸Šè¿°é—®é¢˜ï¼ŒæœåŠ¡å™¨éƒ¨åˆ†åŒ…æ‹¬ç”¨äºåšåå‘ä»£ç†çš„æœåŠ¡å™¨å’Œä¸šåŠ¡æœåŠ¡å™¨ï¼Œè¿™æ ·ä¸šåŠ¡æœåŠ¡å™¨å°±å¯ä»¥çŸ¥é“è¯·æ±‚æ˜¯æ¥è‡ªä»£ç†æœåŠ¡å™¨çš„ï¼Œä½†æ˜¯å®¢æˆ·ç«¯ä¸çŸ¥é“å“åº”æ˜¯æ¥è‡ªå“ªé‡Œã€‚</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/JingWZeng/markdownImg/img/202109261655203.png" alt="nginx2"></p><h4 id="nginxè§£å†³è·¨åŸŸçš„åŸç†"><a href="#nginxè§£å†³è·¨åŸŸçš„åŸç†" class="headerlink" title="nginxè§£å†³è·¨åŸŸçš„åŸç†"></a><code>nginx</code>è§£å†³è·¨åŸŸçš„åŸç†</h4><p>ä¾‹å¦‚ï¼š</p><ul><li>å‰ç«¯serverçš„åŸŸåä¸ºï¼š<code>fe.server.com</code></li><li>åç«¯æœåŠ¡çš„åŸŸåä¸ºï¼š<code>dev.server.com</code></li></ul><p>ç°åœ¨æˆ‘åœ¨<code>fe.server.com</code>å¯¹<code>dev.server.com</code>å‘èµ·è¯·æ±‚ä¸€å®šä¼šå‡ºç°è·¨åŸŸã€‚</p><p>ç°åœ¨æˆ‘ä»¬åªéœ€è¦å¯åŠ¨ä¸€ä¸ª<code>nginx</code>æœåŠ¡å™¨ï¼Œå°†<code>server_name</code>è®¾ç½®ä¸º<code>fe.server.com</code>,ç„¶åè®¾ç½®ç›¸åº”çš„<code>location</code>ä»¥æ‹¦æˆªå‰ç«¯éœ€è¦è·¨åŸŸçš„è¯·æ±‚ï¼Œæœ€åå°†è¯·æ±‚ä»£ç†å›<code>dev.server.com</code>ã€‚å¦‚ä¸‹é¢çš„é…ç½®ï¼š</p><pre class="language-text" data-language="text"><code class="language-text">server {        listen       80;        server_name  fe.server.com;        location / {                proxy_pass dev.server.com;        }}</code></pre><p>è¿™æ ·å¯ä»¥å®Œç¾ç»•è¿‡æµè§ˆå™¨çš„åŒæºç­–ç•¥ï¼š<code>fe.server.com</code>è®¿é—®<code>nginx</code>çš„<code>fe.server.com</code>å±äºåŒæºè®¿é—®ï¼Œè€Œ<code>nginx</code>å¯¹æœåŠ¡ç«¯è½¬å‘çš„è¯·æ±‚ä¸ä¼šè§¦å‘æµè§ˆå™¨çš„åŒæºç­–ç•¥ã€‚</p><h3 id="nginxå¼€å¯gzipä»£ç†"><a href="#nginxå¼€å¯gzipä»£ç†" class="headerlink" title="nginxå¼€å¯gzipä»£ç†"></a><code>nginx</code>å¼€å¯<code>gzip</code>ä»£ç†</h3><p>å‰ç«¯åœ¨æ‰“åŒ…çš„æ—¶å€™ï¼Œä¸€èˆ¬ä¸éœ€è¦å†<code>webpack</code>ä¸­é…ç½®<code>gzip</code>,è®©åç«¯å¼€å¯<code>gzip</code>å‹ç¼©ï¼Œæµè§ˆå™¨å¾—åˆ°å‹ç¼©åçš„æ–‡ä»¶ï¼Œè‡ªåŠ¨è§£å‹ç¼©ã€‚</p><h3 id="è´Ÿè½½å‡è¡¡"><a href="#è´Ÿè½½å‡è¡¡" class="headerlink" title="è´Ÿè½½å‡è¡¡"></a>è´Ÿè½½å‡è¡¡</h3><p>è´Ÿè½½å‡è¡¡çš„æ„æ€å°±æ˜¯è®©å®¢æˆ·ç«¯çš„è¯·æ±‚åˆç†çš„åˆ†é…åˆ°å„ä¸ªæœåŠ¡å™¨ä¸Šé¢ï¼Œè´Ÿè½½å‡è¡¡åœ¨<code>nginx</code>ä¸­å¼€å¯ï¼Œè¿˜å¯ä»¥é€‰æ‹©è´Ÿè½½å‡è¡¡çš„ç­–ç•¥ã€‚åç«¯è¿˜å¯ä»¥ä¸“é—¨é…ä¸€ä¸ªè™šæ‹ŸæœåŠ¡å™¨ç”¨æ¥åšé™æ€èµ„æºæœåŠ¡å™¨ã€‚</p><blockquote><p>å…·ä½“çš„<code>nginx</code>é…ç½®å¯ä»¥å‚è€ƒ</p><p><code>http://www.conardli.top/blog/article/å‰ç«¯å·¥ç¨‹åŒ–/å‰ç«¯å¼€å‘è€…å¿…å¤‡çš„nginxçŸ¥è¯†.html#è´Ÿè½½å‡è¡¡</code></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> Nginx </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Nginx </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HashMap</title>
      <link href="/2021/09/27/hashmap/"/>
      <url>/2021/09/27/hashmap/</url>
      
        <content type="html"><![CDATA[<h4 id="HashMapçš„ä½œç”¨"><a href="#HashMapçš„ä½œç”¨" class="headerlink" title="HashMapçš„ä½œç”¨"></a><code>HashMap</code>çš„ä½œç”¨</h4><p><code>HashMap</code>å“ˆå¸Œè¡¨ï¼Œä¹Ÿå«åšæ•£åˆ—è¡¨ã€‚å“ˆå¸Œè¡¨æ˜¯ä¸€ç§æ¯”è¾ƒç‰¹æ®Šçš„æ•°æ®ç»“æ„ï¼Œå®ƒéµå¾ªå‡½æ•°æ˜ å°„çš„æ€æƒ³ï¼Œä»¥<code>Key: Value</code>çš„æ–¹å¼å­˜å‚¨æ•°æ®ã€‚å“ˆå¸Œè¡¨æœ€å¤§çš„ç‰¹ç‚¹æ˜¯å¯ä»¥å¿«é€Ÿå®šä½åˆ°è¦æŸ¥æ‰¾çš„æ•°æ®ï¼ŒæŸ¥è¯¢çš„æ—¶é—´å¤æ‚åº¦æ¥è¿‘O(1)ã€‚å“ˆå¸Œè¡¨çš„åŸç†å¹¶ä¸å¤æ‚ï¼Œç®€è€Œè¨€ä¹‹å°±æ˜¯æ ¹æ®<code>Key</code>æ¥è®¡ç®—å‡ºå­˜å‚¨ä½ç½®ï¼Œç„¶åå°†æ•°æ®æ”¾å…¥è¯¥ç©ºé—´ï¼ŒæŸ¥è¯¢æ—¶åŒæ ·æ ¹æ®<code>Key</code>è®¡ç®—å‡ºå­˜å‚¨ä½ç½®åç›´æ¥å°†ç›¸åº”çš„å€¼å–å‡ºã€‚</p><h4 id="å“ˆå¸Œå‡½æ•°"><a href="#å“ˆå¸Œå‡½æ•°" class="headerlink" title="å“ˆå¸Œå‡½æ•°"></a>å“ˆå¸Œå‡½æ•°</h4><p>æ ¹æ®<code>Key</code>æ¥è®¡ç®—å­˜å‚¨ä½ç½®çš„è®¡ç®—è§„åˆ™æˆ‘ä»¬ç§°ä¹‹ä¸ºå“ˆå¸Œå‡½æ•°ã€‚ä¼˜åŒ–å“ˆå¸Œè¡¨çš„å…³é”®å°±æ˜¯è¡¨å¤§å°å’Œå“ˆå¸Œå‡½æ•°çš„é€‰æ‹©ã€‚</p><p><strong>å¸¸ç”¨çš„å“ˆå¸Œå‡½æ•°</strong></p><blockquote><p>é™¤ç•™å–ä½™æ³•</p><p>è¿™ç§æ–¹æ³•åº”è¯¥æ˜¯æœ€å¸¸ç”¨çš„å“ˆå¸Œå®šå€æ–¹æ³•äº†ã€‚H(x) = x % på‡å®šå“ˆå¸Œè¡¨é•¿åº¦ä¸ºs,åˆ™pä¸€èˆ¬å–ä¸è¶…è¿‡sçš„æœ€å¤§è´¨æ•°</p></blockquote><blockquote><p>ç›´æ¥å®šå€æ³•<br>æ¯”è¾ƒå¸¸ç”¨çš„æ–¹æ³•<br>H(x) = a * x + b</p></blockquote><h4 id="å†²çª"><a href="#å†²çª" class="headerlink" title="å†²çª"></a>å†²çª</h4><p>å“ˆå¸Œè¡¨è¿˜è¦è§£å†³çš„ä¸€ä¸ªé—®é¢˜å°±æ˜¯å†²çªï¼Œå½“é€‰æ‹©äº†ä¸€ä¸ªå“ˆå¸Œå‡½æ•°ä¹‹åï¼Œæœ‰å¯èƒ½ä¸åŒçš„æ•°æ®ä¼šè®¡ç®—å‡ºç›¸åŒçš„key,æ¯”å¦‚H(x) = x % 5 è¿™ç§ç®—æ³•ï¼Œ6 å’Œ 11 éƒ½ä¼šè®¡ç®—å‡º1,æ­¤æ—¶å°±ä¼šäº§ç”Ÿå†²çªã€‚å¦‚æœä¸è§£å†³å†²çªï¼Œå“ˆå¸Œè¡¨å°±æ— æ³•æ„å»ºå‡ºæ¥ã€‚</p><p><strong>è§£å†³å†²çªçš„æ–¹æ³•</strong></p><blockquote><p>é“¾æ¥åœ°å€æ³•<br>å°†æœ‰å†²çªçš„æ•°æ®æ”¾åœ¨ä¸€ä¸ªé“¾è¡¨é‡Œï¼Œå½“æŸ¥è¯¢æ—¶ä¼šæ ¹æ®keyæŸ¥åˆ°é“¾è¡¨çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ï¼Œç„¶åéå†æ•´ä¸ªé“¾è¡¨ï¼Œæ‰¾åˆ°ç›¸åº”çš„å€¼ã€‚</p></blockquote><blockquote><p>å¼€æ”¾å®šå€æ³•<br>æœ€å…·ä»£è¡¨æ€§çš„ä¸€ç§æ˜¯çº¿æ€§æ¢æµ‹æ³•<br>H(x) = x % 5<br>æ•°æ®æ ·æœ¬: {5, 6, 8, 12, 11}<br>è®¡ç®—Key: { 0, 1, 3, 2, 1}<br>å­˜å‚¨æ•°ç»„ [0, 1, 2, 3, 4, 5, 6, 7 â€¦..]<br>  [5, 6, 12, 8, 11] å½“å­˜å‚¨11çš„æ—¶å€™ï¼Œå‘ç°ä¸‹æ ‡æ˜¯1çš„ä½ç½®ä»¥åŠè¢«å æ®äº†ï¼Œæ­¤æ—¶æ ¹æ®çº¿æ€§æ¢æµ‹æ³•çš„è§„åˆ™ä¾æ¬¡å¾€åéå†ï¼Œç›´åˆ°æ‰¾åˆ°ç©ºçš„ä½ç½®ï¼Œæ‰€ä»¥åœ¨ä¸‹æ ‡ä¸º4çš„ä½ç½®å¡«å…¥11</p><p>çº¿æ€§æ¢æµ‹æ³•æœ€å¤§çš„é—®é¢˜æ˜¯å†²çªç´¯è®¡ï¼Œè§£å†³ä¸€ä¸ªå†²çªçš„åŒæ—¶ä¼šå æ®åˆ«çš„keyçš„ä½ç½®ï¼Œåˆé€ æˆäº†æ–°çš„å†²çªã€‚<br>æ”¹è‰¯çš„æ–¹æ³•æœ‰äºŒæ¬¡æ–¹æ¢æµ‹æ³•å’Œéšæœºæ•°æ¢æµ‹æ³•</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> HashMap </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hashMap </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å‰ç«¯è·¯ç”±</title>
      <link href="/2021/09/27/qian-duan-lu-you/"/>
      <url>/2021/09/27/qian-duan-lu-you/</url>
      
        <content type="html"><![CDATA[<blockquote><p>å‰ç«¯è·¯ç”±çš„ä¸¤ä¸ªåŸºæœ¬æ¡ä»¶</p><ol><li>æ”¹å˜<code>url</code></li><li>é¡µé¢ä¸åˆ·æ–°</li></ol></blockquote><h3 id="Hash-è·¯ç”±"><a href="#Hash-è·¯ç”±" class="headerlink" title="Hash è·¯ç”±"></a>Hash è·¯ç”±</h3><ol><li><code>hash</code>åªä½œç”¨åœ¨æµè§ˆå™¨ï¼Œä¸ä¼šåœ¨è¯·æ±‚ä¸­å‘é€ç»™æœåŠ¡å™¨ã€‚</li><li><code>hash</code>å‘ç”Ÿå˜åŒ–æ—¶ï¼Œæµè§ˆå™¨å¹¶ä¸ä¼šé‡æ–°ç»™åç«¯å‘é€è¯·æ±‚åŠ è½½é¡µé¢ã€‚</li><li>ä¿®æ”¹<code>hash</code>æ—¶ä¼šåœ¨æµè§ˆå™¨ç•™ä¸‹å†å²è®°å½•ï¼Œå¯ä»¥é€šè¿‡æµè§ˆå™¨è¿”å›æŒ‰é’®å›åˆ°ä¸Šä¸€ä¸ªé¡µé¢ã€‚</li><li><code>hash</code> å‘ç”Ÿå˜åŒ–æ—¶ä¼šè§¦å‘ <code>hashchange</code> äº‹ä»¶ï¼Œåœ¨è¯¥äº‹ä»¶ä¸­å¯ä»¥é€šè¿‡ <code>window.location.hash</code> è·å–åˆ°å½“å‰ hash å€¼ã€‚</li></ol><p>åœ¨æ·»åŠ è·¯ç”±çš„æ—¶å€™æ·»åŠ ä¸€ä¸ªå¯¹è±¡ï¼ŒåŒ…æ‹¬<code>url</code>å’Œè·³è½¬è¯¥åœ°å€çš„å¤„ç†å‡½æ•°ã€‚hashchange äº‹ä»¶å¯ä»¥ç›‘å¬<code>url</code>çš„å˜åŒ–ã€‚</p><h3 id="History-è·¯ç”±"><a href="#History-è·¯ç”±" class="headerlink" title="History è·¯ç”±"></a>History è·¯ç”±</h3><p>åˆ©ç”¨<code>H5</code>çš„<code>history.pushState()</code>å’Œ<code>history.replaceState()</code>ï¼Œåˆ†åˆ«å¯ä»¥æ·»åŠ å’Œä¿®æ”¹å†å²è®°å½•ã€‚å®ƒä»¬æ˜¯ä¸ hash ä¸€æ ·å…·æœ‰ä¿®æ”¹<code>url</code>çš„åŠŸèƒ½ï¼Œä¹‹åå¯ä»¥é€šè¿‡<code>windows</code>çš„<code>onpopstate</code>äº‹ä»¶ï¼Œæ¥ç›‘å¬<code>url</code>çš„å˜åŒ–ï¼Œè¿›è€Œå¤„ç†è¯¥<code>url</code>çš„å¤„ç†å‡½æ•°ã€‚</p><p>å› ä¸º<code>History</code>è·¯ç”±æ”¹å˜çš„æ˜¯æµè§ˆå™¨çš„<code>url</code>,å› ä¸º<code>url</code>æ”¹å˜äº†ï¼Œæ­¤æ—¶å¦‚æœæ‰‹åŠ¨çš„åˆ·æ–°é¡µé¢ï¼Œæµè§ˆå™¨ä¼šè®¤ä¸ºæ˜¯è¯·æ±‚ä¸€ä¸ªæ–°çš„é¡µé¢ï¼Œä½†æ˜¯æ–°çš„é¡µé¢æ˜¯ä¸å­˜åœ¨çš„(å› ä¸º<code>url</code>ä¸­æ˜¾ç¤ºçš„æ˜¯é€šè¿‡<code>pushstate</code>åŠ çš„è®°å½•ï¼Œå®é™…ä¸Šæ²¡æœ‰å¯¹åº”çš„é¡µé¢)ï¼Œè‚¯å®šä¼šæŠ¥é”™çš„ï¼</p><p>æ‰€ä»¥éœ€è¦é…åˆåç«¯ï¼Œåœ¨æœåŠ¡ç«¯åš<code>url</code>çš„é‡å®šå‘ï¼Œå°±æ˜¯å¦‚æœæ‰¾ä¸åˆ°é¡µé¢ï¼Œé‚£ä¹ˆå°±é‡å®šå‘åˆ°<code>index.html</code>,<code>vue</code>é¡¹ç›®æœ¬èº«å°±æ˜¯å•é¡µé¢åº”ç”¨ï¼Œæ•´ä¸ªç³»ç»Ÿä¹Ÿåªæœ‰ä¸€ä¸ª<code>html</code></p><pre class="language-html" data-language="html"><code class="language-html"><span class="token comment">&lt;!--index.html--&gt;</span><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Title<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>router.js<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>btn<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>ç‚¹å‡»è·³è½¬åˆ° list<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>detail<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>ç‚¹å‡»è·³è½¬åˆ° detail<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">      <span class="token keyword">var</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Router</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      router<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"/list"</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        window<span class="token punctuation">.</span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"/listè·¯ç”±è¢«æ·»åŠ è¿›æ¥å•¦"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      router<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"/detail"</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      router<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">var</span> btn1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"btn"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      btn1<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"click"</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">"/list"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">var</span> btn2 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"detail"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      btn2<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"click"</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">"/detail"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span></code></pre><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// router.js</span><span class="token keyword">function</span> <span class="token function">Router</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">this</span><span class="token punctuation">.</span>routes <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token comment">/* æ·»åŠ è·¯ç”± */</span>  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">add</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">re<span class="token punctuation">,</span> handler</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>routes<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span> re<span class="token punctuation">,</span> handler <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">;</span>  <span class="token comment">/* ç›‘å¬ url å˜åŒ–  */</span>  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">listen</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">//è·¯ç”±åˆ‡æ¢</span>    window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span>      <span class="token string">"hashchange"</span><span class="token punctuation">,</span>      <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">var</span> hash <span class="token operator">=</span> window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>hash<span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>routes<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>          <span class="token keyword">if</span> <span class="token punctuation">(</span>hash <span class="token operator">===</span> <span class="token keyword">this</span><span class="token punctuation">.</span>routes<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>re<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>routes<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">handler</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token punctuation">}</span>        <span class="token punctuation">}</span>      <span class="token punctuation">}</span><span class="token punctuation">,</span>      <span class="token boolean">false</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">;</span>  <span class="token comment">/* å‰è¿›åˆ°ä¸€ä¸ªæ–°çš„url  */</span>  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">push</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">path</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>hash <span class="token operator">=</span> path <span class="token operator">||</span> <span class="token string">""</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">;</span>  <span class="token comment">/* æ›¿æ¢æˆä¸€ä¸ªæ–°çš„url  */</span>  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">replace</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">path</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    path <span class="token operator">=</span> path <span class="token operator">||</span> <span class="token string">""</span><span class="token punctuation">;</span>    <span class="token keyword">var</span> i <span class="token operator">=</span> window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">"#"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    window<span class="token punctuation">.</span>location<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>      window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">?</span> i <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"#"</span> <span class="token operator">+</span> path    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">;</span>  <span class="token comment">/* è¿”å›åˆ°ä¸Šä¸€ä¸ªurl  */</span>  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">back</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    window<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p><img src="https://cdn.jsdelivr.net/gh/JingWZeng/markdownImg/img/202110202059020.png" alt="router"></p>]]></content>
      
      
      <categories>
          
          <category> è·¯ç”± </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å‰ç«¯ </tag>
            
            <tag> è·¯ç”± </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å°¾è°ƒç”¨</title>
      <link href="/2021/09/26/wei-diao-yong/"/>
      <url>/2021/09/26/wei-diao-yong/</url>
      
        <content type="html"><![CDATA[<h3 id="å°¾è°ƒç”¨"><a href="#å°¾è°ƒç”¨" class="headerlink" title="å°¾è°ƒç”¨"></a>å°¾è°ƒç”¨</h3><blockquote><p>å°¾è°ƒç”¨çš„æ¦‚å¿µéå¸¸ç®€å•ï¼Œä¸€å¥è¯å°±èƒ½è¯´æ¸…æ¥šï¼Œå°±æ˜¯æŒ‡æŸä¸ªå‡½æ•°çš„æœ€åä¸€æ­¥æ˜¯è°ƒç”¨å¦ä¸€ä¸ªå‡½æ•°ã€‚</p></blockquote><p>éœ€è¦æ³¨æ„çš„æ˜¯æœ€åä¸€æ­¥ä¸æ˜¯æŒ‡æœ€åä¸€è¡Œä»£ç ï¼Œç”šè‡³<code>return fn() - 1</code>,å³ä½¿åœ¨åŒä¸€è¡Œï¼Œä¹Ÿä¸æ˜¯å°¾è°ƒç”¨ã€‚</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">let</span> m <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>  <span class="token keyword">let</span> n <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>  <span class="token keyword">return</span> <span class="token function">g</span><span class="token punctuation">(</span>m <span class="token operator">+</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// ç­‰åŒäº</span><span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> <span class="token function">g</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// ç­‰åŒäº</span><span class="token function">g</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>ä¸Šé¢ä»£ç ä¸­ï¼Œå¦‚æœå‡½æ•°gä¸æ˜¯å°¾è°ƒç”¨ï¼Œå‡½æ•°få°±éœ€è¦ä¿å­˜å†…éƒ¨å˜é‡må’Œnçš„å€¼ã€gçš„è°ƒç”¨ä½ç½®ç­‰ä¿¡æ¯ã€‚ä½†ç”±äºè°ƒç”¨gä¹‹åï¼Œå‡½æ•°få°±ç»“æŸäº†ï¼Œæ‰€ä»¥æ‰§è¡Œåˆ°æœ€åä¸€æ­¥ï¼Œå®Œå…¨å¯ä»¥åˆ é™¤<code>f()</code>çš„è°ƒç”¨è®°å½•ï¼Œåªä¿ç•™<code>g(3)</code>çš„è°ƒç”¨è®°å½•ã€‚</p><p>è¿™å°±å«åšâ€å°¾è°ƒç”¨ä¼˜åŒ–â€ï¼ˆ<code>Tail call optimization</code>ï¼‰ï¼Œå³åªä¿ç•™å†…å±‚å‡½æ•°çš„è°ƒç”¨è®°å½•ã€‚å¦‚æœæ‰€æœ‰å‡½æ•°éƒ½æ˜¯å°¾è°ƒç”¨ï¼Œé‚£ä¹ˆå®Œå…¨å¯ä»¥åšåˆ°æ¯æ¬¡æ‰§è¡Œæ—¶ï¼Œè°ƒç”¨è®°å½•åªæœ‰ä¸€é¡¹ï¼Œè¿™å°†å¤§å¤§èŠ‚çœå†…å­˜ã€‚è¿™å°±æ˜¯â€å°¾è°ƒç”¨ä¼˜åŒ–â€çš„æ„ä¹‰ã€‚</p><h3 id="å°¾é€’å½’"><a href="#å°¾é€’å½’" class="headerlink" title="å°¾é€’å½’"></a>å°¾é€’å½’</h3><blockquote><p>å‡½æ•°è°ƒç”¨è‡ªèº«ï¼Œç§°ä¸ºé€’å½’ã€‚å¦‚æœå°¾è°ƒç”¨è‡ªèº«ï¼Œå°±ç§°ä¸ºå°¾é€’å½’ã€‚</p></blockquote><p>é€’å½’éå¸¸è€—è´¹å†…å­˜ï¼Œå› ä¸ºéœ€è¦åŒæ—¶ä¿å­˜æˆåƒä¸Šç™¾ä¸ªè°ƒç”¨è®°å½•ï¼Œå¾ˆå®¹æ˜“å‘ç”Ÿâ€æ ˆæº¢å‡ºâ€é”™è¯¯ï¼ˆ<code>stack overflow</code>ï¼‰ã€‚ä½†å¯¹äºå°¾é€’å½’æ¥è¯´ï¼Œç”±äºåªå­˜åœ¨ä¸€ä¸ªè°ƒç”¨è®°å½•ï¼Œæ‰€ä»¥æ°¸è¿œä¸ä¼šå‘ç”Ÿâ€æ ˆæº¢å‡ºâ€é”™è¯¯ã€‚</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">if</span><span class="token punctuation">(</span>n<span class="token operator">===</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">1</span><span class="token keyword">return</span> n <span class="token operator">*</span> <span class="token function">fn</span><span class="token punctuation">(</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token comment">// æ”¹æˆå°¾é€’å½’</span><span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token parameter">n<span class="token punctuation">,</span>total</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>n<span class="token operator">===</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span> total    <span class="token keyword">return</span> <span class="token function">fn</span><span class="token punctuation">(</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>n<span class="token operator">*</span>total<span class="token punctuation">)</span><span class="token punctuation">}</span></code></pre><blockquote><p>é€’å½’å‡½æ•°çš„æ”¹å†™ï¼š</p><p>å°±æ˜¯æŠŠå†…éƒ¨å˜é‡æ”¹å†™æˆå‡½æ•°çš„å‚æ•°ã€‚ä¸Šè¿°ä¸­éœ€è¦ç”¨åˆ°çš„æ˜¯totalå˜é‡ï¼ŒæŠŠå®ƒæ”¹æˆå‡½æ•°çš„å‚æ•°å°±å¯ä»¥ã€‚ä½†æ˜¯ä¸å¤ªç›´è§‚ã€‚è¿™ä¸ªæ—¶å€™å¯ä»¥åˆ©ç”¨æŸ¯é‡ŒåŒ–<code>currying</code>,å®ƒçš„æ„æ€å°±æ˜¯å°†å¤šå‚æ•°çš„å‡½æ•°è½¬æ¢æˆå•å‚æ•°çš„å‡½æ•°ã€‚ä¾‹å¦‚ï¼š</p></blockquote><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">currying</span><span class="token punctuation">(</span><span class="token parameter"><span class="token function">fx</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>n</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">m</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token function">fx</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span>m<span class="token punctuation">,</span>n<span class="token punctuation">)</span> <span class="token comment">// callç”¨æ¥ç»‘å®šä½œç”¨åŸŸï¼Œé˜²æ­¢ä¹±è·‘ï¼Œç»‘å®šçš„æ˜¯fçš„ä½œç”¨åŸŸï¼Œmæ˜¯fçš„å‡½æ•°å‚æ•°ï¼Œè¿™ä¸ªä¾‹å­å¯ä»¥ä¸ç”¨call</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token parameter">n<span class="token punctuation">,</span>total</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>n<span class="token operator">===</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span> total    <span class="token keyword">return</span> <span class="token function">fn</span><span class="token punctuation">(</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>n<span class="token operator">*</span>total<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token keyword">const</span> f  <span class="token operator">=</span> <span class="token function">currying</span><span class="token punctuation">(</span>fn<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>  <span class="token comment">// 120</span></code></pre><p>é€’å½’çš„æœ¬è´¨æ˜¯å¾ªç¯ï¼Œå¾ªç¯å¯ä»¥ç”¨é€’å½’ä»£æ›¿ï¼Œä½†æ˜¯ç”¨é€’å½’ï¼Œå°±æœ€å¥½ä½¿ç”¨å°¾é€’å½’ã€‚</p><h3 id="ä¸¥æ ¼æ¨¡å¼"><a href="#ä¸¥æ ¼æ¨¡å¼" class="headerlink" title="ä¸¥æ ¼æ¨¡å¼"></a>ä¸¥æ ¼æ¨¡å¼</h3><p><code>ES6çš„</code>å°¾è°ƒç”¨ä¼˜åŒ–åªåœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹å¼€å¯ï¼Œæ­£å¸¸æ¨¡å¼æ˜¯æ— æ•ˆçš„ã€‚</p><p>è¿™æ˜¯å› ä¸ºåœ¨æ­£å¸¸æ¨¡å¼ä¸‹ï¼Œå‡½æ•°å†…éƒ¨æœ‰ä¸¤ä¸ªå˜é‡ï¼Œå¯ä»¥è·Ÿè¸ªå‡½æ•°çš„è°ƒç”¨æ ˆã€‚</p><blockquote><p><code>arguments</code>ï¼šè¿”å›è°ƒç”¨æ—¶å‡½æ•°çš„å‚æ•°ã€‚</p><p><code>func.caller</code>ï¼šè¿”å›è°ƒç”¨å½“å‰å‡½æ•°çš„é‚£ä¸ªå‡½æ•°ã€‚</p></blockquote><p>å°¾è°ƒç”¨ä¼˜åŒ–å‘ç”Ÿæ—¶ï¼Œå‡½æ•°çš„è°ƒç”¨æ ˆä¼šæ”¹å†™ï¼Œå› æ­¤ä¸Šé¢ä¸¤ä¸ªå˜é‡å°±ä¼šå¤±çœŸï¼ˆä¸çœŸå®ï¼Œçœ‹èµ·æ¥æ²¡æœ‰ä¼˜åŒ–ï¼Œå¦‚ä¸‹å›¾ï¼‰ã€‚ä¸¥æ ¼æ¨¡å¼ç¦ç”¨è¿™ä¸¤ä¸ªå˜é‡ï¼Œæ‰€ä»¥å°¾è°ƒç”¨æ¨¡å¼ä»…åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ç”Ÿæ•ˆã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/JingWZeng/markdownImg/img/202109261152460.png"></p><p>çœ‹èµ·æ¥å‡½æ•°è°ƒç”¨è®°å½•ä¸º5æ¡ï¼ŒåŸå› æ˜¯æ²¡æœ‰å¼€å¯ä¸¥æ ¼æ¨¡å¼ï¼Œå¦‚æœå¼€å¯ä¸¥æ ¼æ¨¡å¼çš„è¯ï¼Œç¦æ­¢è°ƒå¼äº†,æ— æ³•è·Ÿè¸ªè°ƒç”¨æ ˆã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å‡½æ•°å¼ç¼–ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å‡½æ•°å¼ç¼–ç¨‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HTTP</title>
      <link href="/2021/09/24/http/"/>
      <url>/2021/09/24/http/</url>
      
        <content type="html"><![CDATA[<h3 id="ä¼ è¾“æµç¨‹"><a href="#ä¼ è¾“æµç¨‹" class="headerlink" title="ä¼ è¾“æµç¨‹"></a>ä¼ è¾“æµç¨‹</h3><p><img src="https://cdn.jsdelivr.net/gh/JingWZeng/markdownImg/img/202109240942964.png" alt="image-20210924094205809"></p><h3 id="ä¸‰æ¬¡æ¡æ‰‹"><a href="#ä¸‰æ¬¡æ¡æ‰‹" class="headerlink" title="ä¸‰æ¬¡æ¡æ‰‹"></a>ä¸‰æ¬¡æ¡æ‰‹</h3><p>ç›®çš„æ˜¯ä¸ºäº†ä¿è¯å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯å„è‡ªçš„å¯åˆ†å‘ï¼Œå°±æ˜¯ä¸ºäº†ç¡®ä¿å¯¹æ–¹æ˜¯å¦ç¡®è®¤æ”¶åˆ°ï¼Œè¿æ¥æ˜¯å¦æˆåŠŸï¼Œä¹Ÿå°±æ˜¯ä¸ºå•¥<code>TCP</code>æ˜¯å¯é çš„è¿æ¥</p><p>ç®€è¦çš„è¯´æ˜å°±æ˜¯åˆ©ç”¨<code>TCP</code>çš„æ ‡å¿—<code>SYN</code>å’Œ<code>ACK</code>ã€‚å‘é€ç«¯é¦–å…ˆå‘é€ä¸€ä¸ªå¸¦<code>SYN</code>æ ‡å¿—çš„æ•°æ®åŒ…ç»™å¯¹æ–¹ã€‚æ¥æ”¶ç«¯æ”¶åˆ°åï¼Œå›ä¼ ä¸€ä¸ªå¸¦æœ‰<code>SYN/ACK</code>æ ‡å¿—çš„æ•°æ®åŒ…ä»¥ç¤ºä¼ è¾¾ç¡®è®¤ä¿¡æ¯ã€‚æœ€åï¼Œå‘é€ç«¯å†å›ä¼ ä¸€ä¸ªå¸¦<code>ACK</code>æ ‡å¿—çš„æ•°æ®åŒ…ï¼Œä»£è¡¨â€œæ¡æ‰‹â€ç»“æŸã€‚è‹¥åœ¨æ¡æ‰‹è¿‡ç¨‹ä¸­æŸä¸ªé˜¶æ®µè«åæ–­ã€‚<code>TCP</code> åè®®ä¼šå†æ¬¡ä»¥ç›¸åŒçš„é¡ºåºå‘é€ç›¸åŒçš„æ•°æ®åŒ…ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/JingWZeng/markdownImg/img/202109240946219.png" alt="image-20210924094620148"></p><h3 id="httpæ— çŠ¶æ€ä¿å­˜"><a href="#httpæ— çŠ¶æ€ä¿å­˜" class="headerlink" title="httpæ— çŠ¶æ€ä¿å­˜"></a>httpæ— çŠ¶æ€ä¿å­˜</h3><p><code>http</code>åè®®è‡ªèº«ä¸å…·å¤‡ä¿å­˜ä¹‹å‰å‘é€çš„è¯·æ±‚å’Œå“åº”çš„åŠŸèƒ½ã€‚å¦‚æœä¸ºäº†å®ç°ä¿å­˜çŠ¶æ€çš„åŠŸèƒ½ï¼Œå¯ä»¥åˆ©ç”¨cookieæŠ€æœ¯ï¼Œ<code>cookie</code>ä¸<code>http</code>é…åˆï¼Œå°±å¯ä»¥ç®¡ç†çŠ¶æ€äº†ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/JingWZeng/markdownImg/img/202109241001237.png" alt="image-20210924100144178"></p><h3 id="URLå’ŒURI"><a href="#URLå’ŒURI" class="headerlink" title="URLå’ŒURI"></a>URLå’ŒURI</h3><p><code>URL</code>ç»Ÿä¸€èµ„æºå®šå®šä½ç¬¦ï¼Œä¹Ÿå°±æ˜¯åœ¨æµè§ˆå™¨ä¸­è¾“å…¥çš„åœ°å€ï¼Œ<code>URI</code>ç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦ï¼Œç”¨æ¥æ ‡è¯†æœåŠ¡å™¨ä¸­å…·ä½“çš„æŸä¸€ä¸ªèµ„æºï¼Œä¹Ÿå°±æ˜¯è¯·æ±‚ä½“å†…å®¹ã€‚<code>URI</code>åŒ…å«<code>URL</code></p><h3 id="HEAD"><a href="#HEAD" class="headerlink" title="HEAD"></a>HEAD</h3><p><code>HEAD</code>æ–¹æ³•å’Œ<code>GET</code>æ–¹æ³•ä¸€æ ·ï¼Œåªæ˜¯ä¸è¿”å›æŠ¥æ–‡ä¸»ä½“éƒ¨åˆ†ã€‚ç”¨äºç¡®è®¤<code>URI</code>çš„æœ‰æ•ˆæ€§åŠèµ„æºæ›´æ–°çš„æ—¥æœŸæ—¶é—´ç­‰ã€‚</p><h3 id="DELETE"><a href="#DELETE" class="headerlink" title="DELETE"></a>DELETE</h3><p><code>DELETE</code> æ–¹æ³•ç”¨æ¥åˆ é™¤æ–‡ä»¶ï¼Œæ˜¯ä¸<code>PUT</code>ç›¸åçš„æ–¹æ³•(ä¸Šä¼ æ–‡ä»¶)ã€‚<code>DELETE</code>æ–¹æ³•æŒ‰è¯·æ±‚<code>URI</code>åˆ é™¤æŒ‡å®šçš„èµ„æºã€‚ä½†æ˜¯ï¼Œ<code>HTTP/1.1</code>çš„<code>DELETE</code>æ–¹æ³•æœ¬èº«å’Œ<code>PUT</code>æ–¹æ³•ä¸€æ ·ä¸å¸¦éªŒè¯æœºåˆ¶ï¼Œæ‰€ä»¥ä¸€èˆ¬çš„<code>Web</code>ç½‘ç«™ä¹Ÿä¸ä½¿ç”¨<code>DELETE</code>æ–¹æ³•ã€‚å½“é…åˆ<code>Web</code>åº”ç”¨ç¨‹åºçš„éªŒè¯æœºåˆ¶ï¼Œæˆ–éµå®ˆ<code>REST</code>æ ‡å‡†æ—¶è¿˜æ˜¯æœ‰å¯èƒ½ä¼šå¼€æ”¾ä½¿ç”¨çš„ã€‚</p><h3 id="OPTIONSï¼šè¯¢é—®æ”¯æŒçš„æ–¹æ³•"><a href="#OPTIONSï¼šè¯¢é—®æ”¯æŒçš„æ–¹æ³•" class="headerlink" title="OPTIONSï¼šè¯¢é—®æ”¯æŒçš„æ–¹æ³•"></a>OPTIONSï¼šè¯¢é—®æ”¯æŒçš„æ–¹æ³•</h3><p> <code>OPTIONS</code>æ–¹æ³•ç”¨æ¥æŸ¥è¯¢é’ˆå¯¹è¯·æ±‚<code>URI</code>æŒ‡å®šçš„èµ„æºæ”¯æŒçš„æ–¹æ³•ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/JingWZeng/markdownImg/img/202109241014932.png" alt="image-20210924101436881"></p><h3 id="TRACEï¼šè¿½è¸ªè·¯å¾„"><a href="#TRACEï¼šè¿½è¸ªè·¯å¾„" class="headerlink" title="TRACEï¼šè¿½è¸ªè·¯å¾„"></a>TRACEï¼šè¿½è¸ªè·¯å¾„</h3><p>TRACE æ–¹æ³•æ˜¯è®© Web æœåŠ¡å™¨ç«¯å°†ä¹‹å‰çš„è¯·æ±‚ç»è¿‡çš„è·¯å¾„è¿”å›çš„å‘æ”¾ã€‚å‘é€è¯·æ±‚æ—¶ï¼Œåœ¨<code>Max-Forwards</code>é¦–éƒ¨å­—æ®µä¸­å¡«å…¥æ•°å€¼ï¼Œæ¯ç»è¿‡ä¸€ä¸ªæœåŠ¡å™¨ç«¯å°±å°†è¯¥æ•°å­—å‡<code>1</code>ï¼Œå½“æ•°å€¼åˆšå¥½å‡åˆ°<code>0 </code>æ—¶ï¼Œå°±åœæ­¢ç»§ç»­ä¼ è¾“ï¼Œæœ€åæ¥æ”¶åˆ°è¯·æ±‚çš„æœåŠ¡å™¨ç«¯åˆ™è¿”å›çŠ¶æ€ç <code>200 OK</code>çš„å“åº”ã€‚å®¢æˆ·ç«¯é€šè¿‡ <code>TRACE</code>æ–¹æ³•å¯ä»¥æŸ¥è¯¢å‘é€å‡ºå»çš„è¯·æ±‚æ˜¯æ€æ ·è¢«åŠ å·¥ä¿®æ”¹/ ç¯¡æ”¹çš„ã€‚è¿™æ˜¯å› ä¸ºï¼Œè¯·æ±‚æƒ³è¦è¿æ¥åˆ°æºç›®æ ‡æœåŠ¡å™¨å¯èƒ½ä¼šé€šè¿‡ä»£ç†ä¸­è½¬ï¼Œ<code>TRACE</code>æ–¹æ³•å°±æ˜¯ç”¨æ¥ç¡®è®¤è¿æ¥è¿‡ç¨‹ä¸­å‘ç”Ÿçš„ä¸€ç³»åˆ—æ“ä½œã€‚ä½†æ˜¯ï¼Œ<code>TRACE</code>æ–¹æ³•æœ¬æ¥å°±ä¸æ€ä¹ˆå¸¸ç”¨ï¼Œå†åŠ ä¸Šå®ƒå®¹æ˜“å¼•å‘<code>XST</code>ï¼ˆCross-Site Tracingï¼Œè·¨ç«™è¿½è¸ªï¼‰æ”»å‡»ï¼Œé€šå¸¸å°±æ›´ä¸ä¼šç”¨åˆ°äº†ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/JingWZeng/markdownImg/img/202109241017163.png" alt="image-20210924101739103"></p><h3 id="CONNECTï¼šè¦æ±‚ç”¨éš§é“åè®®è¿æ¥ä»£ç†"><a href="#CONNECTï¼šè¦æ±‚ç”¨éš§é“åè®®è¿æ¥ä»£ç†" class="headerlink" title="CONNECTï¼šè¦æ±‚ç”¨éš§é“åè®®è¿æ¥ä»£ç†"></a>CONNECTï¼šè¦æ±‚ç”¨éš§é“åè®®è¿æ¥ä»£ç†</h3><p><code>CONNECT</code>æ–¹æ³•è¦æ±‚åœ¨ä¸ä»£ç†æœåŠ¡å™¨é€šä¿¡æ—¶å»ºç«‹éš§é“ï¼Œå®ç°ç”¨éš§é“åè®®è¿›è¡Œ<code>TCP</code>é€šä¿¡ã€‚ä¸»è¦ä½¿ç”¨<code>SSL</code>ï¼ˆSecure Sockets Layerï¼Œå®‰å…¨å¥—æ¥å±‚ï¼‰å’Œ<code>TLS</code>ï¼ˆTransport Layer Securityï¼Œä¼ è¾“å±‚å®‰å…¨ï¼‰åè®®æŠŠé€šä¿¡å†…å®¹åŠ å¯†åç»ç½‘ç»œéš§é“ä¼ è¾“ã€‚<code>CONNECT</code>æ–¹æ³•çš„æ ¼å¼å¦‚ä¸‹æ‰€ç¤ºã€‚</p><p><code>CONNECT ä»£ç†æœåŠ¡å™¨å:ç«¯å£å· HTTPç‰ˆæœ¬</code></p><h3 id="http1-1æ–°å¢çš„æŒä¹…è¿æ¥alive"><a href="#http1-1æ–°å¢çš„æŒä¹…è¿æ¥alive" class="headerlink" title="http1.1æ–°å¢çš„æŒä¹…è¿æ¥alive"></a>http1.1æ–°å¢çš„æŒä¹…è¿æ¥alive</h3><p>æŒä¹…è¿æ¥å°±æ˜¯å»ºç«‹ä¸€æ¬¡<code>TCP</code>è¿æ¥ï¼Œåªè¦ä»»æ„ä¸€æ®µæ²¡æœ‰æ–­å¼€è¿æ¥ï¼Œå°±å¯ä»¥ä¿æŒ<code>TCP</code>çš„è¿æ¥ï¼Œå¯ä»¥åœ¨è¿™ä¸ªè¿æ¥ä¸­å‘é€å¤šæ¬¡çš„<code>http</code>è¯·æ±‚ã€‚åœ¨<code>http1.1</code>ä¸­ï¼Œæ‰€æœ‰çš„è¿æ¥é»˜è®¤éƒ½æ˜¯æŒä¹…è¿æ¥ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/JingWZeng/markdownImg/img/202109241028553.png" alt="image-20210924102855479"></p><h3 id="ç®¡çº¿åŒ–"><a href="#ç®¡çº¿åŒ–" class="headerlink" title="ç®¡çº¿åŒ–"></a>ç®¡çº¿åŒ–</h3><p>æŒä¹…è¿æ¥ä½¿å¾—å¤šæ•°è¯·æ±‚ä»¥ç®¡çº¿åŒ–ï¼ˆpipeliningï¼‰æ–¹å¼å‘é€æˆä¸ºå¯èƒ½ã€‚ä»å‰å‘é€è¯·æ±‚åéœ€ç­‰å¾…å¹¶æ”¶åˆ°å“åº”ï¼Œæ‰èƒ½å‘é€ä¸‹ä¸€ä¸ªè¯·æ±‚ã€‚ç®¡çº¿åŒ–æŠ€æœ¯å‡ºç°åï¼Œä¸ç”¨ç­‰å¾…å“åº”äº¦å¯ç›´æ¥å‘é€ä¸‹ä¸€ä¸ªè¯·æ±‚ã€‚è¿™æ ·å°±èƒ½å¤Ÿåšåˆ°åŒæ—¶å¹¶è¡Œå‘é€å¤šä¸ªè¯·æ±‚ï¼Œè€Œä¸éœ€è¦ä¸€ä¸ªæ¥ä¸€ä¸ªåœ°ç­‰å¾…å“åº”äº†</p><p><img src="https://cdn.jsdelivr.net/gh/JingWZeng/markdownImg/img/202109241032880.png" alt="image-20210924103216826"></p><h3 id="Cookie"><a href="#Cookie" class="headerlink" title="Cookie"></a>Cookie</h3><p><code>Cookie</code>ä¼šæ ¹æ®ä»æœåŠ¡å™¨ç«¯å‘é€çš„å“åº”æŠ¥æ–‡å†…çš„ä¸€ä¸ªå«åš<code>Set-Cookie</code>çš„é¦–éƒ¨å­—æ®µä¿¡æ¯ï¼Œé€šçŸ¥å®¢æˆ·ç«¯ä¿å­˜<code>Cookie</code>ã€‚å½“ä¸‹æ¬¡å®¢æˆ·ç«¯å†å¾€è¯¥æœåŠ¡å™¨å‘é€è¯·æ±‚æ—¶ï¼Œå®¢æˆ·ç«¯ä¼šè‡ªåŠ¨åœ¨è¯·æ±‚æŠ¥æ–‡ä¸­åŠ å…¥ <code>Cookie</code>å€¼åå‘é€å‡ºå»ã€‚æœåŠ¡å™¨ç«¯å‘ç°å®¢æˆ·ç«¯å‘é€è¿‡æ¥çš„<code>Cookie</code>åï¼Œä¼šå»æ£€æŸ¥ç©¶ç«Ÿæ˜¯ä»å“ªä¸€ä¸ªå®¢æˆ·ç«¯å‘æ¥çš„è¿æ¥è¯·æ±‚ï¼Œç„¶åå¯¹æ¯”æœåŠ¡å™¨ä¸Šçš„è®°å½•ï¼Œæœ€åå¾—åˆ°ä¹‹å‰çš„çŠ¶æ€ä¿¡æ¯ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/JingWZeng/markdownImg/img/202109241036362.png" alt="image-20210924103615311"></p><p><img src="https://cdn.jsdelivr.net/gh/JingWZeng/markdownImg/img/202109241036604.png" alt="image-20210924103624559"></p><h3 id="æœåŠ¡ç«¯ä¸¤ç§ç¼–ç æ–¹å¼"><a href="#æœåŠ¡ç«¯ä¸¤ç§ç¼–ç æ–¹å¼" class="headerlink" title="æœåŠ¡ç«¯ä¸¤ç§ç¼–ç æ–¹å¼"></a>æœåŠ¡ç«¯ä¸¤ç§ç¼–ç æ–¹å¼</h3><ul><li>å‹ç¼©</li></ul><p><code>gzip</code>å‹ç¼©ä¹‹åå‘ç»™å®¢æˆ·ç«¯ï¼Œå®¢æˆ·ç«¯è§£å‹ç¼©è¯¥å®ä½“ã€‚å±äºå†…å®¹ç¼–ç çš„ä¸€ç§ï¼Œå†…å®¹ç¼–ç æŒ‡æ˜åº”ç”¨åœ¨å®ä½“å†…å®¹ä¸Šçš„ç¼–ç æ ¼å¼ï¼Œå¹¶æŠ¥å‡ºå®ä½“ä¿¡æ¯åŸæ ·çš„å‹ç¼©ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/JingWZeng/markdownImg/img/202109241049574.png" alt="image-20210924104947519"></p><ul><li>åˆ†å‰²</li></ul><p>åœ¨<code>HTTP</code>é€šä¿¡è¿‡ç¨‹ä¸­ï¼Œè¯·æ±‚çš„ç¼–ç å®ä½“èµ„æºå°šæœªå…¨éƒ¨ä¼ è¾“å®Œæˆä¹‹å‰ï¼Œæµè§ˆå™¨æ— æ³•æ˜¾ç¤ºè¯·æ±‚é¡µé¢ã€‚åœ¨ä¼ è¾“å¤§å®¹é‡æ•°æ®æ—¶ï¼Œé€šè¿‡æŠŠæ•°æ®åˆ†å‰²æˆå¤šå—ï¼Œèƒ½å¤Ÿè®©æµè§ˆå™¨é€æ­¥æ˜¾ç¤ºé¡µé¢ã€‚è¿™ç§æŠŠå®ä½“ä¸»ä½“åˆ†å—çš„åŠŸèƒ½ç§°ä¸ºåˆ†å—ä¼ è¾“ç¼–ç <code>Chunked TransferCoding</code></p><p><img src="https://cdn.jsdelivr.net/gh/JingWZeng/markdownImg/img/202109241051913.png" alt="image-20210924105147859"></p><h3 id="èŒƒå›´è¯·æ±‚"><a href="#èŒƒå›´è¯·æ±‚" class="headerlink" title="èŒƒå›´è¯·æ±‚"></a>èŒƒå›´è¯·æ±‚</h3><p>æ¯”å¦‚ä¸€ä¸ªå›¾ç‰‡ä¸‹è½½ä¸­æ–­ï¼Œä»ä¸­æ–­å¤„å¼€å§‹è¿”å›æ•°æ®ç»™å®¢æˆ·ç«¯ï¼Œå°±æ˜¯èŒƒå›´è¯·æ±‚ã€‚ç”¨<code>Range</code>æ¥æŒ‡å®š<code>byte</code>çš„èŒƒå›´</p><p><code>Range: bytes = 5001-10000</code></p><p>é’ˆå¯¹èŒƒå›´è¯·æ±‚ï¼Œå“åº”ä¼šè¿”å›çŠ¶æ€ç ä¸º206 <code>Partial Content</code>(éƒ¨åˆ†å†…å®¹),å¯¹äºå¤šé‡èŒƒå›´çš„èŒƒå›´è¯·æ±‚ï¼Œå“åº”ä¼šåœ¨é¦–éƒ¨å­—æ®µ<code>Content-Type</code>æ ‡æ˜<code>multipart/byteranges</code>åè¿”å›å“åº”æŠ¥æ–‡ã€‚å¦‚æœæœåŠ¡å™¨ç«¯æ— æ³•å“åº”èŒƒå›´è¯·æ±‚ï¼Œåˆ™ä¼šè¿”å›çŠ¶æ€ç <code>200 OK</code>å’Œå®Œæ•´çš„å®ä½“å†…å®¹</p><h3 id="å†…å®¹åå•†"><a href="#å†…å®¹åå•†" class="headerlink" title="å†…å®¹åå•†"></a>å†…å®¹åå•†</h3><p>å†…å®¹åå•†æœºåˆ¶æ˜¯æŒ‡å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯å°±å“åº”çš„èµ„æºå†…å®¹è¿›è¡Œäº¤æ¶‰ï¼Œç„¶åæä¾›ç»™å®¢æˆ·ç«¯æœ€ä¸ºé€‚åˆçš„èµ„æºã€‚å†…å®¹åå•†ä¼šä»¥å“åº”èµ„æºçš„è¯­è¨€ã€å­—ç¬¦é›†ã€ç¼–ç æ–¹å¼ç­‰ä½œä¸ºåˆ¤æ–­çš„åŸºå‡†ã€‚æ¯”å¦‚éœ€è¦æ˜¾ç¤ºä¸­æ–‡è¿˜æ˜¯è‹±æ–‡ã€‚</p><p><code>Accept</code></p><p><code>Accept-Charset</code></p><p><code>Accept-Encoding</code></p><p><code>Accept-Language</code></p><p><code>Content-Language</code></p><h3 id="çŠ¶æ€ç "><a href="#çŠ¶æ€ç " class="headerlink" title="çŠ¶æ€ç "></a>çŠ¶æ€ç </h3><table><thead><tr><th align="center"></th><th align="center">ç±»åˆ«</th><th align="center">åŸå› çŸ­è¯­</th></tr></thead><tbody><tr><td align="center">1XX</td><td align="center">ä¿¡æ¯æ€§çŠ¶æ€ç </td><td align="center">æ¥æ”¶çš„è¯·æ±‚æ­£åœ¨å¤„ç†</td></tr><tr><td align="center">2XX</td><td align="center">æˆåŠŸçŠ¶æ€ç </td><td align="center">è¯·æ±‚æ­£å¸¸å¤„ç†å®Œæ¯•</td></tr><tr><td align="center">3XX</td><td align="center">é‡å®šå‘çŠ¶æ€ç </td><td align="center">éœ€è¦è¿›è¡Œé™„åŠ æ“ä½œä»¥å®Œæˆè¯·æ±‚</td></tr><tr><td align="center">4XX</td><td align="center">å®¢æˆ·ç«¯é”™è¯¯çŠ¶æ€ç </td><td align="center">æœåŠ¡å™¨æ— æ³•å¤„ç†è¯·æ±‚</td></tr><tr><td align="center">5XX</td><td align="center">æœåŠ¡å™¨é”™è¯¯çŠ¶æ€ç </td><td align="center">æœåŠ¡å™¨å¤„ç†è¯·æ±‚å‡ºé”™</td></tr></tbody></table><ul><li>204 No Content</li></ul><p><img src="https://cdn.jsdelivr.net/gh/JingWZeng/markdownImg/img/202109241400622.png" alt="image-20210924140001523"></p><ul><li><p>206 Partial Content </p><p>è¯¥çŠ¶æ€ç è¡¨ç¤ºå®¢æˆ·ç«¯è¿›è¡Œäº†èŒƒå›´è¯·æ±‚ï¼Œè€ŒæœåŠ¡å™¨æˆåŠŸæ‰§è¡Œäº†è¿™éƒ¨åˆ†çš„GET è¯·æ±‚ã€‚å“åº”æŠ¥æ–‡ä¸­åŒ…å«ç”± Content-Range æŒ‡å®šèŒƒå›´çš„å®ä½“å†…å®¹ã€‚</p></li></ul><p><img src="https://cdn.jsdelivr.net/gh/JingWZeng/markdownImg/img/202109241400521.png" alt="image-20210924140040466"></p><ul><li>301 Moved Permanently(æ°¸ä¹…æ€§çš„) æ°¸ä¹…é‡å®šå‘</li></ul><p><img src="https://cdn.jsdelivr.net/gh/JingWZeng/markdownImg/img/202109241402164.png" alt="image-20210924140247109"></p><ul><li>302 Found ä¸´æ—¶é‡å®šå‘</li></ul><p><img src="https://cdn.jsdelivr.net/gh/JingWZeng/markdownImg/img/202109241403706.png" alt="image-20210924140353652"></p><ul><li>303 See Other</li></ul><p>è¡¨ç¤ºç”±äºè¯·æ±‚å¯¹åº”çš„èµ„æºå­˜åœ¨å¦ä¸€ä¸ª<code>url</code>,åº”è¯¥ä½¿ç”¨<code>get</code>æ–¹å‘å®šå‘è·å–è¯·æ±‚çš„èµ„æºï¼Œä¸302æœ‰ç›¸åŒçš„åŠŸèƒ½ï¼Œä½†æ˜¯303æ˜ç¡®è¡¨ç¤ºå®¢æˆ·ç«¯åº”è¯¥ä½¿ç”¨<code>get</code>æ–¹æ³•è·å–</p><p><img src="https://cdn.jsdelivr.net/gh/JingWZeng/markdownImg/img/202109241404090.png" alt="image-20210924140432027"></p><ul><li>304 Not Modified</li></ul><p>è¯¥çŠ¶æ€ç è¡¨ç¤ºå®¢æˆ·ç«¯å‘é€é™„å¸¦æ¡ä»¶çš„è¯·æ±‚æ—¶ï¼ŒæœåŠ¡å™¨ç«¯å…è®¸è¯·æ±‚è®¿é—®èµ„æºï¼Œä½†æœªæ»¡è¶³æ¡ä»¶çš„æƒ…å†µã€‚304 çŠ¶æ€ç è¿”å›æ—¶ï¼Œä¸åŒ…å«ä»»ä½•å“åº”çš„ä¸»ä½“éƒ¨åˆ†ã€‚304 è™½ç„¶è¢«åˆ’åˆ†åœ¨ <code>3XX</code>ç±»åˆ«ä¸­ï¼Œä½†æ˜¯å’Œé‡å®šå‘æ²¡æœ‰å…³ç³»ã€‚é™„å¸¦æ¡ä»¶çš„è¯·æ±‚æ˜¯æŒ‡é‡‡ç”¨<code>GET</code>æ–¹æ³•çš„è¯·æ±‚æŠ¥æ–‡ä¸­åŒ…å«<code>If-Match</code>ï¼Œ<code>If-Modified-Since</code>ï¼Œ<code>If-None-Match</code>ï¼Œ<code>If-Range</code>ï¼Œ<code>If-Unmodified-Since</code> ä¸­ä»»ä¸€é¦–éƒ¨ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/JingWZeng/markdownImg/img/202109241408325.png" alt="image-20210924140830269"></p><ul><li>307 Temporary(ä¸´æ—¶çš„) Redirect</li></ul><p>ä¸´æ—¶é‡å®šå‘ï¼Œå’Œ302çš„å«ä¹‰ç›¸åŒã€‚ä¸åŒçš„å°±æ˜¯307ä¸ä¼šæŠŠ<code>post</code>è¯·æ±‚å˜æˆ<code>get</code>è¯·æ±‚ï¼Œè€Œ302ä¼šæŠŠ<code>post</code>è¯·æ±‚å˜æˆ<code>get</code>è¯·æ±‚å†é‡æ–°å‘æ–°çš„<code>url</code>å‘ä¸€æ¬¡è¯·æ±‚ã€‚</p><ul><li>400 Bad Request </li></ul><p>è¯·æ±‚æŠ¥æ–‡ä¸­å­˜åœ¨è¯­æ³•é”™è¯¯ï¼Œéœ€è¦ä¿®æ”¹è¯·æ±‚çš„å†…å®¹åå†æ¬¡å‘é€è¯·æ±‚ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/JingWZeng/markdownImg/img/202109241413872.png" alt="image-20210924141359814"></p><ul><li>401 Unauthorized(æœªç»æˆæƒçš„)</li></ul><p>éœ€è¦è®¤è¯çš„æ—¶å€™ä¼šè¿”å›401ï¼Œç¬¬ä¸€æ¬¡è¿”å›ä¸€ä¸ªçª—å£ç”¨æ¥å¡«è®¤è¯ä¿¡æ¯ã€‚ç¬¬äºŒæ¬¡è¿”å›401ï¼Œè¡¨ç¤ºè®¤è¯ä¿¡æ¯é”™è¯¯ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/JingWZeng/markdownImg/img/202109241415442.png" alt="image-20210924141558351"></p><ul><li>403 Forbidden ç¦æ­¢è®¿é—®</li></ul><p><img src="https://cdn.jsdelivr.net/gh/JingWZeng/markdownImg/img/202109241417243.png" alt="image-20210924141732185"></p><ul><li>500 Internal Server Error</li></ul><p>æœåŠ¡å™¨åœ¨æ‰§è¡Œè¯·æ±‚çš„æ—¶å€™å‘ç”Ÿäº†é”™è¯¯</p><ul><li>503 Service Unavailableï¼ˆæ— æ³•ä½¿ç”¨ï¼‰</li></ul><p>æœåŠ¡å™¨æ— æ³•ä½¿ç”¨</p><h3 id="ç½‘å…³ã€ä»£ç†ã€éš§é“"><a href="#ç½‘å…³ã€ä»£ç†ã€éš§é“" class="headerlink" title="ç½‘å…³ã€ä»£ç†ã€éš§é“"></a>ç½‘å…³ã€ä»£ç†ã€éš§é“</h3><ul><li>ä»£ç†å°±æ˜¯å……å½“â€ä¸­é—´äººâ€çš„è§’è‰²,ä½œç”¨æœ‰ â‘ åˆ©ç”¨ç¼“å­˜æŠ€æœ¯ï¼Œç¼“å­˜èµ„æºåœ¨ä»£ç†æœåŠ¡å™¨ä¸Šâ‘¡å¯¹ç½‘ç«™åšè®¿é—®æ§åˆ¶â‘¢è·å–è®¿é—®æ—¥å¿—</li></ul><p><img src="https://cdn.jsdelivr.net/gh/JingWZeng/markdownImg/img/202109241431465.png" alt="image-20210924143126370"></p><ul><li>ç½‘å…³å’Œä»£ç†ç±»ä¼¼ï¼Œä¹Ÿæ˜¯â€ä¸­é—´äººâ€çš„è§’è‰²ï¼Œä½†æ˜¯ç½‘å…³è¿˜å¯ä»¥è¿›è¡Œåè®®çš„è½¬æ¢</li></ul><p><img src="https://cdn.jsdelivr.net/gh/JingWZeng/markdownImg/img/202109241431063.png" alt="image-20210924143114001"></p><ul><li>éš§é“çš„ç›®çš„æ˜¯ä¸ºäº†ä¿è¯å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯è¿›è¡Œå®‰å…¨çš„é€šè¡Œã€‚ä¸æœåŠ¡å™¨ä¹‹é—´å»ºç«‹ä¸€æ¡é€šä¿¡çº¿è·¯ï¼ŒåŠ <code>ssl</code>ç­‰åŠ å¯†æ‰‹æ®µè¿›è¡Œé€šè¡Œã€‚éš§é“ä¸ä¼šè§£æ<code>http</code>è¯·æ±‚ï¼Œéš§é“ä¼šåœ¨é€šä¿¡åŒæ–¹æ–­å¼€è¿æ¥æ—¶ç»“æŸã€‚å®ƒæ˜¯é€æ˜çš„ï¼Œå®¢æˆ·ç«¯ä¸ç”¨åœ¨æ„éš§é“æ˜¯å¦å­˜åœ¨ã€‚</li></ul><p><img src="https://cdn.jsdelivr.net/gh/JingWZeng/markdownImg/img/202109241434105.png" alt="image-20210924143454048"></p><h3 id="å¸¸ç”¨çš„é¦–éƒ¨å­—æ®µè¯´æ˜"><a href="#å¸¸ç”¨çš„é¦–éƒ¨å­—æ®µè¯´æ˜" class="headerlink" title="å¸¸ç”¨çš„é¦–éƒ¨å­—æ®µè¯´æ˜"></a>å¸¸ç”¨çš„é¦–éƒ¨å­—æ®µè¯´æ˜</h3><p><strong>å…¨éƒ¨å­—æ®µè¡¨</strong></p><ol><li>é€šç”¨é¦–éƒ¨å­—æ®µ</li></ol><p><img src="https://cdn.jsdelivr.net/gh/JingWZeng/markdownImg/img/202109241523112.png" alt="image-20210924152325070"></p><ol start="2"><li>è¯·æ±‚é¦–éƒ¨å­—æ®µ</li></ol><p><img src="https://cdn.jsdelivr.net/gh/JingWZeng/markdownImg/img/202109241524827.png" alt="image-20210924152336694"></p><ol start="3"><li>å“åº”é¦–éƒ¨å­—æ®µ</li></ol><p><img src="https://cdn.jsdelivr.net/gh/JingWZeng/markdownImg/img/202109241524179.png" alt="image-20210924152432141"></p><ol start="4"><li>å®ä½“é¦–éƒ¨å­—æ®µ</li></ol><p><img src="https://cdn.jsdelivr.net/gh/JingWZeng/markdownImg/img/202109241524746.png" alt="image-20210924152459708"></p><p><strong>Cache-Control</strong> </p><p>HTTP/1.1ä¹‹å‰çš„å­—æ®µæ˜¯<code>Pragma</code>,ä¸ºäº†å…¼å®¹å¯ä»¥è¿™æ ·å†™</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript">Cache<span class="token operator">-</span>Control<span class="token operator">:</span> no<span class="token operator">-</span>cachePragma<span class="token operator">:</span> no<span class="token operator">-</span>cache</code></pre><blockquote><p>ç¼“å­˜è¯·æ±‚æŒ‡ä»¤</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/JingWZeng/markdownImg/img/202109241456764.png" alt="image-20210924145651720"></p><blockquote><p>ç¼“å­˜å“åº”æŒ‡ä»¤</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/JingWZeng/markdownImg/img/202109241457014.png" alt="image-20210924145724967"></p><ul><li><code>no-cache</code>æŒ‡ä»¤çš„ç›®çš„æ˜¯ä¸ºäº†é˜²æ­¢ä»ç¼“å­˜ä¸­è¿”å›è¿‡æœŸçš„èµ„æºã€‚å®¢æˆ·ç«¯ä¸æ¥å—ç¼“å­˜è¿‡çš„å“åº”ï¼Œå¿…é¡»å‘æœåŠ¡å™¨è½¬å‘è¯¥è¯·æ±‚ã€‚<code>no-cache</code>ä»£è¡¨ä¸ç¼“å­˜è¿‡æœŸçš„èµ„æºï¼Œè€Œ<code>no-store</code>æ‰æ˜¯ä»£è¡¨ä¸ç¼“å­˜ã€‚</li></ul><p><img src="https://cdn.jsdelivr.net/gh/JingWZeng/markdownImg/img/202109241459585.png" alt="image-20210924145931526"></p><ul><li><code>max-age</code>ï¼Œæ²¡æœ‰è¶…è¿‡è¿™ä¸ªæ—¶é—´ï¼Œç¼“å­˜æœåŠ¡å™¨ç›´æ¥è¿”å›èµ„æºå°±å¯ä»¥ï¼Œä¸éœ€è¦é€šçŸ¥æºæœåŠ¡å™¨ï¼Œä¸º0çš„æ—¶å€™ä»£è¡¨ç¼“å­˜æœåŠ¡å™¨éœ€è¦å°†è¯·æ±‚è½¬å‘ç»™æºæœåŠ¡å™¨ã€‚</li></ul><p><img src="https://cdn.jsdelivr.net/gh/JingWZeng/markdownImg/img/202109241507772.png" alt="image-20210924150717700"></p><ul><li><code>no-transform</code>å¯ä»¥é˜²æ­¢ç¼“å­˜æœåŠ¡å™¨æˆ–è€…ä»£ç†æœåŠ¡å™¨å‹ç¼©å›¾ç‰‡ç­‰æ“ä½œã€‚</li></ul><p><strong>Connection</strong></p><ol><li>æ§åˆ¶ä¸å†è½¬å‘ç»™ä»£ç†çš„é¦–éƒ¨å­—æ®µ</li></ol><p><code>Connection:ä¸å†è½¬å‘çš„é¦–éƒ¨å­—æ®µå</code></p><p><img src="https://cdn.jsdelivr.net/gh/JingWZeng/markdownImg/img/202109241516619.png" alt="image-20210924151610550"></p><ol start="2"><li>ç®¡ç†æŒä¹…åŒ–è¿æ¥</li></ol><p><code>Connection:close</code></p><p><img src="https://cdn.jsdelivr.net/gh/JingWZeng/markdownImg/img/202109241516041.png" alt="image-20210924151652996"></p><p><code>HTTP/1.1</code>çš„é»˜è®¤è¿æ¥éƒ½æ˜¯æŒä¹…è¿æ¥<code>Connection:keep-alive</code></p><p><strong>If-xxx</strong> </p><p>è¿™ç§è¯·æ±‚é¦–éƒ¨å­—æ®µè¢«ç§°ä¸ºæ¡ä»¶è¯·æ±‚ã€‚æœåŠ¡å™¨æ¥æ”¶åˆ°é™„å¸¦çš„æ¡ä»¶ä¹‹åï¼Œåªæœ‰åˆ¤æ–­æŒ‡å®šæ¡ä»¶ä¸ºçœŸï¼Œæ‰ä¼šæ‰§è¡Œè¯·æ±‚ã€‚</p><ul><li><code>If-Match</code>å’ŒæœåŠ¡å™¨çš„<code>ETag</code>ä¸€è‡´ï¼ŒæœåŠ¡å™¨ä¼šæ¥å—è¯·æ±‚ã€‚è®¾ç½®ä¸º*çš„æ—¶å€™ï¼Œåªè¦èµ„æºå­˜åœ¨å°±è¿›è¡Œå¤„ç†ã€‚</li></ul><p><img src="https://cdn.jsdelivr.net/gh/JingWZeng/markdownImg/img/202109241547218.png" alt="image-20210924154757101"></p><ul><li><code>If-Modified-Since</code>æŒ‡å®šçš„æ—¥æœŸæ—¶é—´åï¼Œèµ„æºå‘ç”Ÿäº†æ›´æ–°ï¼ŒæœåŠ¡å™¨ä¼šæ¥å—è¯·æ±‚</li></ul><p><img src="https://cdn.jsdelivr.net/gh/JingWZeng/markdownImg/img/202109241549636.png" alt="image-20210924154924519"></p><ul><li><code>If-None-Match</code> å­—æ®µå€¼ä¸æœåŠ¡å™¨çš„<code>ETag</code>ä¸ä¸€è‡´çš„æ—¶å€™ï¼Œå¯å¤„ç†è¯¥è¯·æ±‚ã€‚ä¸<code>If-Match</code>ç›¸åã€‚é€šå¸¸åœ¨<code>get</code>æ–¹æ³•ä¸­ç”¨æ¥è·å–æœ€æ–°çš„èµ„æºï¼Œéšä¾¿æŒ‡å®šä¸€ä¸ªæœåŠ¡å™¨æ²¡æœ‰çš„æ•°æ®ï¼Œå°±å¯ä»¥äº†ã€‚</li></ul><p><img src="https://cdn.jsdelivr.net/gh/JingWZeng/markdownImg/img/202109241553487.png" alt="image-20210924155359416"></p><ul><li><code>If-Range</code> ä¹Ÿæ˜¯éœ€è¦å’ŒæœåŠ¡ç«¯çš„<code>ETag</code>è¿›è¡Œæ¯”è¾ƒçš„ï¼Œå¦‚æœä¸€è‡´çš„è¯å°±è¿”å›éœ€è¦çš„èŒƒå›´èµ„æºï¼Œå¦‚æœä¸ä¸€è‡´çš„è¯å°±è¿”å›éœ€è¦çš„æ‰€æœ‰çš„èµ„æºã€‚å¦‚æœä¸ä½¿ç”¨<code>If-Range</code>çš„è¯ï¼Œé‚£ä¹ˆé‡åˆ°è¿™ç§æƒ…å†µå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ä¹‹é—´éœ€è¦è¿›è¡Œä¸¤æ¬¡è¯·æ±‚ã€‚</li></ul><p><img src="https://cdn.jsdelivr.net/gh/JingWZeng/markdownImg/img/202109251336101.png" alt="image-20210925133639867"></p><p><img src="https://cdn.jsdelivr.net/gh/JingWZeng/markdownImg/img/202109251337330.png" alt="image-20210925133707273"></p><ul><li><code>Refererï¼ˆæ¥è·¯ï¼‰</code>å¯ä»¥æŸ¥çœ‹è¯·æ±‚çš„<code>URL</code>æ˜¯ä»å“ªä¸ª<code>Web</code>é¡µé¢å‘èµ·çš„ã€‚</li></ul><p><img src="https://cdn.jsdelivr.net/gh/JingWZeng/markdownImg/img/202109251348612.png" alt="image-20210925134831560"></p><ul><li><code>ETag</code>æ˜¯å°†èµ„æºä»¥å­—ç¬¦ä¸²çš„å½¢åŠ¿ä½œä¸ºå”¯ä¸€æ ‡è¯†çš„æ–¹å¼ã€‚æœåŠ¡å™¨ä¼šä¸ºæ¯ä»½èµ„æºåˆ†é…å¯¹åº”çš„<code>ETag</code>å€¼ã€‚</li></ul><p><img src="https://cdn.jsdelivr.net/gh/JingWZeng/markdownImg/img/202109251353514.png" alt="image-20210925135339470"></p><p><img src="https://cdn.jsdelivr.net/gh/JingWZeng/markdownImg/img/202109251354945.png" alt="image-20210925135414911"></p><ul><li><code>Vary</code>è§„å®šä»£ç†æœåŠ¡å™¨åªèƒ½ç¼“å­˜ç›¸åŒå­—æ®µå€¼çš„èµ„æºã€‚</li></ul><p><img src="https://cdn.jsdelivr.net/gh/JingWZeng/markdownImg/img/202109251358223.png" alt="image-20210925135831172"></p><ul><li><p><code>Content-MD5</code>å®¢æˆ·ç«¯ä¼šå¯¹æ¥å—çš„æŠ¥æ–‡ä¸»ä½“æ‰§è¡Œç›¸åŒçš„<code>MD5</code>ç®—æ³•ï¼Œç„¶åç”¨æ¥è·Ÿè¯¥å­—æ®µçš„å€¼è¿›è¡Œæ¯”è¾ƒã€‚ä»è€Œä¿è¯æŠ¥æ–‡å†…å®¹çš„å®Œæ•´æ€§ï¼Œä½†æ˜¯éœ€è¦æ³¨æ„çš„æ˜¯è¿™æ ·æ˜¯æ²¡æœ‰åŠæ³•çŸ¥é“æŠ¥æ–‡æ˜¯å¦è¢«ç¯¡æ”¹çš„ï¼Œå› ä¸ºå¦‚æœæŠ¥æ–‡å†…å®¹è¢«ç¯¡æ”¹çš„è¯ï¼Œé‚£ä¹ˆæŠ¥æ–‡çš„<code>MD5</code>ä¹Ÿä¸€æ ·å¯ä»¥è¢«ç¯¡æ”¹ã€‚</p></li><li><p><code>Expries(è¿‡æœŸ)</code>å‘Šè¯‰å®¢æˆ·ç«¯è¯¥èµ„æºçš„å¤±æ•ˆæ—¥æœŸã€‚å¦‚æœæ˜¯ç¼“å­˜æœåŠ¡å™¨çš„è¯ï¼Œåœ¨è¿™ä¸ªæ—¥æœŸä¹‹å‰ï¼Œèµ„æºçš„å‰¯æœ¬ä¸€ç›´ä¿å­˜ç€ï¼Œè¿‡äº†è¿™ä¸ªæ—¥æœŸä¹‹åå‘¢ï¼Œå°±ä¼šè½¬å‘æºæœåŠ¡å™¨è¯·æ±‚èµ„æºã€‚</p></li></ul><p><img src="https://cdn.jsdelivr.net/gh/JingWZeng/markdownImg/img/202109251410919.png" alt="image-20210925141034872"></p><ul><li><p><code>Last-Modified</code>èµ„æºçš„æœ€åä¿®æ”¹æ—¶é—´</p></li><li><p><code>Cookie</code></p></li></ul><p><img src="https://cdn.jsdelivr.net/gh/JingWZeng/markdownImg/img/202109251412001.png" alt="image-20210925141248958"></p><p><img src="https://cdn.jsdelivr.net/gh/JingWZeng/markdownImg/img/202109251413667.png" alt="image-20210925141309637"></p><blockquote><ol><li><p>expires ä¸æ˜¾ç¤ºæŒ‡å®šçš„è¯ï¼Œå°±æ˜¯ä¼šè¯çš„Cookieã€‚Cookieä¸€æ—¦è¢«å‘é€åˆ°å®¢æˆ·ç«¯ï¼ŒæœåŠ¡ç«¯æ˜¯æ²¡æœ‰åŠæ³•æ˜¾ç¤ºåˆ é™¤è¯¥Cookieçš„ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡è¦†ç›–è¿‡æœŸçš„Cookieï¼Œæ¥é—´æ¥çš„å¯¹å®¢æˆ·ç«¯çš„Cookieè¿›è¡Œåˆ é™¤</p></li><li><p>path æ”¶åˆ°cookieçš„æ–‡ä»¶ç›®å½•èŒƒå›´</p></li><li><p>domain æ¯”å¦‚ï¼Œå½“æŒ‡å®š <code>example.com</code> åï¼Œé™¤ <code>example.com</code> ä»¥å¤–ï¼Œ<code>www.example.com</code>æˆ– <code>www2.example.com</code> ç­‰éƒ½å¯ä»¥å‘é€ Cookie</p></li><li><p>HttpOnly æ— æ³•ä½¿ç”¨<code>document.cookie</code>æ‹¿åˆ°Cookieçš„å†…å®¹</p></li></ol></blockquote><h3 id="HTTPSçš„åŠ å¯†åŸç†"><a href="#HTTPSçš„åŠ å¯†åŸç†" class="headerlink" title="HTTPSçš„åŠ å¯†åŸç†"></a>HTTPSçš„åŠ å¯†åŸç†</h3><p><img src="https://cdn.jsdelivr.net/gh/JingWZeng/markdownImg/img/202109251433704.png" alt="image-20210925143346605"></p><p>ç®€å•æ¥è¯´å°±æ˜¯åˆ©ç”¨éå¯¹ç§°åŠ å¯†æ¥ä¼ è¾“å¯¹ç§°åŠ å¯†éœ€è¦ç”¨åˆ°çš„å¯†é’¥ã€‚è€Œè¯ä¹¦æœºæ„å°±æ˜¯ç”¨æ¥åˆ¤æ–­è¯¥æœåŠ¡å™¨æ˜¯æˆ‘æƒ³è¦è®¿é—®çš„é‚£ä¸ªæœåŠ¡å™¨ã€‚</p><h3 id="ç¡®è®¤è®¿é—®ç”¨æˆ·èº«ä»½çš„è®¤è¯"><a href="#ç¡®è®¤è®¿é—®ç”¨æˆ·èº«ä»½çš„è®¤è¯" class="headerlink" title="ç¡®è®¤è®¿é—®ç”¨æˆ·èº«ä»½çš„è®¤è¯"></a>ç¡®è®¤è®¿é—®ç”¨æˆ·èº«ä»½çš„è®¤è¯</h3><p><img src="https://cdn.jsdelivr.net/gh/JingWZeng/markdownImg/img/202109251450631.png" alt="image-20210925145036564"></p><p>æ­¥éª¤ 1ï¼šå®¢æˆ·ç«¯æŠŠç”¨æˆ·<code>ID</code>å’Œå¯†ç ç­‰ç™»å½•ä¿¡æ¯æ”¾å…¥æŠ¥æ–‡çš„å®ä½“éƒ¨åˆ†ï¼Œé€šå¸¸æ˜¯ä»¥<code>POST</code>æ–¹æ³•æŠŠè¯·æ±‚å‘é€ç»™æœåŠ¡å™¨ã€‚è€Œè¿™æ—¶ï¼Œä¼šä½¿ç”¨<code>HTTPS</code>é€šä¿¡æ¥è¿›è¡Œ<code>HTML</code>è¡¨å•ç”»é¢çš„æ˜¾ç¤ºå’Œç”¨æˆ·è¾“å…¥æ•°æ®çš„å‘é€ã€‚</p><p>æ­¥éª¤ 2ï¼šæœåŠ¡å™¨ä¼šå‘æ”¾ç”¨ä»¥è¯†åˆ«ç”¨æˆ·çš„<code>Session ID</code>ã€‚é€šè¿‡éªŒè¯ä»å®¢æˆ·ç«¯å‘é€è¿‡æ¥çš„ç™»å½•ä¿¡æ¯è¿›è¡Œèº«ä»½è®¤è¯ï¼Œç„¶åæŠŠç”¨æˆ·çš„è®¤è¯çŠ¶æ€ä¸<code>Session ID </code>ç»‘å®šåè®°å½•åœ¨æœåŠ¡å™¨ç«¯ã€‚å‘å®¢æˆ·ç«¯è¿”å›å“åº”æ—¶ï¼Œä¼šåœ¨é¦–éƒ¨å­—æ®µ <code>Set-Cookie</code> å†…å†™å…¥ <code>SessionID</code>ï¼ˆå¦‚PHPSESSID=028a8câ€¦ï¼‰ã€‚ä½ å¯ä»¥æŠŠ <code>Session ID</code> æƒ³è±¡æˆä¸€ç§ç”¨ä»¥åŒºåˆ†ä¸åŒç”¨æˆ·çš„ç­‰ä½å·ã€‚ç„¶è€Œï¼Œå¦‚æœ<code>Session ID</code>è¢«ç¬¬ä¸‰æ–¹ç›—èµ°ï¼Œå¯¹æ–¹å°±å¯ä»¥ä¼ªè£…æˆä½ çš„èº«ä»½è¿›è¡Œæ¶æ„æ“ä½œäº†ã€‚å› æ­¤å¿…é¡»é˜²æ­¢<code>Session ID</code>è¢«ç›—ï¼Œæˆ–è¢«çŒœå‡ºã€‚ä¸ºäº†åšåˆ°è¿™ç‚¹ï¼Œ<code>Session ID</code> åº”ä½¿ç”¨éš¾ä»¥æ¨æµ‹çš„å­—ç¬¦ä¸²ï¼Œä¸”æœåŠ¡å™¨ç«¯ä¹Ÿéœ€è¦è¿›è¡Œæœ‰æ•ˆæœŸçš„ç®¡ç†ï¼Œä¿è¯å…¶å®‰å…¨æ€§ã€‚å¦å¤–ï¼Œä¸ºå‡è½»è·¨ç«™è„šæœ¬æ”»å‡»ï¼ˆ<code>XSS</code>ï¼‰é€ æˆçš„æŸå¤±ï¼Œå»ºè®®äº‹å…ˆåœ¨<code>Cookie</code>å†…åŠ ä¸Š<code>httponly </code>å±æ€§ã€‚</p><p>æ­¥éª¤ 3ï¼šå®¢æˆ·ç«¯æ¥æ”¶åˆ°ä»æœåŠ¡å™¨ç«¯å‘æ¥çš„<code>Session ID</code>åï¼Œä¼šå°†å…¶ä½œä¸º<code>Cookie</code>ä¿å­˜åœ¨æœ¬åœ°ã€‚ä¸‹æ¬¡å‘æœåŠ¡å™¨å‘é€è¯·æ±‚æ—¶ï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨å‘é€<code>Cookie</code>ï¼Œæ‰€ä»¥<code>Session ID</code>ä¹Ÿéšä¹‹å‘é€åˆ°æœåŠ¡å™¨ã€‚æœåŠ¡å™¨ç«¯å¯é€šè¿‡éªŒè¯æ¥æ”¶åˆ°çš„<code>Session ID</code>è¯†åˆ«ç”¨æˆ·å’Œå…¶è®¤è¯çŠ¶æ€ã€‚</p><ul><li>è¿˜æœ‰ä¸€ç§æ–¹å¼æ˜¯åˆ©ç”¨â€åŠ ç›â€å¤„ç†,å¯†ç åŠ ç›<code>salt</code>ï¼Œç„¶åä½¿ç”¨æ•£åˆ—å‡½æ•°è®¡ç®—å‡ºæ•£åˆ—å€¼è¿›è¡Œä¿å­˜ã€‚<code>salt</code>å…¶å®å°±æ˜¯ç”±æœåŠ¡å™¨éšæœºç”Ÿæˆçš„ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä½†æ˜¯è¦ä¿è¯é•¿åº¦è¶³å¤Ÿé•¿ï¼Œå¹¶ä¸”æ˜¯çœŸæ­£éšæœºç”Ÿæˆçš„ã€‚ç„¶åæŠŠå®ƒå’Œå¯†ç å­—ç¬¦ä¸²ç›¸è¿æ¥ï¼ˆå‰åéƒ½å¯ä»¥ï¼‰ç”Ÿæˆæ•£åˆ—å€¼ã€‚å½“ä¸¤ä¸ªç”¨æˆ·ä½¿ç”¨äº†åŒä¸€ä¸ªå¯†ç æ—¶ï¼Œç”±äºéšæœºç”Ÿæˆçš„<code>salt</code>å€¼ä¸åŒï¼Œå¯¹åº”çš„æ•£åˆ—å€¼ä¹Ÿå°†æ˜¯ä¸åŒçš„ã€‚è¿™æ ·ä¸€æ¥ï¼Œå¾ˆå¤§ç¨‹åº¦ä¸Šå‡å°‘äº†å¯†ç ç‰¹å¾ï¼Œæ”»å‡»è€…ä¹Ÿå°±å¾ˆéš¾åˆ©ç”¨è‡ªå·±æ‰‹ä¸­çš„å¯†ç ç‰¹å¾åº“è¿›è¡Œç ´è§£</li></ul><h3 id="åŸºäºHTTPçš„åŠŸèƒ½è¿½åŠ åè®®"><a href="#åŸºäºHTTPçš„åŠŸèƒ½è¿½åŠ åè®®" class="headerlink" title="åŸºäºHTTPçš„åŠŸèƒ½è¿½åŠ åè®®"></a>åŸºäºHTTPçš„åŠŸèƒ½è¿½åŠ åè®®</h3><ol><li><code>AJax</code>å¼‚æ­¥æ›´æ–°</li><li><code>WebsScoket</code>å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ä¹‹é—´å»ºç«‹å…¨åŒå·¥çš„é€šä¿¡</li></ol><h3 id="Webçš„æ”»å‡»æŠ€æœ¯"><a href="#Webçš„æ”»å‡»æŠ€æœ¯" class="headerlink" title="Webçš„æ”»å‡»æŠ€æœ¯"></a>Webçš„æ”»å‡»æŠ€æœ¯</h3><ol><li>ä¸»åŠ¨æ”»å‡»ï¼Œæ”»å‡»çš„å¯¹è±¡æ˜¯æœåŠ¡å™¨çš„èµ„æºï¼Œä»£è¡¨çš„æœ‰<code>SQL</code>æ³¨å…¥æ”»å‡»å’Œ<code>OS</code>å‘½ä»¤æ³¨å…¥</li></ol><p><img src="https://cdn.jsdelivr.net/gh/JingWZeng/markdownImg/img/202109251507169.png" alt="image-20210925150757117"></p><ol start="2"><li>è¢«åŠ¨æ”»å‡»ï¼Œåˆ©ç”¨åœˆå¥—æ‰§è¡Œæ”»å‡»ä»£ç ã€‚æ¯”å¦‚<code>Xss</code></li></ol><p><img src="https://cdn.jsdelivr.net/gh/JingWZeng/markdownImg/img/202109251509357.png" alt="image-20210925150903303"></p><ul><li><p>è·¨ç«™è„šæœ¬æ”»å‡»ï¼ˆ<code>Cross-Site Scriptingï¼ŒXSS</code>ï¼‰æ˜¯æŒ‡é€šè¿‡å­˜åœ¨å®‰å…¨æ¼æ´çš„<code>Web</code>ç½‘ç«™æ³¨å†Œç”¨æˆ·çš„æµè§ˆå™¨å†…è¿è¡Œéæ³•çš„<code>HTML</code>æ ‡ç­¾æˆ–<code>JavaScript</code>è¿›è¡Œçš„ä¸€ç§æ”»å‡»ã€‚åŠ¨æ€åˆ›å»ºçš„HTMLä»£ç å¯èƒ½æ˜¯æ¶æ„çš„ã€‚</p></li><li><p><code>SQL</code>æ³¨å…¥æ”»å‡»ï¼šæ˜¯æŒ‡é’ˆå¯¹<code>Web</code>åº”ç”¨ä½¿ç”¨çš„æ•°æ®åº“ï¼Œé€šè¿‡è¿è¡Œéæ³•çš„<code>SQL</code>è€Œäº§ç”Ÿçš„æ”»å‡»ã€‚è¯¥å®‰å…¨éšæ‚£æœ‰å¯èƒ½å¼•å‘æå¤§çš„å¨èƒï¼Œæœ‰æ—¶ä¼šç›´æ¥å¯¼è‡´ä¸ªäººä¿¡æ¯åŠæœºå¯†ä¿¡æ¯çš„æ³„éœ²ã€‚</p></li><li><p><code>OS</code>å‘½ä»¤æ³¨å…¥æ”»å‡»ï¼ˆ<code>OS Command Injection</code>ï¼‰æ˜¯æŒ‡é€šè¿‡<code>Web</code>åº”ç”¨ï¼Œæ‰§è¡Œéæ³•çš„æ“ä½œç³»ç»Ÿå‘½ä»¤è¾¾åˆ°æ”»å‡»çš„ç›®çš„ã€‚åªè¦åœ¨èƒ½è°ƒç”¨<code>Shell</code>å‡½æ•°çš„åœ°æ–¹å°±æœ‰å­˜åœ¨è¢«æ”»å‡»çš„é£é™©ã€‚</p></li><li><p>è·¨ç«™ç‚¹è¯·æ±‚ä¼ªé€ ï¼ˆ<code>Cross-Site Request Forgeries</code>ï¼Œ<code>CSRF</code>ï¼‰æ”»å‡»æ˜¯æŒ‡æ”»å‡»è€…é€šè¿‡è®¾ç½®å¥½çš„é™·é˜±ï¼Œå¼ºåˆ¶å¯¹å·²å®Œæˆè®¤è¯çš„ç”¨æˆ·è¿›è¡Œéé¢„æœŸçš„ä¸ªäººä¿¡æ¯æˆ–è®¾å®šä¿¡æ¯ç­‰æŸäº›çŠ¶æ€æ›´æ–°ï¼Œå±äºè¢«åŠ¨æ”»å‡»</p></li></ul><p><img src="https://cdn.jsdelivr.net/gh/JingWZeng/markdownImg/img/202109251535087.png" alt="image-20210925153502013"></p><ul><li>å…¶ä»–</li></ul><ol><li>å¯†ç ç ´è§£: é¡¾åæ€ä¹‰</li><li>ç‚¹å‡»åŠ«æŒï¼šç‚¹å‡»åŠ«æŒï¼ˆ<code>Clickjacking</code>ï¼‰æ˜¯æŒ‡åˆ©ç”¨é€æ˜çš„æŒ‰é’®æˆ–é“¾æ¥åšæˆé™·é˜±ï¼Œè¦†ç›–åœ¨ <code>Web</code>é¡µé¢ä¹‹ä¸Šã€‚ç„¶åè¯±ä½¿ç”¨æˆ·åœ¨ä¸çŸ¥æƒ…çš„æƒ…å†µä¸‹ï¼Œç‚¹å‡»é‚£ä¸ªé“¾æ¥è®¿é—®å†…å®¹çš„ä¸€ç§æ”»å‡»æ‰‹æ®µã€‚è¿™ç§è¡Œä¸ºåˆç§°ä¸ºç•Œé¢ä¼ªè£…ï¼ˆ<code>UIRedressing</code>ï¼‰ã€‚</li><li><code>Dos</code>æ”»å‡»: å°±æ˜¯åˆ©ç”¨å¤§é‡è®¡ç®—æœºå¯¹ç½‘ç«™å‘èµ·è¯·æ±‚ï¼Œå¯¼è‡´æœåŠ¡å™¨å¤„ç†ä¸è¿‡æ¥åœæ­¢æ‰ã€‚å¤šå°è®¡ç®—æœºå‘èµ·çš„<code>DoS</code>æ”»å‡»å°±å«åš<code>DDoS</code>ã€‚</li><li>åé—¨ç¨‹åºï¼š åé—¨ç¨‹åºï¼ˆ<code>Backdoor</code>ï¼‰æ˜¯æŒ‡å¼€å‘è®¾ç½®çš„éšè—å…¥å£ï¼Œå¯ä¸æŒ‰æ­£å¸¸æ­¥éª¤ä½¿ç”¨å—é™åŠŸèƒ½ã€‚åˆ©ç”¨åé—¨ç¨‹åºå°±èƒ½å¤Ÿä½¿ç”¨åŸæœ¬å—é™åˆ¶çš„åŠŸèƒ½ã€‚</li></ol>]]></content>
      
      
      <categories>
          
          <category> HTTP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å‰ç«¯ </tag>
            
            <tag> HTTP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JSä¸­ä¸€äº›æ·±å…¥æ¦‚å¿µ</title>
      <link href="/2021/09/15/js-zhong-yi-xie-shen-ru-gai-nian/"/>
      <url>/2021/09/15/js-zhong-yi-xie-shen-ru-gai-nian/</url>
      
        <content type="html"><![CDATA[<h2 id="åŸå‹"><a href="#åŸå‹" class="headerlink" title="åŸå‹"></a>åŸå‹</h2><p>åŸå‹å¯¹è±¡(<code>Person.prototype</code>) æ˜¯é€šè¿‡<code>Object</code>æ„é€ å‡½æ•°ç”Ÿæˆçš„ï¼Œè€Œå®ä¾‹çš„<code>__proto__</code>æŒ‡å‘æ„é€ å‡½æ•°çš„<code>prototype</code>ã€‚è¿™å°±æ˜¯ä¸ºå•¥åŸå‹é“¾ä¸­æœ€åæŒ‡å‘çš„æ˜¯<code>Object</code>ã€‚<code>null</code>ä»£è¡¨æ²¡æœ‰å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯<code>null</code>åœ¨æ­¤å¤„è¡¨æ˜æ— åŸå‹ã€‚è“è‰²çš„çº¿å°±æ˜¯æ‰€è°“çš„åŸå‹é“¾</p><p><img src="https://cdn.jsdelivr.net/gh/JingWZeng/markdownImg/img/202109151017423.png" alt="prototype5"></p><p><em><strong>æ³¨æ„</strong></em></p><ul><li><code>constructor</code></li></ul><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token keyword">var</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>constructor <span class="token operator">===</span> Person<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span></code></pre><p>å½“è·å– <code>person.constructor </code>æ—¶ï¼Œå…¶å® <code>person </code>ä¸­å¹¶æ²¡æœ‰<code>constructor</code>å±æ€§,å½“ä¸èƒ½è¯»å–åˆ°<code>constructor</code> å±æ€§æ—¶ï¼Œä¼šä» <code>person</code>çš„åŸå‹ä¹Ÿå°±æ˜¯ <code>Person.prototype</code> ä¸­è¯»å–ï¼Œæ­£å¥½åŸå‹ä¸­æœ‰è¯¥å±æ€§ï¼Œæ‰€ä»¥ï¼š</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript">person<span class="token punctuation">.</span>constructor <span class="token operator">===</span> <span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor</code></pre><ul><li><code>__proto__</code></li></ul><p>ç»å¤§éƒ¨åˆ†æµè§ˆå™¨éƒ½æ”¯æŒè¿™ä¸ªéæ ‡å‡†çš„æ–¹æ³•è®¿é—®åŸå‹ï¼Œç„¶è€Œå®ƒå¹¶ä¸å­˜åœ¨äº <code>Person.prototype</code> ä¸­ï¼Œå®é™…ä¸Šï¼Œå®ƒæ˜¯æ¥è‡ªäº<code> Object.prototype</code> ï¼Œä¸å…¶è¯´æ˜¯ä¸€ä¸ªå±æ€§ï¼Œä¸å¦‚è¯´æ˜¯ä¸€ä¸ª <code>getter/setter</code>ï¼Œå½“ä½¿ç”¨<code> obj.__proto__</code>æ—¶ï¼Œå¯ä»¥ç†è§£æˆè¿”å›äº† <code>Object.getPrototypeOf(obj)</code>ã€‚</p><ul><li>ç»§æ‰¿å®è´¨</li></ul><p>æ¯ä¸€ä¸ªå¯¹è±¡éƒ½ä¼šä»åŸå‹â€ç»§æ‰¿â€å±æ€§ï¼Œå¼•ç”¨ã€Šä½ ä¸çŸ¥é“çš„JavaScriptã€‹ä¸­çš„è¯:</p><blockquote><p>ç»§æ‰¿æ„å‘³ç€å¤åˆ¶æ“ä½œï¼Œç„¶è€Œ<code>JavaScript</code>é»˜è®¤å¹¶ä¸ä¼šå¤åˆ¶å¯¹è±¡çš„å±æ€§ï¼Œç›¸åï¼Œ<code>JavaScript</code> åªæ˜¯åœ¨ä¸¤ä¸ªå¯¹è±¡ä¹‹é—´åˆ›å»ºä¸€ä¸ªå…³è”ï¼Œè¿™æ ·ï¼Œä¸€ä¸ªå¯¹è±¡å°±å¯ä»¥é€šè¿‡å§”æ‰˜è®¿é—®å¦ä¸€ä¸ªå¯¹è±¡çš„å±æ€§å’Œå‡½æ•°ï¼Œæ‰€ä»¥ä¸å…¶å«ç»§æ‰¿ï¼Œå§”æ‰˜çš„è¯´æ³•åè€Œæ›´å‡†ç¡®äº›ã€‚</p></blockquote><h2 id="è¯æ³•ä½œç”¨åŸŸ"><a href="#è¯æ³•ä½œç”¨åŸŸ" class="headerlink" title="è¯æ³•ä½œç”¨åŸŸ"></a>è¯æ³•ä½œç”¨åŸŸ</h2><p>å•¥å«ä½œç”¨åŸŸï¼Ÿä½œç”¨åŸŸè§„å®šäº†å¦‚ä½•æŸ¥æ‰¾å˜é‡ï¼Œä¹Ÿå°±æ˜¯ç¡®å®šå½“å‰æ‰§è¡Œä»£ç å¯¹å˜é‡çš„è®¿é—®æƒé™ã€‚</p><p><code>JavaScript</code>é‡‡ç”¨è¯æ³•ä½œç”¨åŸŸï¼Œä¹Ÿå°±æ˜¯é™æ€ä½œç”¨åŸŸï¼šå‡½æ•°çš„ä½œç”¨åŸŸåœ¨å‡½æ•°å®šä¹‰çš„æ—¶å€™å°±å†³å®šäº†ã€‚</p><p><strong>åŠ¨æ€ä½œç”¨åŸŸæ˜¯åœ¨å‡½æ•°è°ƒç”¨çš„æ—¶å€™æ‰å†³å®šçš„</strong></p><p>è¿™ä¸ªç‚¹æ˜¯ç»å¸¸çŸ¥é“ä½†æ˜¯åˆç»å¸¸æé”™çš„åœ°æ–¹ï¼Œæ—¶åˆ»è®°ä½å‡½æ•°åœ¨å“ªé‡Œè°ƒç”¨å¹¶ä¸é‡è¦ï¼Œé‡è¦çš„å‡½æ•°å®šä¹‰åœ¨å“ªé‡Œã€‚</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> value <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">var</span> value <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>    <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// ç»“æœæ˜¯ ??? 1</span></code></pre><p>å‡è®¾<code>JavaScript</code>é‡‡ç”¨é™æ€ä½œç”¨åŸŸï¼Œè®©æˆ‘ä»¬åˆ†æä¸‹æ‰§è¡Œè¿‡ç¨‹ï¼š</p><p>æ‰§è¡Œ<code> foo</code> å‡½æ•°ï¼Œå…ˆä»<code> foo</code> å‡½æ•°å†…éƒ¨æŸ¥æ‰¾æ˜¯å¦æœ‰å±€éƒ¨å˜é‡<code> value</code>ï¼Œå¦‚æœæ²¡æœ‰ï¼Œå°±æ ¹æ®ä¹¦å†™çš„ä½ç½®ï¼ŒæŸ¥æ‰¾ä¸Šé¢ä¸€å±‚çš„ä»£ç ï¼Œä¹Ÿå°±æ˜¯ <code>value</code> ç­‰äº 1ï¼Œæ‰€ä»¥ç»“æœä¼šæ‰“å° 1ã€‚</p><p>å‡è®¾JavaScripté‡‡ç”¨åŠ¨æ€ä½œç”¨åŸŸï¼Œè®©æˆ‘ä»¬åˆ†æä¸‹æ‰§è¡Œè¿‡ç¨‹ï¼š</p><p>æ‰§è¡Œ <code>foo</code> å‡½æ•°ï¼Œä¾ç„¶æ˜¯ä» <code>foo</code> å‡½æ•°å†…éƒ¨æŸ¥æ‰¾æ˜¯å¦æœ‰å±€éƒ¨å˜é‡<code> value</code>ã€‚å¦‚æœæ²¡æœ‰ï¼Œå°±ä»è°ƒç”¨å‡½æ•°çš„ä½œç”¨åŸŸï¼Œä¹Ÿå°±æ˜¯<code> bar</code> å‡½æ•°å†…éƒ¨æŸ¥æ‰¾<code> value</code> å˜é‡ï¼Œæ‰€ä»¥ç»“æœä¼šæ‰“å° 2ã€‚</p><p>å‰é¢æˆ‘ä»¬å·²ç»è¯´äº†ï¼Œ<code>JavaScript</code>é‡‡ç”¨çš„æ˜¯é™æ€ä½œç”¨åŸŸï¼Œæ‰€ä»¥è¿™ä¸ªä¾‹å­çš„ç»“æœæ˜¯ 1ã€‚</p><h2 id="æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆ"><a href="#æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆ" class="headerlink" title="æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆ"></a>æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆ</h2><p><strong><code>JavaScript</code>æ°¸è¿œéƒ½ä¸æ˜¯ç®€å•çš„é¡ºåºæ‰§è¡Œçš„</strong>ã€‚å½“æ‰§è¡Œä¸€ä¸ªå‡½æ•°çš„æ—¶å€™ï¼Œå°±ä¼šåˆ›å»ºä¸€ä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œå¹¶ä¸”æŠŠè¯¥æ‰§è¡Œä¸Šä¸‹æ–‡å‹å…¥æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆã€‚<code>JavaScript</code>åˆ›å»ºä¸€ä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡æ ˆæ¥ç®¡ç†æ‰€æœ‰çš„æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚é¡¾åæ€ä¹‰ï¼Œæ ˆæ•°æ®ç»“æ„å…ˆè¿›åå‡ºã€‚ä¸è¿‡ï¼Œé¦–å…ˆåšçš„æ˜¯æŠŠæ‰€æœ‰çš„å…¨å±€å˜é‡å‹å…¥æ ˆåº•ï¼Œå½“å‡½æ•°è°ƒç”¨ç»“æŸçš„æ—¶å€™ï¼Œè¯¥å…¨å±€å˜é‡ä¾æ—§è¿˜åœ¨æ ˆä¸­ã€‚</p><h2 id="å˜é‡å¯¹è±¡"><a href="#å˜é‡å¯¹è±¡" class="headerlink" title="å˜é‡å¯¹è±¡"></a>å˜é‡å¯¹è±¡</h2><p>æ¯ä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œéƒ½æœ‰ä¸‰ä¸ªé‡è¦å±æ€§ï¼š</p><ul><li>å˜é‡å¯¹è±¡(Variable Object,VO)</li><li>ä½œç”¨åŸŸé“¾(Scope chain)</li><li><code>this</code></li></ul><p>å˜é‡å¯¹è±¡æ˜¯ä¸æ‰§è¡Œä¸Šä¸‹æ–‡ç›¸å…³çš„æ•°æ®ä½œç”¨åŸŸï¼Œå­˜å‚¨äº†åœ¨ä¸Šä¸‹æ–‡ä¸­å®šä¹‰çš„å˜é‡å’Œå‡½æ•°å£°æ˜ã€‚åŒ…æ‹¬å…¨å±€ä¸Šä¸‹æ–‡çš„å˜é‡å¯¹è±¡å’Œå‡½æ•°ä¸Šä¸‹æ–‡çš„å˜é‡å¯¹è±¡ã€‚å…¨å±€ä¸Šä¸‹æ–‡çš„å˜é‡å¯¹è±¡æ²¡å•¥å¥½è¯´çš„ã€‚</p><p><strong>å‡½æ•°ä¸Šä¸‹æ–‡å˜é‡å¯¹è±¡</strong></p><p>æ‰§è¡Œä¸Šä¸‹æ–‡çš„æ‰§è¡Œè¿‡ç¨‹åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†</p><ol><li>è¿›å…¥æ‰§è¡Œä¸Šä¸‹æ–‡</li><li>ä»£ç æ‰§è¡Œ</li></ol><p>åœ¨å‡½æ•°ä¸Šä¸‹æ–‡ä¸­ï¼Œæœªè¿›å…¥æ‰§è¡Œé˜¶æ®µä¹‹å‰ï¼Œå˜é‡å¯¹è±¡(<code>VO</code>)ä¸­çš„å±æ€§éƒ½ä¸èƒ½è®¿é—®ï¼ä½†æ˜¯è¿›å…¥æ‰§è¡Œé˜¶æ®µä¹‹åï¼Œå˜é‡å¯¹è±¡(<code>VO</code>)è½¬å˜ä¸ºäº†æ´»åŠ¨å¯¹è±¡(<code>AO</code>)ï¼Œé‡Œé¢çš„å±æ€§éƒ½èƒ½è¢«è®¿é—®äº†ï¼Œç„¶åå¼€å§‹è¿›è¡Œæ‰§è¡Œé˜¶æ®µçš„æ“ä½œã€‚å®ƒä»¬å…¶å®éƒ½æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼Œåªæ˜¯å¤„äºæ‰§è¡Œä¸Šä¸‹æ–‡çš„ä¸åŒç”Ÿå‘½å‘¨æœŸã€‚</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">a</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>  <span class="token keyword">function</span> <span class="token function">c</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>  <span class="token keyword">var</span> <span class="token function-variable function">d</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>  b <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>è¿›å…¥æ‰§è¡Œä¸Šä¸‹æ–‡åï¼Œè¿™æ—¶å€™çš„<code>OA</code>åªåŒ…æ‹¬<code>Arguments</code>å¯¹è±¡ï¼Œå°±æ˜¯å‡½æ•°çš„å‚æ•°ã€‚</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token constant">AO</span> <span class="token operator">=</span> <span class="token punctuation">{</span>    arguments<span class="token operator">:</span> <span class="token punctuation">{</span>        <span class="token number">0</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>        length<span class="token operator">:</span> <span class="token number">1</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    a<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>    b<span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span>    c<span class="token operator">:</span> reference to <span class="token keyword">function</span> <span class="token function">c</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>    d<span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">}</span></code></pre><p>æ‰§è¡Œä»£ç çš„æ—¶å€™ï¼Œä¼šæŒ‰é¡ºåºæ‰§è¡Œï¼Œæ ¹æ®ä»£ç ï¼Œä¿®æ”¹å˜é‡å¯¹è±¡çš„å€¼</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token constant">AO</span> <span class="token operator">=</span> <span class="token punctuation">{</span>    arguments<span class="token operator">:</span> <span class="token punctuation">{</span>        <span class="token number">0</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>        length<span class="token operator">:</span> <span class="token number">1</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    a<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>    b<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>    c<span class="token operator">:</span> reference to <span class="token keyword">function</span> <span class="token function">c</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>    d<span class="token operator">:</span> reference to FunctionExpression <span class="token string">"d"</span><span class="token punctuation">}</span></code></pre><p><strong>ç»å…¸ä¾‹é¢˜</strong></p><pre class="language-javascript" data-language="javascript"><code class="language-javascript">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span> <span class="token comment">// æ‰§è¡Œä»£ç ä¹‹å‰ï¼Œå…ˆè¿›å…¥æ‰§è¡Œä¸Šä¸‹æ–‡</span><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token punctuation">}</span><span class="token keyword">var</span> foo<span class="token operator">=</span> <span class="token number">1</span><span class="token comment">// æ‰“å°å‡½æ•°ï¼Œè€Œä¸æ˜¯undefined</span></code></pre><blockquote><p>å› ä¸ºåœ¨è¿›å…¥æ‰§è¡Œä¸Šä¸‹æ–‡æ—¶ï¼Œé¦–å…ˆä¼šå¤„ç†å‡½æ•°å£°æ˜ï¼Œå…¶æ¬¡ä¼šå¤„ç†å˜é‡å£°æ˜ï¼Œå¦‚æœå˜é‡åç§°è·Ÿå·²ç»å£°æ˜çš„å½¢å¼å‚æ•°æˆ–å‡½æ•°ç›¸åŒï¼Œåˆ™å˜é‡å£°æ˜ä¸ä¼šå¹²æ‰°å·²ç»å­˜åœ¨çš„è¿™ç±»å±æ€§ã€‚</p></blockquote><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token constant">VO</span> <span class="token operator">=</span> <span class="token punctuation">{</span>    foo<span class="token operator">:</span> reference to <span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token operator">~</span>foo<span class="token operator">:</span><span class="token keyword">undefined</span><span class="token comment">// æ­¤å¤„ç–‘é—®: æ­¤å¤„å˜é‡å£°æ˜çš„fooæ˜¯å¦ä¿å­˜åœ¨VOä¸­;ä»¥ä½•ç§å½¢å¼ä¿å­˜</span><span class="token punctuation">}</span></code></pre><p> æ‰§è¡Œä»£ç <code>console.log(foo)</code>ï¼ŒæŸ¥æ‰¾åˆ°äº†<code>VO</code>ä¸­çš„<code>foo</code>ï¼Œè¾“å‡ºç»“æœã€‚æ¥ç€æ‰§è¡Œ<code>foo=1</code>,æ‰§è¡Œå</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token constant">VO</span><span class="token operator">=</span><span class="token punctuation">{</span>    foo<span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">}</span></code></pre><h2 id="å‚æ•°æŒ‰å€¼ä¼ é€’"><a href="#å‚æ•°æŒ‰å€¼ä¼ é€’" class="headerlink" title="å‚æ•°æŒ‰å€¼ä¼ é€’"></a>å‚æ•°æŒ‰å€¼ä¼ é€’</h2><blockquote><p><code>ECMAScript</code>ä¸­æ‰€æœ‰çš„å‡½æ•°çš„å‚æ•°éƒ½æ˜¯æŒ‰å€¼ä¼ é€’çš„</p></blockquote><p> å•¥å«æŒ‰å€¼ä¼ é€’å‘¢ï¼Ÿ</p><blockquote><p>ä¹Ÿå°±æ˜¯è¯´ï¼ŒæŠŠå‡½æ•°å¤–éƒ¨çš„å€¼å¤åˆ¶ç»™å‡½æ•°å†…éƒ¨çš„å‚æ•°ï¼Œå°±å’ŒæŠŠå€¼ä»ä¸€ä¸ªå˜é‡å¤åˆ¶åˆ°å¦å¤–ä¸€ä¸ªå˜é‡ä¸€æ ·</p></blockquote><p>ä¸¾ä¸ªç®€å•çš„ä¾‹å­ï¼š</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> value <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">v</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    v <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//2}foo(value);console.log(value) // 1</span></code></pre><p>å¾ˆå¥½ç†è§£ï¼Œå½“ä¼ é€’ <code>value</code>åˆ°å‡½æ•°<code>foo</code>ä¸­ï¼Œç›¸å½“äºæ‹·è´äº†ä¸€ä»½ <code>value</code>ï¼Œå‡è®¾æ‹·è´çš„è¿™ä»½å« <code>_value</code>ï¼Œå‡½æ•°ä¸­ä¿®æ”¹çš„éƒ½æ˜¯ <code>_value</code>çš„å€¼ï¼Œè€Œä¸ä¼šå½±å“åŸæ¥çš„ <code>value </code>å€¼ã€‚</p><p>ç–‘é—®ï¼šéš¾é“å¯¹è±¡ä¹Ÿæ˜¯æŒ‰å€¼ä¼ é€’çš„å—ï¼Ÿå¯¹è±¡ä¸åº”è¯¥æ˜¯å¼•ç”¨ä¼ é€’å—ï¼Ÿé€šè¿‡ä¼ é€’ä¸€ä¸ªæŒ‡å‘è¯¥å¯¹è±¡çš„æŒ‡é’ˆ(åœ°å€)ï¼Œå¤–éƒ¨ä¿®æ”¹å’Œå‡½æ•°å†…éƒ¨ä¿®æ”¹éƒ½å¯ä»¥ç›´æ¥å½±å“åˆ°è¯¥å¯¹è±¡å€¼çš„å˜åŒ–ï¼Ÿç­”æ¡ˆæ˜¯é”™è¯¯çš„ï¼Œå¯¹è±¡ä¹Ÿæ˜¯æŒ‰å€¼ä¼ é€’ã€‚ä¸è¿‡è¿™ç§â€æŒ‰å€¼ä¼ é€’â€™â€™æ˜¯ç‰¹æ®Šçš„,ä¹Ÿæ˜¯ç‰¹æ®Šçš„å¼•ç”¨ä¼ é€’ï¼Œå«åšå…±äº«ä¼ é€’ã€‚<strong>å¼•ç”¨ä¼ é€’æ˜¯ä¼ é€’å¯¹è±¡çš„å¼•ç”¨ï¼Œä½†æ˜¯å…±äº«ä¼ é€’æ˜¯ä¼ é€’å¯¹è±¡çš„å¼•ç”¨çš„å‰¯æœ¬</strong>ï¼Œæ‹·è´ä¸€ä»½å¼•ç”¨å‡ºæ¥ç»™å‚æ•°ã€‚è¿™æ ·åœ¨å‡½æ•°é‡Œé¢ä¿®æ”¹è¯¥å‚æ•°çš„å±æ€§å€¼ï¼Œå¹¶ä¸ä¼šæ”¹å˜æºå¯¹è±¡é‡Œé¢çš„å±æ€§å€¼ã€‚</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>    value<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">o</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    o <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//2}foo(obj);console.log(obj.value) // 1</span></code></pre><h2 id="ç±»æ•°ç»„"><a href="#ç±»æ•°ç»„" class="headerlink" title="ç±»æ•°ç»„"></a>ç±»æ•°ç»„</h2><p><strong>ç±»æ•°ç»„ä¸å¯ä»¥ä½¿ç”¨æ•°ç»„çš„æ–¹æ³•</strong>ã€‚æ³¨æ„æ•°ç»„æ–¹æ³•<code>splice</code>å’Œ<code>slice</code>,<code>splice</code>æ”¹å˜åŸæ•°ç»„ï¼Œ<code>slice</code>ä¸æ”¹å˜åŸæ•°ç»„</p><blockquote><p>é—´æ¥è°ƒç”¨æ•°æ–¹æ³•</p></blockquote><pre class="language-javas" data-language="javas"><code class="language-javas">var arrayLike = {0: 'name', 1: 'age', 2: 'sex', length: 3 }Array.prototype.join.call(arrayLike, '&amp;'); // name&amp;age&amp;sexArray.prototype.slice.call(arrayLike, 0); // ["name", "age", "sex"] // sliceå¯ä»¥åšåˆ°ç±»æ•°ç»„è½¬æ•°ç»„Array.prototype.map.call(arrayLike, function(item){    return item.toUpperCase();}); // ["NAME", "AGE", "SEX"]</code></pre><blockquote><p>ç±»æ•°ç»„è½¬æ•°ç»„</p></blockquote><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> arrayLike <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token operator">:</span> <span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token operator">:</span> <span class="token string">'age'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token operator">:</span> <span class="token string">'sex'</span><span class="token punctuation">,</span> length<span class="token operator">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token comment">// 1. slice</span><span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arrayLike<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ["name", "age", "sex"] </span><span class="token comment">// 2. splice</span><span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arrayLike<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ["name", "age", "sex"] </span><span class="token comment">// 3. ES6 Array.from</span>Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>arrayLike<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ["name", "age", "sex"] </span><span class="token comment">// 4. apply</span><span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> arrayLike<span class="token punctuation">)</span><span class="token comment">// 5.es6çš„...</span><span class="token keyword">function</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>arguments</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1, 2, 3]</span><span class="token punctuation">}</span><span class="token function">func</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><code>arguments</code>å¯¹è±¡çš„<code>length</code>å±æ€§å€¼çš„æ˜¯å®å‚çš„é•¿åº¦ï¼Œè€Œä¸æ˜¯å½¢å‚çš„é•¿åº¦ã€‚<code>callee</code>å±æ€§å¯ä»¥è°ƒç”¨å‡½æ•°è‡ªèº«ã€‚</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token punctuation">(</span>     data<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span>       <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>       console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arguments<span class="token punctuation">.</span>callee<span class="token punctuation">.</span>xxx<span class="token punctuation">)</span>     <span class="token punctuation">}</span><span class="token punctuation">)</span>    <span class="token punctuation">.</span>xxx <span class="token operator">=</span> i<span class="token punctuation">;</span><span class="token punctuation">}</span>data<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>data<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>data<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 0</span><span class="token comment">// 1</span><span class="token comment">// 2</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
          <category> JS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å‰ç«¯ </tag>
            
            <tag> JS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é˜²æŠ–</title>
      <link href="/2021/09/15/fang-dou/"/>
      <url>/2021/09/15/fang-dou/</url>
      
        <content type="html"><![CDATA[<h2 id="é˜²æŠ–"><a href="#é˜²æŠ–" class="headerlink" title="é˜²æŠ–"></a>é˜²æŠ–</h2><blockquote><p>ä½ å°½ç®¡è§¦å‘äº‹ä»¶ï¼Œä½†æ˜¯æˆ‘ä¸€å®šåœ¨äº‹ä»¶è§¦å‘ n ç§’åæ‰æ‰§è¡Œï¼Œå¦‚æœä½ åœ¨ä¸€ä¸ªäº‹ä»¶è§¦å‘çš„ n ç§’å†…åˆè§¦å‘äº†è¿™ä¸ªäº‹ä»¶ï¼Œé‚£æˆ‘å°±ä»¥æ–°çš„äº‹ä»¶çš„æ—¶é—´ä¸ºå‡†ï¼Œn ç§’åæ‰æ‰§è¡Œï¼Œæ€»ä¹‹ï¼Œå°±æ˜¯è¦ç­‰ä½ è§¦å‘å®Œäº‹ä»¶ n ç§’å†…ä¸å†è§¦å‘äº‹ä»¶ï¼Œæˆ‘æ‰æ‰§è¡Œ</p></blockquote><p>è§£å†³ä¸¤ä¸ªé—®é¢˜ï¼š</p><ol><li><code>this</code>çš„æŒ‡å‘</li><li><code>event</code>å¯¹è±¡</li></ol><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> count <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">var</span> container <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'container'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token function">getUserAction</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>    container<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> count<span class="token operator">++</span><span class="token punctuation">;</span>    <span class="token comment">//console.log(this) //  æ­¤æ—¶çš„thisæŒ‡å‘çš„window,æœ¬æ¥åº”è¯¥æ˜¯&lt;div id="container"&gt;&lt;/div&gt;</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment">// container.onmousemove = getUserAction;</span>container<span class="token punctuation">.</span>onmousemove <span class="token operator">=</span> <span class="token function">debounce</span><span class="token punctuation">(</span>getUserAction<span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token keyword">function</span> <span class="token function">debounce</span><span class="token punctuation">(</span><span class="token parameter">func<span class="token punctuation">,</span>wait</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">var</span> timeout    <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token comment">// ä¿®å¤thisæŒ‡å‘</span>        <span class="token keyword">var</span> that <span class="token operator">=</span> <span class="token keyword">this</span>        <span class="token comment">// ä¿®å¤eventå¯¹è±¡</span>        <span class="token keyword">var</span> args <span class="token operator">=</span> arguments        <span class="token comment">//å…ˆæ¸…é™¤æ‰ä¹‹å‰çš„å®šæ—¶å™¨</span>        <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timeout<span class="token punctuation">)</span>        <span class="token comment">//è®¾ç½®å®šæ—¶å™¨ï¼Œwaitç§’ä¹‹åæ‰§è¡Œ</span>        timeout <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token function">func</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>that<span class="token punctuation">,</span>args<span class="token punctuation">)</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>wait<span class="token punctuation">)</span>    <span class="token punctuation">}</span> <span class="token punctuation">}</span></code></pre><p><strong>éœ€æ±‚1-ç«‹åˆ»æ‰§è¡Œ</strong></p><p>ä¸å¸Œæœ›äº‹ä»¶åœæ­¢è§¦å‘ä¹‹åæ‰æ‰§è¡Œï¼Œè€Œæ˜¯å¸Œæœ›ç«‹åˆ»æ‰§è¡Œå‡½æ•°ï¼Œç„¶åç­‰åˆ°åœæ­¢è§¦å‘nç§’ä¹‹åï¼Œæ‰å¯ä»¥é‡æ–°æ‰§è¡Œã€‚ç®€å•ï¼Œåªéœ€è¦åŠ ä¸€ä¸ªåˆ¤æ–­ï¼Œæ˜¯ä¸æ˜¯ç«‹åˆ»æ‰§è¡Œã€‚</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> count <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">var</span> container <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'container'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token function">getUserAction</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>    container<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> count<span class="token operator">++</span><span class="token punctuation">;</span>    <span class="token comment">//console.log(this) //  æ­¤æ—¶çš„thisæŒ‡å‘çš„window,æœ¬æ¥åº”è¯¥æ˜¯&lt;div id="container"&gt;&lt;/div&gt;</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment">// container.onmousemove = getUserAction;</span>container<span class="token punctuation">.</span>onmousemove <span class="token operator">=</span> <span class="token function">debounce</span><span class="token punctuation">(</span>getUserAction<span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token keyword">function</span> <span class="token function">debounce</span><span class="token punctuation">(</span><span class="token parameter">func<span class="token punctuation">,</span>wait<span class="token punctuation">,</span>immediate</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">var</span> timeout    <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token comment">// ä¿®å¤thisæŒ‡å‘</span>        <span class="token keyword">var</span> that <span class="token operator">=</span> <span class="token keyword">this</span>        <span class="token comment">// ä¿®å¤eventå¯¹è±¡</span>        <span class="token keyword">var</span> args <span class="token operator">=</span> arguments        <span class="token keyword">if</span><span class="token punctuation">(</span>timeout<span class="token punctuation">)</span> <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timeout<span class="token punctuation">)</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>immediate<span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">// -&gt;åˆ¤æ–­æ˜¯ä¸æ˜¯ç«‹åˆ»æ‰§è¡Œçš„</span>            <span class="token comment">// å¦‚æœå·²ç»æ‰§è¡Œè¿‡ï¼Œä¸å†æ‰§è¡Œ</span>            <span class="token keyword">var</span> callNow <span class="token operator">=</span> <span class="token operator">!</span>timeout            timeout <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                timeout <span class="token operator">=</span> <span class="token keyword">null</span>            <span class="token punctuation">}</span><span class="token punctuation">,</span>wait<span class="token punctuation">)</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>callNow<span class="token punctuation">)</span> <span class="token function">func</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>that<span class="token punctuation">,</span>args<span class="token punctuation">)</span>        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>            <span class="token comment">//è®¾ç½®å®šæ—¶å™¨ï¼Œwaitç§’ä¹‹åæ‰§è¡Œ</span>        timeout <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token function">func</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>that<span class="token punctuation">,</span>args<span class="token punctuation">)</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>wait<span class="token punctuation">)</span>        <span class="token punctuation">}</span>       <span class="token comment">// + return result // 111</span>    <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token comment">/**å¦‚æœgetUserActionæœ‰è¿”å›å€¼çš„è¯ï¼Œå½“immediateä¸ºfalseçš„æ—¶å€™ï¼Œå› ä¸ºä½¿ç”¨äº†å®šæ—¶å™¨åˆä¸æ˜¯ç«‹åˆ»æ‰§è¡Œï¼Œæˆ‘ä»¬éœ€è¦å°†func.apply(that,args)çš„è¿”å›å€¼èµ‹ç»™å˜é‡ï¼Œæœ€åreturnçš„æ—¶å€™ï¼Œå€¼æ˜¯undefinedï¼Œæ‰€ä»¥æˆ‘ä»¬åªåœ¨immediateä¸ºtrueçš„æ—¶å€™è¿”å›å‡½æ•°çš„ç»“æœ           - var timeout           + var timeout,result           - if(callNow) func.apply(that,args)           + if(callNow)  result = func.apply(that,args)           + return result // 111*/</span></code></pre><p><strong>éœ€æ±‚2-å–æ¶ˆé˜²æŠ–</strong></p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">debounce</span><span class="token punctuation">(</span><span class="token parameter">func<span class="token punctuation">,</span> wait<span class="token punctuation">,</span> immediate</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">var</span> timeout<span class="token punctuation">,</span> result<span class="token punctuation">;</span>    <span class="token keyword">var</span> <span class="token function-variable function">debounced</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">var</span> context <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>        <span class="token keyword">var</span> args <span class="token operator">=</span> arguments<span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>timeout<span class="token punctuation">)</span> <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timeout<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>immediate<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token comment">// å¦‚æœå·²ç»æ‰§è¡Œè¿‡ï¼Œä¸å†æ‰§è¡Œ</span>            <span class="token keyword">var</span> callNow <span class="token operator">=</span> <span class="token operator">!</span>timeout<span class="token punctuation">;</span>            timeout <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                timeout <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span><span class="token punctuation">,</span> wait<span class="token punctuation">)</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>callNow<span class="token punctuation">)</span> result <span class="token operator">=</span> <span class="token function">func</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> args<span class="token punctuation">)</span>        <span class="token punctuation">}</span>        <span class="token keyword">else</span> <span class="token punctuation">{</span>            timeout <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                <span class="token function">func</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> args<span class="token punctuation">)</span>            <span class="token punctuation">}</span><span class="token punctuation">,</span> wait<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> result<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">;</span>    debounced<span class="token punctuation">.</span><span class="token function-variable function">cancel</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timeout<span class="token punctuation">)</span><span class="token punctuation">;</span>        timeout <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> debounced<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
          <category> JS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å‰ç«¯ </tag>
            
            <tag> JS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>call/apply/bind/newæ¨¡æ‹Ÿå®ç°</title>
      <link href="/2021/09/15/call-apply-bind-new-mo-ni-shi-xian/"/>
      <url>/2021/09/15/call-apply-bind-new-mo-ni-shi-xian/</url>
      
        <content type="html"><![CDATA[<h2 id="callçš„æ¨¡æ‹Ÿå®ç°"><a href="#callçš„æ¨¡æ‹Ÿå®ç°" class="headerlink" title="callçš„æ¨¡æ‹Ÿå®ç°"></a>callçš„æ¨¡æ‹Ÿå®ç°</h2><p><strong>æ¨¡æ‹Ÿæ€è·¯</strong></p><ol><li><code>call</code>æ”¹å˜äº†<code>this</code>çš„æŒ‡å‘ï¼ŒæŒ‡å‘åˆ°<code>foo</code></li><li><code>bar</code>å‡½æ•°æ‰§è¡Œäº†</li></ol><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> foo <span class="token operator">=</span> <span class="token punctuation">{</span>    value<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token function">bar</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span></code></pre><p>ä¸Šé¢å¯ä»¥ç”¨ç±»ä¼¼é€»è¾‘å®ç°</p><ol><li>å°†å‡½æ•°è®¾ç½®ä¸ºå¯¹è±¡çš„å±æ€§</li><li>æ‰§è¡Œè¯¥å‡½æ•°</li><li>åˆ é™¤è¯¥å±æ€§(å‡½æ•°)</li></ol><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">call2</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">context</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// é¦–å…ˆè¦è·å–è°ƒç”¨callçš„å‡½æ•°ï¼Œç”¨thiså¯ä»¥è·å–ï¼Œå°±æ˜¯fooå‡½æ•°</span>    context<span class="token punctuation">.</span>fn <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>    context<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">delete</span> context<span class="token punctuation">.</span>fn<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// æµ‹è¯•ä¸€ä¸‹</span><span class="token keyword">var</span> foo <span class="token operator">=</span> <span class="token punctuation">{</span>    value<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>bar<span class="token punctuation">.</span><span class="token function">call2</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span></code></pre><p><strong>æœ€ç»ˆç‰ˆæœ¬</strong></p><p>åŠ äº†ä¸‰ä¸ªä¸œè¥¿ï¼š</p><ul><li>å‚æ•°</li><li><code>this</code>å‚æ•°å¯ä»¥ä¼ <code>null</code>, æ­¤æ—¶æŒ‡å‘çš„æ˜¯<code>window</code></li><li>å‡½æ•°å¯ä»¥æœ‰è¿”å›å€¼çš„</li></ul><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">call2</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">context</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">var</span> context <span class="token operator">=</span> context <span class="token operator">||</span> window    context<span class="token punctuation">.</span>fn <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>    <span class="token keyword">var</span> args <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> len <span class="token operator">=</span> arguments<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        args<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'arguments['</span> <span class="token operator">+</span> i <span class="token operator">+</span> <span class="token string">']'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment">//console.log(arguments[1]) // kevin </span>    <span class="token comment">//å°†æ•°ç»„çš„å¤šä¸ªå…ƒç´ ä½œä¸ºå‚æ•°æ”¾è¿›å‡½æ•°çš„å‚æ•°é‡Œé¢</span>    <span class="token comment">//eval ä¼šæŠŠé‡Œé¢çš„å­—ç¬¦ä¸²è§£ææˆJavaScriptä»£ç è¿›è¡Œæ‰§è¡Œ</span>    <span class="token comment">//ç›¸å½“äº eval('context.fn(arguments[1],arguments[2])')  ===&gt; è§£ææˆ                  //context.fn(arguments[1],arguments[2])</span>    <span class="token comment">//args æ˜¯æ•°ç»„ï¼Œä¸‹é¢è¿™ä¸ªè¯­å¥ä¼šè‡ªåŠ¨è°ƒç”¨ toStringçš„æ–¹æ³•</span>    <span class="token comment">//console.log(args.toString()) // 'arguments[1],arguments[2]'</span>    <span class="token keyword">var</span> result <span class="token operator">=</span>   <span class="token function">eval</span><span class="token punctuation">(</span><span class="token string">'context.fn('</span> <span class="token operator">+</span> args <span class="token operator">+</span><span class="token string">')'</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>     <span class="token comment">//console.log(result) // { value: 1, name: 'kevin', age: 18 } è¿”å›å€¼</span>    <span class="token keyword">delete</span> context<span class="token punctuation">.</span>fn<span class="token punctuation">;</span>    <span class="token keyword">return</span> result<span class="token punctuation">}</span><span class="token comment">// æµ‹è¯•ä¸€ä¸‹</span><span class="token keyword">var</span> foo <span class="token operator">=</span> <span class="token punctuation">{</span>    value<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span><span class="token punctuation">{</span>        value<span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">,</span>        name<span class="token operator">:</span>name<span class="token punctuation">,</span>        age<span class="token operator">:</span>age    <span class="token punctuation">}</span><span class="token punctuation">}</span>bar<span class="token punctuation">.</span><span class="token function">call2</span><span class="token punctuation">(</span>foo<span class="token punctuation">,</span> <span class="token string">'kevin'</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// kevin</span><span class="token comment">// 18</span><span class="token comment">// 1</span></code></pre><h2 id="applyçš„æ¨¡æ‹Ÿå®ç°"><a href="#applyçš„æ¨¡æ‹Ÿå®ç°" class="headerlink" title="applyçš„æ¨¡æ‹Ÿå®ç°"></a>applyçš„æ¨¡æ‹Ÿå®ç°</h2><p><code>apply</code>å’Œ<code>call</code>ä½œç”¨å®Œå…¨ä¸€æ ·çš„ï¼Œåªä¸è¿‡ä¼ å‚æ•°ä¸åŒã€‚<code>apply </code>æ–¹æ³•ä¼ å…¥ä¸¤ä¸ªå‚æ•°ï¼šä¸€ä¸ªæ˜¯ä½œä¸ºå‡½æ•°ä¸Šä¸‹æ–‡çš„å¯¹è±¡ï¼Œå¦å¤–ä¸€ä¸ªæ˜¯ä½œä¸ºå‡½æ•°å‚æ•°æ‰€ç»„æˆçš„æ•°ç»„ã€‚<code>call </code>æ–¹æ³•ç¬¬ä¸€ä¸ªå‚æ•°ä¹Ÿæ˜¯ä½œä¸ºå‡½æ•°ä¸Šä¸‹æ–‡çš„å¯¹è±¡ï¼Œä½†æ˜¯åé¢ä¼ å…¥çš„æ˜¯ä¸€ä¸ªå‚æ•°åˆ—è¡¨ï¼Œè€Œä¸æ˜¯å•ä¸ªæ•°ç»„ã€‚</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">apply2</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">context<span class="token punctuation">,</span> arr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">var</span> context <span class="token operator">=</span> <span class="token function">Object</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span> <span class="token operator">||</span> window<span class="token punctuation">;</span>   <span class="token comment">// console.log(context) // {value:1} Object(context)-&gt;æ•°ç»„è½¬æˆå¯¹è±¡</span>    context<span class="token punctuation">.</span>fn <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>    <span class="token keyword">var</span> result<span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>        result <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">else</span> <span class="token punctuation">{</span>        <span class="token keyword">var</span> args <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> len <span class="token operator">=</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            args<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'arr['</span> <span class="token operator">+</span> i <span class="token operator">+</span> <span class="token string">']'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        result <span class="token operator">=</span> <span class="token function">eval</span><span class="token punctuation">(</span><span class="token string">'context.fn('</span> <span class="token operator">+</span> args <span class="token operator">+</span> <span class="token string">')'</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span>    <span class="token comment">// console.log(result) // { value: 1, name: 'k', age: 'e' } è¿”å›å€¼</span>    <span class="token keyword">delete</span> context<span class="token punctuation">.</span>fn    <span class="token keyword">return</span> result<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// æµ‹è¯•ä¸€ä¸‹</span><span class="token keyword">var</span> foo <span class="token operator">=</span> <span class="token punctuation">{</span>    value<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span><span class="token punctuation">{</span>        value<span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">,</span>        name<span class="token operator">:</span>name<span class="token punctuation">,</span>        age<span class="token operator">:</span>age    <span class="token punctuation">}</span><span class="token punctuation">}</span>bar<span class="token punctuation">.</span><span class="token function">apply2</span><span class="token punctuation">(</span>foo<span class="token punctuation">,</span> <span class="token string">'kevin'</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// kevin</span><span class="token comment">// 18</span><span class="token comment">// 1</span></code></pre><h2 id="bindçš„æ¨¡æ‹Ÿå®ç°"><a href="#bindçš„æ¨¡æ‹Ÿå®ç°" class="headerlink" title="bindçš„æ¨¡æ‹Ÿå®ç°"></a>bindçš„æ¨¡æ‹Ÿå®ç°</h2><ul><li>è¿”å›ä¸€ä¸ªå‡½æ•°</li><li>å¯ä»¥ä¼ å…¥å‚æ•°ï¼Œ<code>bind</code>ç»‘å®šçš„æ—¶å€™å¯ä»¥ä¼ ï¼Œè¿”å›çš„å‡½æ•°åœ¨<code>bind</code>ç»‘å®šå‚æ•°çš„åé¢æ¥ç€ä¼ </li><li>å½“<code>bind</code>è¿”å›çš„å‡½æ•°æ˜¯æ„é€ å‡½æ•°çš„æ—¶å€™ï¼Œ<code>bind</code>æŒ‡å®šçš„<code>this</code>å°±ä¼šæ— æ•ˆï¼Œä½†æ˜¯ä¼ å…¥çš„å‚æ•°ä¾æ—§æœ‰æ•ˆ</li></ul><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">bind2</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">context</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token keyword">this</span> <span class="token operator">!==</span> <span class="token string">"function"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">"Function.prototype.bind - what is trying to be bound is not callable"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">var</span> self <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>    <span class="token comment">//  ç»‘å®šbindçš„æ—¶å€™ï¼Œä¼ è¿›å»çš„å‚æ•°</span>    <span class="token keyword">var</span> args <span class="token operator">=</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arguments<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// console.log(args) // [ 'daisy', 'man' ]</span>    <span class="token keyword">var</span> fNOP <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>  <span class="token comment">// ä¸­è½¬ ï¼Œé¿å…ç›´æ¥ä¿®æ”¹ç»‘å®šå‡½æ•°çš„prototype</span>    <span class="token keyword">var</span> <span class="token function-variable function">fBound</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">// è¿™ä¸ªæ—¶å€™çš„argumentsæ˜¯æ‰§è¡Œå‡½æ•°çš„æ—¶å€™ä¼ è¿›å»çš„å‚æ•°</span>        <span class="token comment">// console.log(bindArgs) // [ '18' ]</span>        <span class="token keyword">var</span> bindArgs <span class="token operator">=</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// å½“ä½œä¸ºæ„é€ å‡½æ•°æ—¶ï¼Œthis æŒ‡å‘å®ä¾‹ï¼Œæ­¤æ—¶ç»“æœä¸º trueï¼Œå°†ç»‘å®šå‡½æ•°çš„ this æŒ‡å‘è¯¥å®ä¾‹ï¼Œå¯ä»¥è®©å®ä¾‹è·å¾—æ¥è‡ªç»‘å®šå‡½æ•°çš„å€¼</span>        <span class="token comment">// ä»¥ä¸Šé¢çš„æ˜¯ demo ä¸ºä¾‹ï¼Œå¦‚æœæ”¹æˆ `this instanceof fBound ? null : context`ï¼Œå®ä¾‹åªæ˜¯ä¸€ä¸ªç©ºå¯¹è±¡ï¼Œå°† null æ”¹æˆ this ï¼Œå®ä¾‹ä¼šå…·æœ‰ habit å±æ€§</span>        <span class="token comment">// å½“ä½œä¸ºæ™®é€šå‡½æ•°æ—¶ï¼Œthis æŒ‡å‘ windowï¼Œæ­¤æ—¶ç»“æœä¸º falseï¼Œå°†ç»‘å®šå‡½æ•°çš„ this æŒ‡å‘ context</span>        <span class="token keyword">return</span> <span class="token function">self</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token keyword">instanceof</span> <span class="token class-name">fNOP</span> <span class="token operator">?</span> <span class="token keyword">this</span> <span class="token operator">:</span> context<span class="token punctuation">,</span> args<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>bindArgs<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment">// ä¿®æ”¹è¿”å›å‡½æ•°çš„ prototype ä¸ºç»‘å®šå‡½æ•°çš„ prototypeï¼Œå®ä¾‹å°±å¯ä»¥ç»§æ‰¿ç»‘å®šå‡½æ•°çš„åŸå‹ä¸­çš„å€¼</span>    <span class="token comment">// åŸï¼šfBound.prototype = self.prototype;</span>    <span class="token comment">// ç°</span>    fNOP<span class="token punctuation">.</span>prototype <span class="token operator">=</span> self<span class="token punctuation">.</span>prototype    fBound<span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">fNOP</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> fBound<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">var</span> foo <span class="token operator">=</span> <span class="token punctuation">{</span>    value<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age<span class="token punctuation">,</span>sex</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// console.log(this.value);</span>    <span class="token comment">// console.log(name);</span>    <span class="token comment">// console.log(age);</span><span class="token punctuation">}</span><span class="token keyword">var</span> bindFoo <span class="token operator">=</span> bar<span class="token punctuation">.</span><span class="token function">bind2</span><span class="token punctuation">(</span>foo<span class="token punctuation">,</span> <span class="token string">'daisy'</span><span class="token punctuation">,</span><span class="token string">'man'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">bindFoo</span><span class="token punctuation">(</span><span class="token string">'18'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 1</span><span class="token comment">// daisy</span><span class="token comment">// 18</span></code></pre><h2 id="newæ¨¡æ‹Ÿå®ç°"><a href="#newæ¨¡æ‹Ÿå®ç°" class="headerlink" title="newæ¨¡æ‹Ÿå®ç°"></a>newæ¨¡æ‹Ÿå®ç°</h2><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">Otaku</span> <span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>habit <span class="token operator">=</span> <span class="token string">'Games'</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token string">'something'</span><span class="token punctuation">}</span><span class="token class-name">Otaku</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>strength <span class="token operator">=</span> <span class="token number">60</span><span class="token punctuation">;</span><span class="token class-name">Otaku</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">sayYourName</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'I am '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token function">objectFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    Constructor <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// shift è¿”å›åˆ é™¤çš„æ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´  ä¹Ÿå°±æ˜¯æ„é€ å‡½æ•°</span>    <span class="token comment">// console.log(arguments) // { '0': 'Kevin', '1': '18' }shiftä¼šä¿®æ”¹åŸæ•°ç»„ã€</span>    <span class="token comment">// å°† obj çš„åŸå‹æŒ‡å‘æ„é€ å‡½æ•°ï¼Œè¿™æ · obj å°±å¯ä»¥è®¿é—®åˆ°æ„é€ å‡½æ•°åŸå‹ä¸­çš„å±æ€§</span>    obj<span class="token punctuation">.</span>__proto__ <span class="token operator">=</span> <span class="token class-name">Constructor</span><span class="token punctuation">.</span>prototype<span class="token punctuation">;</span>    <span class="token comment">// ä½¿ç”¨ applyï¼Œæ”¹å˜æ„é€ å‡½æ•° this çš„æŒ‡å‘åˆ°æ–°å»ºçš„å¯¹è±¡ï¼Œè¿™æ · obj å°±å¯ä»¥è®¿é—®åˆ°æ„é€ å‡½æ•°ä¸­çš„å±æ€§</span>    <span class="token comment">// Constructor.apply(obj, arguments);</span>    <span class="token comment">// return obj;</span>    <span class="token comment">// +  æ„é€ å‡½æ•°æœ‰è¿”å›å€¼çš„æ—¶å€™ã€‚åˆ¤æ–­è¿”å›çš„å€¼æ˜¯ä¸æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå¦‚æœæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œæˆ‘ä»¬å°±è¿”å›è¿™ä¸ªå¯¹è±¡ï¼Œå¦‚æœæ²¡æœ‰ï¼Œæˆ‘ä»¬è¯¥è¿”å›ä»€ä¹ˆå°±è¿”å›ä»€ä¹ˆ</span>    <span class="token keyword">var</span> ret <span class="token operator">=</span> <span class="token function">Constructor</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span>arguments<span class="token punctuation">)</span>    <span class="token comment">// console.log(obj) // Otaku { name: 'Kevin', age: '18', habit: 'Games' }</span>    <span class="token keyword">return</span> <span class="token keyword">typeof</span> ret <span class="token operator">===</span> <span class="token string">'object'</span> <span class="token operator">?</span> ret <span class="token operator">:</span> obj<span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">var</span> person <span class="token operator">=</span> <span class="token function">objectFactory</span><span class="token punctuation">(</span>Otaku<span class="token punctuation">,</span> <span class="token string">'Kevin'</span><span class="token punctuation">,</span> <span class="token string">'18'</span><span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token comment">// Kevin</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>habit<span class="token punctuation">)</span> <span class="token comment">// Games</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>strength<span class="token punctuation">)</span> <span class="token comment">// 60</span>person<span class="token punctuation">.</span><span class="token function">sayYourName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// I am Kevin</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
          <category> JS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å‰ç«¯ </tag>
            
            <tag> JS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®¾è®¡æ¨¡å¼ä¹‹å•ä¾‹æ¨¡å¼</title>
      <link href="/2021/09/02/she-ji-mo-shi-zhi-dan-li-mo-shi/"/>
      <url>/2021/09/02/she-ji-mo-shi-zhi-dan-li-mo-shi/</url>
      
        <content type="html"><![CDATA[<h3 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h3><p>å•ä¾‹å°±æ˜¯ä¿è¯ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹,å®ä¾‹çš„æ–¹æ³•ä¸€èˆ¬å…ˆåˆ¤æ–­å®ä¾‹æ˜¯å¦å­˜åœ¨,å¦‚æœå­˜åœ¨ç›´æ¥è¿”å›å‡ºæ¥,å¦‚æœä¸å­˜åœ¨å°±å…ˆåˆ›å»ºäº†å†è¿”å›å‡ºæ¥ã€‚è¿™å°±å¯ä»¥ä¿è¯ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹ã€‚åœ¨JSä¸­,å•ä¾‹æ˜¯ä¸€ä¸ªå‘½åç©ºé—´çš„æä¾›è€…,ä»å‘½åç©ºé—´é‡Œæä¾›å”¯ä¸€çš„è®¿é—®ç‚¹æ¥è®¿é—®è¯¥å¯¹è±¡ã€‚</p><h3 id="å®ç°æ–¹å¼"><a href="#å®ç°æ–¹å¼" class="headerlink" title="å®ç°æ–¹å¼"></a>å®ç°æ–¹å¼</h3><p>å•ä¾‹ä¸€èˆ¬ç”¨åœ¨ç³»ç»Ÿé—´å„ç§æ¨¡å¼çš„é€šä¿¡åè°ƒä¸Š,ä¸‹é¢ä»£ç æ˜¯å•ä¾‹çš„å®è·µ</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">let</span> Single <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token comment">// å‚æ•°:ä¼ é€’ç»™å•ä¾‹ä¸€ä¸ªå‚æ•°é›†åˆ</span>    <span class="token keyword">function</span> <span class="token function">Signleton</span><span class="token punctuation">(</span><span class="token parameter">args</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">let</span> args <span class="token operator">=</span> args <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'Signle'</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>pointX <span class="token operator">=</span> args<span class="token punctuation">.</span>pointX <span class="token operator">||</span> <span class="token number">6</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>pointY <span class="token operator">=</span> args<span class="token punctuation">.</span>pointY <span class="token operator">||</span> <span class="token number">10</span>    <span class="token punctuation">}</span>   <span class="token keyword">let</span> instance <span class="token comment">// å®ä¾‹å®¹å™¨</span>   <span class="token keyword">let</span> _static <span class="token operator">=</span> <span class="token punctuation">{</span>       name<span class="token operator">:</span><span class="token string">'Signle'</span><span class="token punctuation">,</span>       <span class="token comment">// è·å–å®ä¾‹çš„æ–¹æ³•</span>       <span class="token comment">// è¿”å›Signletonå®ä¾‹</span>       <span class="token function-variable function">getInstance</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">args</span><span class="token punctuation">)</span><span class="token punctuation">{</span>           <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>instance<span class="token punctuation">)</span><span class="token punctuation">{</span>              instance <span class="token operator">=</span> <span class="token function">Signleton</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span> <span class="token comment">// æ²¡æœ‰å°±åˆ›å»ºä¸€ä¸ª</span>           <span class="token punctuation">}</span>           <span class="token keyword">return</span> instance <span class="token comment">// æœ‰å°±ç›´æ¥returnå‡ºæ¥æ‹¿åˆ°</span>       <span class="token punctuation">}</span>   <span class="token punctuation">}</span>   <span class="token keyword">return</span> _static <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">let</span> s <span class="token operator">=</span> Single<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">{</span>pointX<span class="token operator">:</span><span class="token number">7</span><span class="token punctuation">}</span><span class="token punctuation">)</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>pointX<span class="token punctuation">)</span> <span class="token comment">// 7</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> è®¾è®¡æ¨¡å¼ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è®¾è®¡æ¨¡å¼ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JSçš„å¼‚æ­¥ç¼–ç¨‹</title>
      <link href="/2021/09/02/js-de-yi-bu-bian-cheng/"/>
      <url>/2021/09/02/js-de-yi-bu-bian-cheng/</url>
      
        <content type="html"><![CDATA[<p>å¼‚æ­¥æ˜¯å•¥ï¼Ÿç¨‹åºçš„ä¸è¿ç»­æ‰§è¡Œå°±æ˜¯å¼‚æ­¥,ä¸€ä¸ªä»»åŠ¡åˆ†å‡ ä¸ªéƒ¨åˆ†,å‡ ä¸ªæ—¶é—´æ®µå®Œæˆ</p><p>åŒæ­¥å°±æ˜¯ç¨‹åºè¿ç»­æ‰§è¡Œ,1æ²¡æ‰§è¡Œå®Œ2å°±åªèƒ½ç­‰ç€</p><h3 id="å›è°ƒå‡½æ•°"><a href="#å›è°ƒå‡½æ•°" class="headerlink" title="å›è°ƒå‡½æ•°"></a>å›è°ƒå‡½æ•°</h3><blockquote><p><code>JS</code>å¯¹å¼‚æ­¥ç¼–ç¨‹çš„å®ç°,å°±æ˜¯å›è°ƒå‡½æ•°ã€‚æŠŠå¼‚æ­¥ä»»åŠ¡çš„ç¬¬äºŒæ®µå•ç‹¬å†™åœ¨ä¸€ä¸ªå‡½æ•°é‡Œé¢,ç­‰å¼‚æ­¥ä»»åŠ¡çš„ç¬¬ä¸€æ®µæ‰§è¡Œå®Œæ¯•çš„æ—¶å€™,å°±è°ƒç”¨è¿™ä¸ªå‡½æ•°å•Š</p></blockquote><pre class="language-javascript" data-language="javascript"><code class="language-javascript">fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span><span class="token string">'etc/passwd'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span>data</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">throw</span> err    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p>ä¸Šè¿°ä»£ç ä¸­,<code>readFile</code>å‡½æ•°çš„ç¬¬äºŒä¸ªå‚æ•°,å°±æ˜¯å›è°ƒå‡½æ•°,ä¹Ÿå°±æ˜¯ä»»åŠ¡çš„ç¬¬äºŒæ®µ,ç­‰åˆ°æ“ä½œç³»ç»Ÿè¿”å›<code>/etc/passwd</code>è¿™ä¸ªæ–‡ä»¶ä¹‹å,å›è°ƒå‡½æ•°æ‰ä¼šæ‰§è¡Œã€‚</p><p>å›è°ƒå‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯<code>err</code>(å¦‚æœæ²¡æœ‰é”™è¯¯,è¯¥å‚æ•°å°±æ˜¯<code>null</code>)?åŸå› æ˜¯æ‰§è¡Œåˆ†ä¸ºä¸¤æ®µ,åœ¨è¿™ä¸¤æ®µä¹‹é—´æŠ›å‡ºçš„é”™è¯¯,ç¨‹åºæ— æ³•æ•æ‰,åªèƒ½å½“æˆå‚æ•°,ä¼ å…¥ç¬¬äºŒæ®µ.</p><h3 id="Promise"><a href="#Promise" class="headerlink" title="Promise"></a>Promise</h3><p>å›è°ƒå‡½æ•°æœ¬èº«æ²¡é—®é¢˜,é—®é¢˜åœ¨äºå¤šä¸ªå›è°ƒå‡½æ•°çš„åµŒå¥—ã€‚å‡å®šè¯»å–Aæ–‡ä»¶ä¹‹å,å†è¯»å–Bæ–‡ä»¶ ã€‚é€ æˆå›è°ƒå™©æ¢¦<code>callback hell</code></p><pre class="language-javascript" data-language="javascript"><code class="language-javascript">fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span>fileA<span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span>data</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">throw</span> err  <span class="token comment">// æ•è·è¯»å–Aå¤±è´¥çš„é”™è¯¯</span>    fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span>fileB<span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span>data</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token keyword">throw</span> err <span class="token comment">// æ•è·è¯»å–Bå¤±è´¥çš„é”™è¯¯  æ•è·è¯»å–Aå¤±è´¥çš„é”™è¯¯å…¶å®å¯ä»¥ä¸å†™,æ”¾åœ¨Bè¿™é‡Œæ•è·</span>        <span class="token comment">// ...</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p><code>Promise</code>ä¸æ˜¯ä¸€ç§æ–°çš„è¯­æ³•,è€Œæ˜¯ä¸€ç§æ–°çš„å›è°ƒå‡½æ•°çš„å†™æ³•,è§£å†³äº†<code>callback hell</code>çš„é—®é¢˜ã€‚<code>then</code>æ–¹æ³•åŠ è½½å›è°ƒå‡½æ•°,<code>catch</code>æ–¹æ³•æ•è·æ‰§è¡Œç¬¬ä¸€æ®µå’Œç¬¬äºŒæ®µä¹‹é—´çš„é”™è¯¯</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">let</span> readFile <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs-readfile-promise'</span><span class="token punctuation">)</span><span class="token comment">//è¿”å›ä¸€ä¸ªPromiseç‰ˆæœ¬çš„readFileå‡½æ•°</span> <span class="token function">readFile</span><span class="token punctuation">(</span>fileA<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">//åŠ è½½å®ŒfileAæ–‡ä»¶ä¹‹å,å†å»æ‰§è¡Œthené‡Œé¢çš„å›è°ƒå‡½æ•°</span>     console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>     <span class="token keyword">return</span> <span class="token function">readFile</span><span class="token punctuation">(</span>fileB<span class="token punctuation">)</span> <span class="token comment">// Aè¯»å–å®Œæ¯•,å¼€å§‹åŠ è½½B</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span><span class="token punctuation">{</span>     console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span><span class="token function">toString</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//åŠ è½½å®ŒfileBæ–‡ä»¶ä¹‹å,å†å»æ‰§è¡Œthené‡Œé¢çš„å›è°ƒå‡½æ•°</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span><span class="token punctuation">{</span>     <span class="token keyword">throw</span> err <span class="token comment">// æ•è·æ•´ä¸ªåŠ è½½è¿‡ç¨‹ä¹‹ä¸­æŠ›å‡ºçš„é”™è¯¯</span> <span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p><code>Promise</code>çš„ç¼ºç‚¹å°±æ˜¯ä»£ç å†—ä½™,ä¸€å †çš„<code>then</code>,è¯­ä¹‰ä¸æ¸…æ™°</p><h3 id="Generator"><a href="#Generator" class="headerlink" title="Generator"></a>Generator</h3><p><code>Generator</code>å‡½æ•°æ˜¯åç¨‹åœ¨<code>ES6</code>ä¸­çš„å®ç°,æœ€å¤§çš„ç‰¹ç‚¹å°±æ˜¯å¯ä»¥äº¤å‡ºå‡½æ•°çš„æ‰§è¡Œæƒ(å³æš‚åœæ‰§è¡Œ)</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// Genertorå¯ä»¥è¿›è¡Œå‡½æ•°ä½“å†…å¤–éƒ¨çš„æ•°æ®äº¤æ¢å’Œéƒ¨ç½²é”™è¯¯å¤„ç†ä»£ç </span><span class="token keyword">function</span> <span class="token operator">*</span><span class="token function">gen</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">try</span><span class="token punctuation">{</span>        <span class="token keyword">var</span> y <span class="token operator">=</span> <span class="token keyword">yield</span> x <span class="token operator">+</span> <span class="token number">2</span> <span class="token comment">// yield å°±æ˜¯æš‚åœ</span>    <span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> y<span class="token punctuation">}</span><span class="token keyword">let</span> g <span class="token operator">=</span> <span class="token function">gen</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>g<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">// è¿”å›ç¬¬ä¸€ä¸ªyieldçš„ç»“æœ {value:3,done:false}</span>g<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">// {value:undefined,done:true} g.next(2)=&gt; {value:2,done:true}</span>g<span class="token punctuation">.</span><span class="token function">throw</span><span class="token punctuation">(</span><span class="token string">'å‡ºé”™äº†'</span><span class="token punctuation">)</span> <span class="token comment">// å¯ä»¥è¢«é‡Œé¢çš„try...catchä»£ç å—æ•è·</span></code></pre><p>å®é™…ä¾‹å­</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">let</span> fetch <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'node-fetch'</span><span class="token punctuation">)</span><span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">gen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">let</span> url <span class="token operator">=</span> <span class="token string">"https://github.com/users/github"</span>    <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token keyword">yield</span> <span class="token function">fetch</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>data<span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token comment">// æ‰§è¡Œä»£ç </span><span class="token keyword">let</span> g <span class="token operator">=</span> <span class="token function">gen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">let</span> res <span class="token operator">=</span> g<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//å¾—åˆ°{value:result(Promise),done:false}</span><span class="token comment">// fetchè¿”å›çš„æ˜¯ä¸€ä¸ªPromiseå¯¹è±¡,æ‰€ä»¥ç”¨thenæ–¹æ³•æ¥è°ƒç”¨ä¸‹ä¸€ä¸ªnext,thenæ–¹æ³•ç­‰fetchè¿”å›å®Œæ¯•åæ‰æ‰§è¡Œ,é‡Œé¢æ˜¯ä»»åŠ¡çš„ç¬¬äºŒæ®µ.æ‹¿åˆ°resultè¿”å›ç»“æœ,å†returnç»“æœå‡ºæ¥</span>res<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">return</span> data<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    g<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p><code>Generator</code>çš„ç¼ºç‚¹ï¼šæµç¨‹ç®¡ç†ä¸æ–¹ä¾¿(ä½•æ—¶æ‰§è¡Œç¬¬ä¸€é˜¶æ®µã€ä½•æ—¶æ‰§è¡Œç¬¬äºŒé˜¶æ®µ) <strong>åŸºæœ¬ä¸ç”¨å®ƒ</strong></p><h3 id="Async-Await"><a href="#Async-Await" class="headerlink" title="Async/Await"></a>Async/Await</h3><p><code>async/await</code>æ˜¯Generatorçš„è¯­æ³•ç³–,<code>*</code>æ¢æˆäº†<code>async</code>,<code>yield</code>æ¢æˆäº†<code>await</code>ã€‚<code>async </code>å‡½æ•°æ˜¯<code>ES7</code>çš„è¯­æ³•åŠŸèƒ½,ä¸è¿‡å¯ä»¥åœ¨å¼€å‘ä¸­æ­£å¸¸ä½¿ç”¨,å› ä¸º<code>Babel</code>å·²ç»æ”¯æŒ,ç»è½¬ç ä¹‹åå°±å¯ä»¥ä½¿ç”¨ã€‚</p><ul><li>æŒ‡å®š50æ¯«ç§’ä¹‹å,è¾“å‡ºâ€œhiâ€</li></ul><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">timeout</span><span class="token punctuation">(</span><span class="token parameter">ms</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>        <span class="token function">setTimeout</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span>ms<span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">xxx</span><span class="token punctuation">(</span><span class="token parameter">value<span class="token punctuation">,</span>ms</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">await</span> <span class="token function">timeout</span><span class="token punctuation">(</span>ms<span class="token punctuation">)</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token function">xxx</span><span class="token punctuation">(</span><span class="token string">'hi'</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">)</span></code></pre><ul><li><code>await</code>åé¢çš„<code>Promise</code>å¯¹è±¡,è¿è¡Œçš„ç»“æœå¯èƒ½æ˜¯<code>rejected</code>,æ‰€ä»¥æœ€å¥½æŠŠ<code>awai</code>tå‘½ä»¤æ”¾åœ¨<code>try...catch</code>ä»£ç å—ä¹‹ä¸­</li></ul><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">try</span><span class="token punctuation">{</span>        <span class="token keyword">await</span> <span class="token function">somethingReturnPromise</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment">//å¦ä¸€ç§å†™æ³•</span><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">await</span> <span class="token function">somethingReturnPromise</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span>  <span class="token punctuation">}</span></code></pre><ul><li><code>forEach</code>æ–¹æ³•çš„å‚æ•°æ”¹æˆ<code>async</code>å‡½æ•°,ä¹Ÿä¼šæœ‰é—®é¢˜,åŸå› æ˜¯ä¸‰ä¸ª<code>db.post</code>æ“ä½œæ˜¯å¹¶å‘æ‰§è¡Œ,ä¹Ÿå°±æ˜¯åŒæ—¶æ‰§è¡Œ,è€Œä¸æ˜¯ç»§å‘æ‰§è¡Œ</li></ul><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">dbFunc</span><span class="token punctuation">(</span><span class="token parameter">db</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">let</span> docs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">]</span>    <span class="token comment">// å¯èƒ½å¾—åˆ°é”™è¯¯çš„ç»“æœ</span>    docs<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">doc</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">await</span> db<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span>doc<span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token comment">// æ­£ç¡®çš„åšæ³•æ˜¯ä½¿ç”¨forå¾ªç¯</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> doc <span class="token keyword">of</span> docs<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">await</span> db<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span>doc<span class="token punctuation">)</span><span class="token punctuation">}</span></code></pre><ul><li>å¦‚æœå¸Œæœ›å¤šä¸ªè¯·æ±‚å¹¶å‘æ‰§è¡Œ,å¯ä»¥ä½¿ç”¨<code>Promise.all</code></li></ul><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">dbFunc</span><span class="token punctuation">(</span><span class="token parameter">db</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">let</span> docs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">]</span>    <span class="token keyword">let</span> promises <span class="token operator">=</span> docs<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">doc</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>        db<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span>doc<span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span>    <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token keyword">await</span> Promise<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span>promises<span class="token punctuation">)</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token comment">// æˆ–è€…ä½¿ç”¨ä¸‹é¢</span><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">dbFunc</span><span class="token punctuation">(</span><span class="token parameter">db</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">let</span> docs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">]</span>    <span class="token keyword">let</span> Promises <span class="token operator">=</span> docs<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">doc</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>        doc<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span>doc<span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span>    <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> promise <span class="token keyword">of</span> promises<span class="token punctuation">)</span><span class="token punctuation">{</span>        result<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">await</span> promise<span class="token punctuation">)</span>    <span class="token punctuation">}</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
          <category> JS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å‰ç«¯ </tag>
            
            <tag> JS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æµ‹è¯•åŠŸèƒ½é¡µ</title>
      <link href="/2021/08/31/ce-shi-gong-neng-ye/"/>
      <url>/2021/08/31/ce-shi-gong-neng-ye/</url>
      
        <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <script id="hbeData" type="hbeData" data-hmacdigest="38f3f22ee21db3680ba53f48b6e1b240efd52229d75f4c99c5bcab51b59f7669">bd25ed9264b080267271e137e33d0ce1874c72b7e3d7ffc49271f9d090e14bb8e7eeef201904066dc5fec581483b6f5b230759b47f327056f2c6087fb4372224ff41dd6a14a51a6f9c19a545b59bb412952ce03ecc8be9d6c47f8d0ee5714a97ce39d1a3050947b9f06c60dbb003869079b26abe7da67db1da28532cb1d35841be69ec6ddfe28bdcab1b34104726ee29f7d23b13cab0b9c924973d25e49b211cf467d4bdf99881bce00692fa10a01be08aff185b49104633183b9060185aafc7ac146a6e5fd2ae7c7b4a277a599d853ccb3bee614272cf7e81bbaff8829d5b77bdbec1568eefe7a02bfd3ef2533380d0bd2993ada136b49b7b8582773bb3fe7f8e98f20c7fe67ba1d5611ecc2d6bc19b1ba1d87e7b1cccbb0f3450f37ae298ca84037710c4a2daea768f8c60d5e6588d4de4e079b5369d91c9fd5d9423bf5588c1d4279ac486baaeeee09567b8c018b7ca43bafe735adeb76b9b798c3aaa86066540f0b64e42bb1bd42f8365f293011b085ce74b79cf1b23bbc66dda6ebf3d9a19f7216da231095cfd3cd45945daa958f9960c994542c51b2975852b5f5a9058e13acfb0a4635a9de1c6aefc05e1ce9c</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">æµ‹è¯•åŠ å¯†ï¼Œè¿™é‡Œçš„å¯†ç æ˜¯ï¼štest</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>githubé…ç½®cdnæ³¨æ„äº‹é¡¹</title>
      <link href="/2021/08/31/github-pei-zhi-cdn-zhu-yi-shi-xiang/"/>
      <url>/2021/08/31/github-pei-zhi-cdn-zhu-yi-shi-xiang/</url>
      
        <content type="html"><![CDATA[<h3 id="Github-CDN-Jsdelivr"><a href="#Github-CDN-Jsdelivr" class="headerlink" title="Github+CDN+Jsdelivr"></a>Github+CDN+Jsdelivr</h3><p><code>github</code>ä¸Šæ–°å»ºä¸ªä»“åº“å­˜æ”¾è¿™äº›éœ€è¦<code>cdn</code>åŠ é€Ÿçš„èµ„æºã€‚åœ¨<code>Releases</code>ä¸­åˆ›å»º<code>cdn</code>åŠ é€Ÿã€‚å›¾ä¸­<code>Choose a tag</code> å°±æ˜¯ç‰ˆæœ¬å·,é€šè¿‡é“¾æ¥<code>https://cdn.jsdelivr.net/gh/JingWZeng/blog-CDN@1.0/img/</code>è®¿é—®<code>cdn</code>åŠ é€Ÿçš„æ–‡ä»¶å¤¹,<code>https://cdn.jsdelivr.net/gh/JingWZeng/blog-CDN@1.0/img/[æ–‡ä»¶å]</code>è®¿é—®å…·ä½“çš„æ–‡ä»¶ã€‚<br><img src="https://cdn.jsdelivr.net/gh/JingWZeng/markdownImg/img/202108310924643.png"><br><img src="https://cdn.jsdelivr.net/gh/JingWZeng/markdownImg/img/202108310920130.png"></p><p><code>picGo</code>å¦‚æœéœ€è¦åˆ©ç”¨<code>cdn</code>åŠ é€Ÿçš„è¯ï¼Œåªéœ€è¦æŠŠé»˜è®¤åœ°å€è®¾ç½®æˆ<code>https://cdn.jsdelivr.net/gh/JingWZeng/markdownImg</code>ã€‚<code>markdownImg</code>æ˜¯æˆ‘çš„ä»“åº“å<br><img src="https://cdn.jsdelivr.net/gh/JingWZeng/markdownImg/img/202108310931535.png"></p>]]></content>
      
      
      <categories>
          
          <category> github </category>
          
      </categories>
      
      
        <tags>
            
            <tag> github </tag>
            
            <tag> cdn </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¯ç¼–è¾‘çš„div</title>
      <link href="/2021/08/27/ke-bian-ji-de-div/"/>
      <url>/2021/08/27/ke-bian-ji-de-div/</url>
      
        <content type="html"><![CDATA[<p>å¦‚æœåˆ©ç”¨<code>textarea</code>çš„è¾“å…¥æ¡†ï¼Œåªèƒ½è¾“å…¥æ–‡æœ¬ï¼Œæ— æ³•è¾“å…¥å›¾ç‰‡ç­‰ã€‚æ¯”è¾ƒå¥½çš„æ–¹æ³•æ˜¯åˆ©ç”¨å¯ç¼–è¾‘çš„<code>div</code>è¿›è¡Œå®ç°ã€‚</p><h3 id="divçš„å¯ç¼–è¾‘"><a href="#divçš„å¯ç¼–è¾‘" class="headerlink" title="divçš„å¯ç¼–è¾‘"></a>divçš„å¯ç¼–è¾‘</h3><p><code>div</code>è¦å®Œæˆå¯ç¼–è¾‘ï¼Œåªéœ€è¦è®¾ç½®<code>contenteditable = "true"</code>å³å¯å®ç°ã€‚æˆ‘ä»¬å¯ä»¥ç›‘å¬ç”¨æˆ·è¾“å…¥çš„åŒºåŸŸ,ç”¨æˆ·è¾“å…¥çš„æ—¶å€™ï¼Œè·å–å…¶ä¸­çš„<code>innerText</code>ï¼Œä¹‹åè¿›è¡Œå­—æ•°çš„é™åˆ¶åˆ¤æ–­ï¼Œé‡æ–°è®¾ç½®å…¶<code>innerHtML</code>ï¼Œè¶…å‡ºçš„å­—æ•°æ˜¾ç¤ºæˆå…¶ä»–é¢œè‰²ã€‚åœ¨æäº¤ä¹‹å‰ï¼Œå¯¹è¡¨å•è¿›è¡Œé¢„éªŒè¯ï¼Œè¦æ±‚ç”¨æˆ·åˆ é™¤å¤šä½™çš„å­—ç¬¦ï¼Œæ–¹å¯æäº¤ç»™åç«¯ã€‚</p><p><span class="github-emoji"><span>ğŸ¡</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f361.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>å¯ç¼–è¾‘çš„<code>div</code>çš„éš¾ç‚¹åœ¨äºå…‰æ ‡éš¾äºæ§åˆ¶ï¼Œå› æ­¤è®¾ç½®<code>html</code>çš„æ—¶å€™åˆ©ç”¨ä¸¤å±‚<code>div</code>é‡å çš„æ–¹å¼è¿›è¡Œè§£å†³</p><ul><li>ä¸Šå±‚çš„<code>div</code>ç”¨äºæ–‡æœ¬çš„è¾“å…¥,èƒŒæ™¯é¢œè‰²é€æ˜</li><li>ä¸‹å±‚çš„<code>div</code>èŠ‚ç‚¹ç”¨äºé«˜äº®è¶…å‡ºçš„éƒ¨åˆ†æ–‡å­—ï¼Œæ–‡å­—é¢œè‰²è®¾ç½®ä¸ºé€æ˜ï¼Œè¶…å‡ºçš„éƒ¨åˆ†è®¾ç½®èƒŒæ™¯é¢œè‰²è¿›è¡Œé«˜äº®</li></ul><p><span class="github-emoji"><span>ğŸŒ­</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f32d.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> <strong>bug1:<code>div</code>çš„é«˜åº¦è‡ªé€‚åº”</strong></p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"box"</span> contenteditable<span class="token operator">=</span><span class="token string">"true"</span> ref<span class="token operator">=</span><span class="token string">"box"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"hightLight"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">.</span>box<span class="token punctuation">{</span>    width<span class="token operator">:</span><span class="token number">400</span>px<span class="token punctuation">;</span>    min<span class="token operator">-</span>height<span class="token operator">:</span><span class="token number">200</span>px<span class="token punctuation">;</span> <span class="token comment">//å®ç°è‡ªé€‚åº”</span>    max<span class="token operator">-</span>height<span class="token operator">:</span><span class="token number">400</span>px<span class="token punctuation">;</span>    margin<span class="token operator">-</span>left<span class="token operator">:</span>auto<span class="token punctuation">;</span>    margin<span class="token operator">-</span>right<span class="token operator">:</span>auto<span class="token punctuation">;</span>    padding<span class="token operator">:</span><span class="token number">3</span>px<span class="token punctuation">;</span>    outline<span class="token operator">:</span>none<span class="token punctuation">;</span> <span class="token comment">// divåœ¨è·å–ç„¦ç‚¹çš„æ—¶å€™æœ‰è™šæ¡†,è®©å®ƒæ¶ˆå¤±</span>    border<span class="token operator">:</span><span class="token number">1</span>px solid #dedede<span class="token punctuation">;</span>    word<span class="token operator">-</span>wrap<span class="token operator">:</span><span class="token keyword">break</span><span class="token operator">-</span>word<span class="token punctuation">;</span>    overflow<span class="token operator">-</span>x<span class="token operator">:</span>hidden<span class="token punctuation">;</span>    overflow<span class="token operator">-</span>y<span class="token operator">:</span>auto<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p><span class="github-emoji"><span>ğŸŒ®</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f32e.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><strong>bug2:è¾“å…¥æ¡†çš„<code>placeholder</code></strong></p><pre class="language-css" data-language="css"><code class="language-css"><span class="token selector">.box:empty::before</span><span class="token punctuation">{</span>    <span class="token property">content</span><span class="token punctuation">:</span><span class="token function">attr</span><span class="token punctuation">(</span>placehoder<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token property">color</span><span class="token punctuation">:</span>#dedede<span class="token punctuation">;</span>    <span class="token property">position</span><span class="token punctuation">:</span>absolute<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>ä¹‹åå°±å¯ä»¥åœ¨<code>html</code>ä¸­ä½¿ç”¨<code>placeholder</code>å±æ€§ã€‚ä½†æ˜¯å­˜åœ¨ä¸€äº›é—®é¢˜(ç‚¹å‡»å›è½¦çš„æ—¶å€™,ä¼šæ’å…¥<code>&lt;div&gt;&lt;/div&gt;</code>æˆ–è€…<code>&lt;br&gt;</code>ï¼Œè¿™ä¼šå¯¼è‡´ä¸€äº›é—®é¢˜ï¼Œç”šè‡³å½±å“åˆ°ç»Ÿè®¡çš„å­—æ•°)<br>è§£å†³åŠæ³•:<br><span class="github-emoji"><span>1âƒ£</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/0031-20e3.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> é€šè¿‡<code>JS</code>æ‰‹åŠ¨çš„æ·»åŠ ã€ç§»é™¤<code>class</code>ç±»å¤„ç†<code>placeholder</code>çš„æ˜¾ç¤ºä¸éšè—</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token punctuation">.</span>box<span class="token punctuation">.</span>is<span class="token operator">-</span>show<span class="token operator">-</span>ploacehoder<span class="token operator">:</span><span class="token operator">:</span>before<span class="token punctuation">{</span>    content<span class="token operator">:</span><span class="token function">attr</span><span class="token punctuation">(</span>placehoder<span class="token punctuation">)</span><span class="token punctuation">;</span>    color<span class="token operator">:</span>#dedede<span class="token punctuation">;</span>    position<span class="token operator">:</span>absolute<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// JS</span><span class="token keyword">let</span> box <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>refs<span class="token punctuation">.</span>box box<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>box<span class="token punctuation">.</span>innerHTML <span class="token operator">===</span> <span class="token string">'&lt;div&gt;&lt;br&gt;&lt;/div&gt;'</span> <span class="token operator">||</span>    box<span class="token punctuation">.</span>innerHTML <span class="token operator">===</span> <span class="token string">'&lt;br&gt;'</span> <span class="token operator">||</span>    box<span class="token punctuation">.</span>innerHTML <span class="token operator">===</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    box<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">'is-showPlaceholder'</span><span class="token punctuation">)</span>  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>    box<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">'is-showPlaceholder'</span><span class="token punctuation">)</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p><span class="github-emoji"><span>2âƒ£</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/0032-20e3.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> ç¬¬ä¸€å±‚<code>div</code>ä½¿ç”¨<code>textarea</code>æ›¿æ¢ï¼Œ<code>textarea</code>ä¸­æœ‰<code>placeholder</code>å±æ€§</p><p><span class="github-emoji"><span>ğŸ…</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f345.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><strong>bug3:è¾“å…¥ä¸­æ–‡çš„ç»Ÿè®¡å­—æ•°</strong><br>åœ¨ä¸­æ–‡è¾“å…¥çš„æ—¶å€™,ä¸­æ–‡è¿˜æ²¡æœ‰è¾“å…¥åˆ°è¾“å…¥æ¡†ä¸­çš„æ—¶å€™ï¼Œå­—æ•°å·²ç»åœ¨å¼€å§‹ç»Ÿè®¡äº†ï¼Œåˆç†çš„æ˜¯ä¸­æ–‡è¾“å…¥<code>composing</code>ç»„åˆçš„è¿‡ç¨‹ä¸­ä¸åº”è¯¥è®¡ç®—å­—æ•°ï¼Œåœ¨<code>composed</code>ç»„åˆå®Œæˆè¾“å…¥åˆ°è¾“å…¥æ¡†ä¸­çš„æ—¶å€™å†è®¡ç®—ã€‚<br><code>composing</code>:åœ¨ä¸­æ–‡è¾“å…¥ä¸­ï¼Œç»„åˆå¼€å§‹<br><code>compsied</code>:åœ¨ä¸­æ–‡è¾“å…¥ä¸­ï¼Œç»„åˆå®Œæˆ</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">let</span> isComposing <span class="token operator">=</span> <span class="token boolean">false</span>editorArea<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'compositionstart'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>  isComposing <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span>editorArea<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'compositionend'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>  isComposing <span class="token operator">=</span> <span class="token boolean">false</span>  <span class="token comment">// å­—æ•°ç»Ÿè®¡</span>  <span class="token keyword">let</span> text <span class="token operator">=</span> box<span class="token punctuation">.</span>innerText  <span class="token comment">// åˆ¤æ–­å­—æ•°æ˜¯å¦è¶…å‡ºé™åˆ¶</span>  <span class="token function">setCounter</span><span class="token punctuation">(</span>limitCnt <span class="token operator">-</span> text<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><p><span class="github-emoji"><span>ğŸŒ</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f34c.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><strong>bug4:æ–‡ä»¶é€‰æ‹©å™¨äºå‰ç«¯é¢„è§ˆå›¾ç‰‡</strong><br>å¤è€çš„æ—¶å€™æ˜¯æ— æ³•ç›´æ¥åœ¨å‰ç«¯é¢„è§ˆå›¾ç‰‡çš„ï¼Œé‚£æ—¶å€™å€ŸåŠ©çš„æ˜¯ajaxé¢„å…ˆæŠŠå›¾ç‰‡å‘é€ç»™æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯è¿”å›å›¾ç‰‡çš„åœ°å€ï¼Œå‰ç«¯åˆ©ç”¨imgæ ‡ç­¾è¿›è¡Œæ˜¾ç¤ºã€‚ä¸è®ºç”¨æˆ·éœ€ä¸éœ€è¦ä¸Šä¼ è¯¥å›¾ç‰‡ï¼Œè¯¥å›¾ç‰‡ç­‰ä¼šè¢«ä¸Šä¼ åˆ°æœåŠ¡å™¨ä¸­ã€‚<br>ç°åœ¨çš„åšæ³•:</p><ul><li><code>fileReader</code>â€”&gt;æˆ‘ä¸ç”¨</li><li> <code>URL.creatObjectURL</code> <span class="github-emoji"><span>ğŸ‘ˆ</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f448.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><br><code>URL.creatObjectURL()</code>æ–¹æ³•ä¼šåˆ›å»ºä¸€ä»½DOMStringå¯¹è±¡ï¼Œå®ƒåŒ…å«urlï¼Œè¿™ä¸ªurlçš„ç”Ÿå‘½å‘¨æœŸè·Ÿåˆ›å»ºå®ƒçš„çª—å£ç»‘å®šï¼Œå¹¶ä¸”è¿™ä¸ªurlå°±æ˜¯æ“ä½œçš„å¯¹è±¡çš„æ˜ å°„åœ°å€ï¼ˆä¸´æ—¶åœ°å€ï¼‰<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">"file"</span> accept<span class="token operator">=</span><span class="token string">"image/*"</span> ref <span class="token operator">=</span> <span class="token string">'imgFiles'</span> @change<span class="token operator">=</span><span class="token string">"handleChange"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>img <span class="token operator">:</span>src<span class="token operator">=</span><span class="token string">"srcImg"</span><span class="token operator">&gt;</span><span class="token function">handleChange</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">const</span> fileObj <span class="token operator">=</span> event<span class="token punctuation">.</span>files<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token comment">//å¯¹äºtype="file" input.files[0]å¾—åˆ°å½“å‰é€‰ä¸­çš„fileå¯¹è±¡</span>    <span class="token keyword">const</span> img <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>srcImg <span class="token operator">=</span> file <span class="token operator">?</span> <span class="token constant">URL</span><span class="token punctuation">.</span><span class="token function">createObjectURL</span><span class="token punctuation">(</span>fileObj<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">}</span></code></pre><span class="github-emoji"><span>ğŸ</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f34e.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><strong>bug5:æ‹–åŠ¨äºå‰ç«¯é¢„è§ˆå›¾ç‰‡</strong><br>æ‹–åŠ¨æ˜¯åˆ©ç”¨<code>html5</code>ä¸­çš„<code>drop</code>ã€<code>drogover</code>ã€<code>drogleave</code>æ–¹æ³•<br>drogover:ç§»è¿›åˆ°äº†æ•æ„ŸåŒºåŸŸï¼Œä¸€ç›´è°ƒç”¨<br>æ³¨æ„:<span class="github-emoji"><span>ğŸ”Š</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f50a.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>éœ€è¦é˜»æ­¢å®ƒä»¬çš„é»˜è®¤æ–¹æ³•,è´Ÿè´£ç½‘é¡µä¼šè‡ªåŠ¨æ‰“å¼€è¯¥å›¾ç‰‡</li><li><code>DataTransfer</code>å¯¹è±¡å‡ºç°åœ¨æ‹–æ‹½äº‹ä»¶ä¸­ï¼Œå…·ä½“åŒ…æ‹¬å¼€å§‹æ‹–æ‹½<code>dragstart</code>äº‹ä»¶ï¼Œæ‹–æ‹½è¿›å…¥<code>dragenter</code>äº‹ä»¶ï¼Œæ‹–æ‹½ç¦»å¼€<code>dragleave</code>äº‹ä»¶ï¼Œæ‹–æ‹½ç»è¿‡<code>dragover</code>äº‹ä»¶ï¼Œæ‹–æ‹½é‡Šæ”¾<code>drop</code>äº‹ä»¶ä»¥åŠæ‹–æ‹½ç»“æŸ<code>dragend</code>äº‹ä»¶ã€‚</li><li><code>DataTransfer.items </code>ï¼ˆåªè¯»ï¼‰<br>æä¾›<code>DataTransferItemList</code>å¯¹è±¡ï¼Œè¯¥å¯¹è±¡æ˜¯æ‰€æœ‰æ‹–åŠ¨æ•°æ®çš„åˆ—è¡¨ã€‚<pre class="language-javascript" data-language="javascript"><code class="language-javascript">@drogover <span class="token operator">=</span> <span class="token string">"handleDrogover"</span>@drop<span class="token operator">=</span> <span class="token string">"handleDrop"</span><span class="token function">handleDrogover</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    e<span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token function">handleDrop</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    e<span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">const</span> dt <span class="token operator">=</span> e<span class="token punctuation">.</span>dataTransfer    <span class="token keyword">const</span> oFile <span class="token operator">=</span> dt<span class="token punctuation">.</span>item<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token comment">// æ–‡ä»¶å¯¹è±¡</span>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">image</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>oFile<span class="token punctuation">.</span>type<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment">// åˆ¤æ–­æ˜¯å¦ä¸ºå›¾ç‰‡å¯¹è±¡</span>    <span class="token keyword">const</span> blod <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Blod</span><span class="token punctuation">(</span><span class="token punctuation">[</span>oFile <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment">// ç”ŸæˆBlodå¯¹è±¡</span>    <span class="token keyword">const</span> img <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">const</span> imgSrc <span class="token operator">=</span> <span class="token constant">URL</span><span class="token punctuation">.</span><span class="token function">createObjectURL</span><span class="token punctuation">(</span>blod<span class="token punctuation">)</span><span class="token comment">//URL.createObjectURL()å¯ä»¥å¤„ç†Fileå¯¹è±¡ã€Blodå¯¹è±¡</span>    img<span class="token punctuation">.</span>src <span class="token operator">=</span> imgSrc    img<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        box<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>img<span class="token punctuation">)</span>    <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><span class="github-emoji"><span>ğŸ‡</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f347.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><strong>bug6:<code>formData</code>ä¼ è¾“å¤šä¸ªæ–‡ä»¶</strong><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">let</span> formData <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FormData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>fileObj<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    formData<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'file[]'</span><span class="token punctuation">,</span>fileObj<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token comment">// ä¸å¯ä»¥ç›´æ¥console.log(formData)----&gt;éœ€è¦åˆ©ç”¨formData.get([key])</span></code></pre></li></ul>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
          <category> å¯ç¼–è¾‘çš„div </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å‰ç«¯ </tag>
            
            <tag> å¯ç¼–è¾‘çš„div </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>butterflyçš„Tag-Plugins</title>
      <link href="/2021/08/26/butterfly-de-tag-plugins/"/>
      <url>/2021/08/26/butterfly-de-tag-plugins/</url>
      
        <content type="html"><![CDATA[<pre class="language-butterFly-Tag" data-language="butterFly-Tag"><code class="language-butterFly-Tag">{% note red 'fas fa-fan' flat%}è¿™æ˜¯ä¸‰ç‰‡å‘¢ï¼Ÿè¿˜æ˜¯å››ç‰‡ï¼Ÿ{% endnote %}</code></pre><div class="note icon flat"><i class="note-icon fab fa-cc-visa"></i><p>ä½ æ˜¯åˆ· Visa è¿˜æ˜¯ UnionPay</p></div><div class="note blue icon flat"><i class="note-icon fas fa-bullhorn"></i><p>2021å¹´å¿«åˆ°äº†â€¦.</p></div><div class="note pink icon flat"><i class="note-icon fas fa-car-crash"></i><p>å°å¿ƒå¼€è½¦ å®‰å…¨è‡³ä¸Š</p></div><div class="note red icon flat"><i class="note-icon fas fa-fan"></i><p>è¿™æ˜¯ä¸‰ç‰‡å‘¢ï¼Ÿè¿˜æ˜¯å››ç‰‡ï¼Ÿ</p></div><div class="note orange icon flat"><i class="note-icon fas fa-battery-half"></i><p>ä½ æ˜¯åˆ· Visa è¿˜æ˜¯ UnionPay</p></div><div class="note purple icon flat"><i class="note-icon far fa-hand-scissors"></i><p>å‰ªåˆ€çŸ³å¤´å¸ƒ</p></div><div class="note green icon flat"><i class="note-icon fab fa-internet-explorer"></i><p>å‰ç«¯æœ€è®¨åŒçš„æµè§ˆå™¨</p></div><p>æ›´å¤šä¿¡æ¯è§:<a href="https://butterfly.js.org/posts/c9711c19/">butterflyå®˜ç½‘æ ‡ç­¾å¤–æŒ‚</a></p>]]></content>
      
      
      <categories>
          
          <category> Butterfly </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Butterfly </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue2æ–‡æ¡£æ€»ç»“</title>
      <link href="/2021/08/25/vue-wen-dang-zong-jie/"/>
      <url>/2021/08/25/vue-wen-dang-zong-jie/</url>
      
        <content type="html"><![CDATA[<ol><li><code>data</code>å¯¹è±¡æ‰€æœ‰çš„å±æ€§è¢«åŠ å…¥åˆ°Vueçš„å“åº”å¼ç³»ç»Ÿ(è¢«åˆ›å»ºçš„æ—¶å€™å°±å·²ç»å­˜åœ¨æ‰æ˜¯,ä¸´æ—¶åŠ å…¥çš„ä¸æ˜¯)<br>ä¸€å¼€å§‹çš„å£°æ˜å…¶å®å°±æ˜¯è®©ä»–åœ¨åˆ›å»ºçš„æ—¶å€™å°±å­˜åœ¨ã€‚å¦‚æœç”¨å¦‚æœç”¨<code>Objectfreeze(obj)</code>,é˜»æ­¢<code>obj</code>ä¿®æ”¹è‡ªå·±çš„å±æ€§,æ‰€ä»¥å“åº”å¼ç³»ç»Ÿå°±ä¸èƒ½è¿½è¸ªä»–çš„å˜åŒ–</li><li><code>v-once</code>åªæ‰§è¡Œä¸€æ¬¡æ’å€¼,å½“æ•°æ®æ”¹å˜çš„æ—¶å€™,æ’å€¼çš„å†…å®¹ä¸ä¼šå†æ›´æ–°</li><li><code>v-html</code>å¯ä»¥æŠŠ<code>html</code>ä»£ç æ‰§è¡Œå‡ºæ¥,ç”¨æˆ·æä¾›çš„ä¿¡æ¯ä¸è¦è¿™æ ·ç”¨,<code>Xss</code>æ”»å‡»,åªå¯¹å¯ä¿¡çš„ä¸œè¥¿ç”¨å°±å¥½ã€‚<code>Xss</code>æ”»å‡»å¯ä»¥åˆ©ç”¨<code>Xss</code>åº“è¿›è¡Œé…ç½®</li><li>ç”¨åœ¨<code>html</code>å±æ€§ä¸Šé¢ä¸å¯ä»¥ç”¨<code>{{}}`,éœ€è¦ç”¨`v-bind`çš„ã€‚å…¶å®å¦‚æœ`v-bind`çš„å±æ€§æ˜¯`false`\ `null` \ `undefined`çš„è¯,æ¸²æŸ“å‡ºæ¥çš„è¯¥`html`å…ƒç´ ä¸ä¼šå«æœ‰è¯¥å±æ€§çš„ã€‚`{{}}</code>å’Œ<code>v-bind</code>ä¸­éƒ½å¯ä»¥æ”¾<code>JavaScript</code>è¡¨è¾¾å¼,<code>v-bind</code>çš„å±æ€§åä¼šè¢«å¼ºåˆ¶è½¬æ¢æˆå°å†™,</li><li><code>v-bind</code> å’Œ <code>v-on</code>çš„ç¼©å†™<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token operator">:</span>herf <span class="token operator">=</span> <span class="token string">"ur1"</span><span class="token comment">//åŠ¨æ€å‚å°çš„ç¼©å†™</span><span class="token operator">:</span><span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"url"</span>@click <span class="token operator">=</span> <span class="token string">"dosomething"</span>@<span class="token punctuation">[</span>event<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"dosomething"</span></code></pre></li><li>è®¡ç®—å±æ€§çš„ä½¿ç”¨å’Œæ™®é€šå±æ€§ä¸€æ ·ç»‘å®šåœ¨<code>html</code>å…ƒç´ ä¸Šé¢</li><li>æ’å€¼å¯ä»¥è°ƒç”¨<code>methods</code>é‡Œé¢çš„æ–¹æ³•</li><li>è®¡ç®—å±æ€§æœ‰ç¼“å­˜,çœ‹çš„æ˜¯å®ƒæ‰€å¯¹åº”çš„ä¾èµ–æ˜¯å¦æ”¹å˜,å¦‚æœæ”¹å˜æ‰ä¼šé‡æ–°æ±‚å€¼,å¦‚æœæ²¡æœ‰å˜åŒ–,åˆ™ä¸ä¼šã€‚<code>methods</code>çš„è¯æ˜¯æ¯æ¬¡è°ƒç”¨éƒ½ä¼šæ‰§è¡Œçš„<pre class="language-javascript" data-language="javascript"><code class="language-javascript">computed<span class="token operator">:</span><span class="token punctuation">{</span>    <span class="token function-variable function">now</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token comment">//è¯¥å±æ€§nowä¸ä¼šå†æ›´æ–°,å› ä¸ºDate.now ()ä¸æ˜¯å“åº”å¼ä¾</span>        <span class="token keyword">return</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre></li><li>å½“ä¸€äº›æ•°æ®éœ€è¦éšç€å…¶ä»–æ•°æ®å˜åŠ¨è€Œå˜åŠ¨çš„æ—¶å€™,ä½ ç‰¹åˆ«å®¹æ˜“æ»¥ç”¨<code>watch</code>,å…¶å®ç”¨<code>computed</code>ä¼šæ›´å¥½ä¸€ç‚¹,<code>computed</code>å¯ä»¥ç›‘å¬åˆ°<code>data</code>é‡Œé¢çš„å“åº”å¼æ•°æ®(åšä¸ºè®¡ç®—å±æ€§çš„ä¾èµ–ä¹‹å)</li><li>è®¡ç®—å±æ€§é»˜è®¤æ˜¯åªæœ‰<code>getter</code>,æœ‰éœ€è¦çš„æ—¶å€™éœ€è¦è‡ªå·±æä¾›<code>setter</code>æ–¹æ³•æ¥åš,å°±æ˜¯æ›´æ”¹å±æ€§çš„æ—¶å€™è°ƒç”¨,åšä¸€ä¸‹äº‹æƒ…</li><li><code>watch</code>:å½“æ•°æ®å˜åŒ–çš„æ—¶å€™æ‰§è¡Œå¼‚æ­¥æˆ–è€…å¼€é”€æ¯”è¾ƒå¤§çš„æ“ä½œçš„æ—¶å€™</li><li><code>class</code>å’Œ<code>style</code>åŠ¨æ€çš„åˆ‡æ¢<code>class</code>,<code>class</code>å’Œ<code>:class</code>æ˜¯å¯ä»¥å…±å­˜åœ¨ä¸ªhtmlå…ƒç´ ä¸Šé¢çš„<pre class="language-css" data-language="css"><code class="language-css"><span class="token punctuation">:</span>class = <span class="token property">objæˆ–è€…</span><span class="token punctuation">:</span>class=[]<span class="token comment">/*è¿™ä¸ªobj/[]å½“ç„¶å¯ä»¥å®šä¹‰computerçš„è¿”å›å€¼æˆ–è€…dataé‡Œé¢è°ƒç”¨å­ç»„ä»¶æ—¶å€™ä½¿ç”¨:classä¼šä¼ å…¥åˆ°å­ç»„ä»¶çš„class*/</span></code></pre></li><li><code>Vue</code>æ¸²æŸ“çš„æ—¶å€™ä¼šå¤ç”¨äº›ç›¸åŒ<code>html</code>æ ‡ç­¾,æœ‰äº›éœ€æ±‚æ˜¯ä¸å¯ä»¥è¢«å¤ç”¨çš„,æ­¤æ—¶å¯ä»¥ç»™è¯¥æ ‡ç­¾æˆ–è€…ç»„ä»¶æ·»åŠ <code>key</code>å±æ€§,ç¡®å®šå”¯ä¸€æ€§ã€‚</li><li><code>v-show</code>æ¸²æŸ“çš„å…ƒç´ æ˜¯å§‹ç»ˆå­˜åœ¨<code>dom</code>ä¸­çš„,åªæ˜¯æ§åˆ¶<code>display</code>çš„å±æ€§åˆ‡æ¢,<code>v-lf</code>ä¼šé‡å¤åˆ›å»ºå’Œé”€æ¯çš„,<code>v-show</code>ä¸å¯ä»¥ç”¨åœ¨<code>template</code>ä¸­,ä¹Ÿä¸å¯ä»¥<code>v-else</code>æ­é…ä½¿ç”¨</li><li><code>v-for="(1,2)"</code>å‚æ•°1æ˜¯item,å‚æ•°2æ˜¯index.ä»–ä»¬ä¸¤ä¸ªçš„ä½ç½®ä¸å¯ä»¥è¢«æ”¹å˜<br>éå†çš„æ˜¯æ•°ç»„çš„æ—¶å€™<pre class="language-javascript" data-language="javascript"><code class="language-javascript">v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">"item of itens"</span>å’Œv<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">"item of items"</span>æ•ˆæœæ˜¯ä¸€æ ·çš„</code></pre></li><li><code>v-for</code>è¢«éå†çš„æ˜¯å¯¹è±¡çš„æ—¶å€™,<code>v-for="(value,key,index)"</code>ç¬¬ä¸ªå‚æ•°æ˜¯å€¼,ç¬¬äºŒä¸ªé”®å,ç¬¬ä¸‰ä¸ªæ˜¯ç´¢å¼•</li><li>åµŒå¥—çš„<code>v-for</code>ä¸­ä¸è¦ä½¿ç”¨<code>computed</code>æ–¹æ³•</li><li>è®¿é—®åŸç”Ÿçš„JSäº‹ä»¶å¯¹è±¡çš„æ—¶å€™,å¯ä»¥ä½¿ç”¨ç‰¹æ®Šå˜é‡<code>$event</code>ä½œä¸ºå‚æ•°ä¼ åˆ°æ–¹æ³•ä¸­</li><li>äº‹ä»¶ä¿®é¥°ç¬¦<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">//é˜»æ­¢äº‹ä»¶ç»§ç»­ä¼ æ’­</span>@click<span class="token punctuation">.</span>stop<span class="token comment">//æäº¤äº‹ä»¶ä¸å†åŠ è½½é¡µé¢</span>@submit<span class="token punctuation">.</span>prevent<span class="token comment">//æ•è·-&gt;ç›®æ ‡-&gt;å†’æ³¡ å†…éƒ¨è§¦å‘çš„äº‹ä»¶å…ˆåœ¨å¤–éƒ¨å¤„ç†,ä¹‹åæ‰å»å†…éƒ¨å…ƒç´ å¤„ç†</span>@click<span class="token punctuation">.</span>capture<span class="token comment">//äº‹ä»¶è‡ªèº«æ‰ä¼šè§¦å‘</span>@click<span class="token punctuation">.</span>self<span class="token comment">//é˜»æ­¢æ‰€æœ‰çš„ç‚¹å‡»</span>@click<span class="token punctuation">.</span>prevent<span class="token punctuation">.</span>self<span class="token comment">//é˜»æ­¢è‡ªèº«çš„ç‚¹å‡»</span>@click<span class="token punctuation">.</span>self<span class="token punctuation">.</span>prevent<span class="token comment">//ç‚¹å‡»äº‹ä»¶åªä¼šè§¦å‘ä¸€æ¬¡</span>@click<span class="token punctuation">.</span>once<span class="token comment">//ä¸æƒ³é˜»æ­¢äº‹ä»¶çš„é»˜è®¤è¡Œä¸º,æ¯”å¦‚æ»šåŠ¨äº‹ä»¶çš„æ»šåŠ¨è¡Œä¸º</span>@<span class="token operator">:</span>scroll<span class="token punctuation">.</span>passive <span class="token comment">//---&gt;ä¸é˜»æ­¢é»˜è®¤äº‹ä»¶çš„å‘ç”Ÿ</span></code></pre></li><li>æŒ‰é”®ä¿®é¥°ç¬¦<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">//arrowUp/pageDownç­‰</span>@keyup<span class="token punctuation">.</span>enter <span class="token comment">//keyCode</span>@keyup<span class="token punctuation">.</span><span class="token number">13</span><span class="token comment">//å…¨å±€å®šä¹‰æŒ‰é”®ä¿®é¥°ç¬¦çš„åå­—</span>Vue<span class="token punctuation">.</span>config<span class="token punctuation">.</span>keyCodes<span class="token punctuation">.</span>f1 <span class="token operator">=</span> <span class="token number">112</span> <span class="token comment">//@keyup.f1</span><span class="token comment">//å…¼å®¹è€çš„æµè§ˆå™¨,ä¸ºé”®ç›˜èµ·çš„å°å</span><span class="token punctuation">.</span>enter<span class="token operator">/</span><span class="token punctuation">.</span>tab<span class="token operator">/</span><span class="token punctuation">.</span>delete<span class="token operator">&lt;</span>åˆ é™¤äº‹ä»¶<span class="token operator">/</span>é€€æ ¼é”®<span class="token operator">&gt;</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">.esc</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span>space<span class="token operator">/</span><span class="token punctuation">.</span>up<span class="token operator">/</span><span class="token punctuation">.</span>down<span class="token operator">/</span><span class="token punctuation">.</span>left<span class="token operator">/</span><span class="token punctuation">.</span>right</code></pre></li><li>ç³»ç»Ÿä¿®é¥°ç¬¦:æŒ‰ä¸‹å“åº”çš„é”®æ‰å¯ä»¥è§¦å‘é¼ æ ‡æˆ–è€…å…¶ä»–æŒ‰é”®çš„äº‹ä»¶<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token punctuation">.</span>ctrl  <span class="token punctuation">.</span>alt  <span class="token punctuation">.</span>shift <span class="token punctuation">.</span>meta<span class="token operator">&lt;</span>windowså›¾æ ‡é”®<span class="token operator">&gt;</span><span class="token comment">// Alt + C</span>@keyup<span class="token punctuation">.</span>alt<span class="token punctuation">.</span><span class="token number">67</span><span class="token comment">//Ctrl + click</span>@keyup<span class="token punctuation">.</span>click<span class="token punctuation">.</span>ctrl<span class="token comment">//exactç²¾ç¡®æ§åˆ¶ç³»ç»Ÿä¿®é¥°ç¬¦çš„ç»„åˆè§¦å‘çš„äº‹ä»¶</span><span class="token comment">//å³ä½¿altã€shiftè¢«æŒ‰ä¸‹,ä¹Ÿå¯ä»¥è§¦å‘,å› ä¸ºæŒ‰ä¸‹ctrl+clickå°±å¯ä»¥æ»¡è¶³æ¡ä»¶</span>@click<span class="token punctuation">.</span>ctrl<span class="token comment">//æœ‰ä¸”ä»…æœ‰ctrlè¢«æŒ‰ä¸‹æ‰ä¼šè§¦å‘</span>@click<span class="token punctuation">.</span>ctrl<span class="token punctuation">.</span>exact<span class="token comment">//æ²¡æœ‰ä»»ä½•ç³»ç»Ÿä¿®é¥°ç¬¦æŒ‰ä¸‹æ‰ä¼šè§¦å‘</span>@click<span class="token punctuation">.</span>exact</code></pre></li><li>é¼ æ ‡ä¿®é¥°ç¬¦<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token punctuation">.</span>left<span class="token punctuation">.</span>right<span class="token punctuation">.</span>middle</code></pre></li><li><code>v-model</code>ä¿®é¥°ç¬¦<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token punctuation">.</span>lazy <span class="token comment">// åªæœ‰changeäº‹ä»¶å‘ç”Ÿçš„æ—¶å€™,æ‰ä¼šåŒæ­¥æ•°æ®</span><span class="token punctuation">.</span>number<span class="token comment">//è‡ªåŠ¨å°†è¾“å…¥çš„å€¼è½¬number-&gt;parseFloatè§£æ,æ— æ³•è§£æçš„è¯,è¿”å›åŸå§‹å€¼</span><span class="token punctuation">.</span>trim<span class="token comment">//è‡ªåŠ¨è¿‡æ»¤è¾“å…¥çš„é¦–å°¾ç©ºç™½å­—ç¬¦</span></code></pre></li><li><code>$emit([äº‹ä»¶å],args)</code>åœ¨çˆ¶ç»„ä»¶ä¸­å¯ä»¥é€šè¿‡<code>$event</code>æ¥å¾—åˆ°è¿™ä¸ª<code>args</code>çš„å€¼</li><li>åŠ¨æ€ç»„ä»¶ç”¨<code>is</code>è¿™ä¸ªå±æ€§</li><li>ç»„ä»¶çš„åå­—å…¨éƒ¨å°å†™è€Œä¸”ç”¨<code>-</code>å­—ç¬¦è¿æ¥ã€‚åœ¨éæ¨¡æ¿å­—ç¬¦ä¸²ä¸­,ä¹Ÿå°±æ˜¯ä¸åœ¨<code>template</code>ä¸­,æ— æ³•ä½¿ç”¨<code>&lt;myComponent/&gt;</code>,åªèƒ½å†™æˆ<code>&lt;my-component/&gt;</code></li><li><code>props['myData']</code>,<code>props</code>ä¸­å‘½åæ˜¯é©¼å³°,<code>html</code>ä¼šæŠŠå®ƒä»¬å…¨éƒ¨è½¬æˆ<code>kebab-case</code>ã€‚æ¯”å¦‚<code>my-data</code></li><li>äº‹ä»¶åç”¨<code>kebab-case</code>,å› ä¸º<code>html</code>ä¼šå…¨éƒ¨è½¬æˆå°å†™</li><li><code>props</code>æ˜¯å•å‘æ•°æ®æµ,çˆ¶äº²çš„æ•°æ®ä¼šæ›´æ–°åˆ°å„¿å­é‚£è¾¹,æ‰€ä»¥æ˜¯å“åº”å¼çš„ã€‚å„¿å­é‚£è¾¹ä¸èƒ½ä¿®æ”¹æ¥è‡ªçˆ¶äº²çš„å€¼,å› ä¸ºçˆ¶äº²æ›´æ–°ä¼šæ”¹å˜è¯¥å€¼ã€‚è§£å†³åŠæ³•:æ·±æ‹·è´ä¸€ä»½æ•°æ®,ç”¨æ¥åšå…¶ä»–çš„äº‹æƒ…-&gt;åˆ†ä¸¤ç§æƒ…å†µ:</li></ol><ul><li>å¦‚æœæ˜¯æƒ³æŠŠ<code>props</code>çš„å€¼åšä¸ºå­ç»„ä»¶æœ¬åœ°çš„æ•°æ®ä½¿ç”¨,å¯ä»¥åœ¨<code>data</code>é‡Œé¢å®šä¹‰ä¸€ä¸ªå˜é‡,æŠŠ<code>props</code>å±æ€§å€¼ç»™è¯¥å˜é‡</li><li>å¦‚æœæ˜¯å¸Œæœ›æŠŠ<code>props</code>é‡Œé¢çš„å€¼åšä¸€ä¸ªåŸºç¡€çš„åŸå§‹å€¼,åœ¨å­ç»„ä»¶ä¸­æ˜¾ç¤ºçš„è¯,å¯ä»¥é˜²æ­¢<code>computed</code>ä¸­åšå¤„ç†</li></ul><ol start="30"><li><code>props</code>åšè‡ªå®šä¹‰éªŒè¯<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token number">1.</span> props<span class="token operator">:</span><span class="token punctuation">{</span>    foo<span class="token operator">:</span><span class="token punctuation">{</span>        <span class="token function-variable function">validator</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token string">'success'</span><span class="token punctuation">,</span><span class="token string">'warining'</span><span class="token punctuation">,</span><span class="token string">'danger'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">indxOf</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token operator">!=</span><span class="token operator">-</span><span class="token number">1</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token number">2.</span>props<span class="token operator">:</span><span class="token punctuation">{</span>    <span class="token comment">//åˆ¤æ–­æ˜¯ä¸æ˜¯Perosnçš„å®ä¾‹</span>    author<span class="token operator">:</span>Person<span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">firstname<span class="token punctuation">,</span>lastname</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>firstname <span class="token operator">=</span> firstname    <span class="token keyword">this</span><span class="token punctuation">.</span>lastname <span class="token operator">=</span> lastname<span class="token punctuation">}</span></code></pre></li><li><code>$attrs</code>ä¸ <code>$listens</code><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">//åœ¨å­ç»„ä»¶ä¸­ä½¿ç”¨</span><span class="token number">1</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token number">2</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token number">3</span><span class="token comment">//åœ¨2ä¸­ç”¨</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">:$attrs</span><span class="token template-punctuation string">`</span></span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">@listens</span><span class="token template-punctuation string">`</span></span> <span class="token operator">-</span><span class="token operator">&gt;</span>æ¥å—<span class="token number">1</span>ä¸­æ²¡æœ‰è¿›å…¥<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">props</span><span class="token template-punctuation string">`</span></span>é‡Œé¢çš„å…¶ä»–å±æ€§å’Œ<span class="token number">1</span>çš„å…¨éƒ¨æ–¹æ³•<span class="token comment">//åœ¨3ä¸­ç”¨</span>æ¥å—<span class="token number">1</span>å’Œ<span class="token number">2</span>ä¸­æ²¡æœ‰è¿›å…¥ <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">props</span><span class="token template-punctuation string">`</span></span>é‡Œé¢çš„å…¶ä»–å±æ€§å’Œ<span class="token number">1</span>å’Œ<span class="token number">2</span>çš„å…¨éƒ¨æ–¹æ³•</code></pre></li><li>ç»„ä»¶çš„<code>.sync</code>ä¿®é¥°ç¬¦å°±æ˜¯è®©å­ç»„ä»¶åšæ”¹å˜çš„æ—¶å€™åŒæ­¥åˆ°çˆ¶ç»„ä»¶ä¸­,å’Œ<code>props</code>ä¼ å€¼<code>/$emit</code>ä¸­æ•ˆæœä¸€æ ·ã€‚ç»„ä»¶ä¸­ä½¿ç”¨<code>v-model</code>ä¹Ÿå¯ä»¥å®ç°<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token operator">&lt;</span>input v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">"something"</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>input <span class="token operator">:</span>value<span class="token operator">=</span><span class="token string">"something"</span> @input<span class="token operator">=</span><span class="token string">"something=$event.target.value"</span><span class="token operator">&gt;</span><span class="token comment">//åœ¨ç»„ä»¶ä¸­ä½¿ç”¨v-model</span><span class="token punctuation">{</span><span class="token punctuation">{</span>title<span class="token punctuation">}</span><span class="token punctuation">}</span>æµ‹è¯•ç”¨çš„<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>  <span class="token comment">//åˆå§‹çš„title = '1111'</span><span class="token operator">&lt;</span>Child v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">"title"</span><span class="token operator">/</span><span class="token operator">&gt;</span>Vue<span class="token punctuation">.</span><span class="token function">Component</span><span class="token punctuation">(</span><span class="token string">'Child'</span><span class="token punctuation">,</span><span class="token punctuation">{</span>    template<span class="token operator">:</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;div&gt;    {{value}}   ------------&gt;ç”¨æ¥æµ‹è¯•(2),ç°åœ¨æ˜¾ç¤º'1111'    &lt;button @click="change()"&gt;æŒ‰é’®&lt;/button&gt;    &lt;/div&gt;,    props:['value'],     methods:{        change(){            this.$emit('input','22222') --------------&gt; ä¸€å®šè¦è§¦å‘inputäº‹ä»¶,ç‚¹å‡»ä¹‹åæµ‹è¯•(1)/(2)å˜æˆ'22222'        }    }    </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></li><li><code>keep-alive</code>å¯ä»¥ç”¨æ¥ä¿å­˜åˆ‡æ¢ä¹‹åé¡µé¢çš„å­˜åœ¨çŠ¶æ€</li><li><code>filters</code>ä¸­ç”¨ç€<code>{{}}/v-bind</code>ä¸­,ç”¨|éš”å¼€,<code>åŸå§‹å€¼|è¿‡æ»¤æ–¹æ³•A|è¿‡æ»¤æ–¹æ³•B</code>,<code>A</code>å¾—åˆ°çš„ç»“æœåˆ°<code>B</code>ã€‚æˆ–è€…<code>value|A(arg1,arg2)</code></li><li>å¯¹è±¡å’Œæ•°ç»„,<code>Vue</code>æ— æ³•æ£€æµ‹å®ƒä»¬çš„å˜åŒ–,è§£å†³åŠæ³•:<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token number">1.</span> å¯¹äºå¯¹è±¡<span class="token operator">--</span><span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token keyword">set</span>å‘åµŒå¥—å¯¹è±¡æ·»åŠ å“åº”å¼çš„æ•°æ®<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$set</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>obj<span class="token punctuation">,</span><span class="token punctuation">[</span>å±æ€§å<span class="token punctuation">]</span><span class="token punctuation">,</span>value<span class="token punctuation">)</span><span class="token comment">//å¦‚æœæ˜¯æ·»åŠ å¤šä¸ªå±æ€§,éœ€è¦è®©åŸå¯¹è±¡ä¸è¦æ··åˆçš„è¿›å»çš„å±æ€§ç»„åˆæˆä¸€ä¸ªæ–°çš„å¯¹è±¡</span><span class="token keyword">this</span><span class="token punctuation">.</span>someObj <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>someObj<span class="token punctuation">,</span><span class="token punctuation">{</span>a<span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>b<span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token number">2.</span> å¯¹äºæ•°ç»„<span class="token operator">--</span><span class="token operator">-</span><span class="token operator">&gt;</span>å®ç°vm<span class="token punctuation">.</span>items<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token operator">=</span> newValçš„æ•ˆæœ<span class="token operator">--</span><span class="token operator">-</span><span class="token operator">&gt;</span>è¿™ç§ä¸æ˜¯å“åº”å¼çš„<span class="token punctuation">,</span>ä¸‹é¢çš„æ‰æ˜¯<span class="token comment">//set</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$set</span><span class="token punctuation">(</span>vm<span class="token punctuation">.</span>items<span class="token punctuation">,</span>index<span class="token punctuation">,</span>newVal<span class="token punctuation">)</span><span class="token comment">//splice</span><span class="token keyword">this</span><span class="token punctuation">.</span>items<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span>newVal<span class="token punctuation">)</span></code></pre></li><li><code>$parent</code>å¯ä»¥è®¿é—®çˆ¶äº²çš„<code>data</code>å±æ€§,ä½†æœ€å¥½ä¸è¦è¿™æ ·åšã€‚<code>ref</code>ç»™æˆ‘ä¸€ä¸ªç»„ä»¶çš„<code>id</code>,é€šè¿‡<code>this.$refs.[id]</code>æ¥è®¿é—®,refsä¸æ˜¯å“åº”å¼çš„,æ‰€ä»¥ä¸åº”è¯¥åœ¨æ¨¡æ¿ä¸­æˆ–è€…<code>computed</code>ä½¿ç”¨</li><li><code>nextTick()</code><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">//tickçš„æ„æ€æ˜¯ä¸€æ¬¡äº‹ä»¶å¾ªç¯-&gt;ä¿è¯è™šæ‹Ÿdomè¢«æŒ‚åœ¨çœŸæ˜¯domä¹‹åç«‹åˆ»æ‰§è¡Œ,æ•°æ®è¢«æ›´æ–°åˆ°domä¹‹åç«‹åˆ»æ‰§è¡Œ</span><span class="token number">1.</span> Promisemethods<span class="token operator">:</span><span class="token punctuation">{</span>    <span class="token function">updataMsg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>msg <span class="token operator">=</span> <span class="token string">'å·²æ›´æ–°'</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$el<span class="token punctuation">.</span>textContent<span class="token punctuation">)</span> <span class="token comment">//æœªæ›´æ–°</span>        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$nextTick</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$el<span class="token punctuation">.</span>textContent<span class="token punctuation">)</span><span class="token comment">//å·²æ›´æ–°</span>        <span class="token punctuation">}</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token number">2.</span>Async<span class="token operator">/</span>Awaitmethods<span class="token operator">:</span><span class="token punctuation">{</span>   <span class="token keyword">async</span> <span class="token function">updataMsg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>msg <span class="token operator">=</span> <span class="token string">'å·²æ›´æ–°'</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$el<span class="token punctuation">.</span>textContent<span class="token punctuation">)</span> <span class="token comment">//æœªæ›´æ–°</span>        <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$nextTick       console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$el<span class="token punctuation">.</span>textContent<span class="token punctuation">)</span><span class="token comment">//å·²æ›´æ–°</span>        <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre></li></ol>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
          <category> Vue2 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å‰ç«¯ </tag>
            
            <tag> Vue2 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vuexæ–‡æ¡£æ€»ç»“</title>
      <link href="/2021/08/25/vuex-wen-dang-zong-jie/"/>
      <url>/2021/08/25/vuex-wen-dang-zong-jie/</url>
      
        <content type="html"><![CDATA[<h4 id="state"><a href="#state" class="headerlink" title="state"></a>state</h4><p><code>state</code>é‡Œé¢çš„å€¼çš„å¤„ç†æ–¹å¼ä¸<code>computed</code>å±æ€§ä¸€æ ·,ä¾èµ–<code>data</code>é‡Œé¢çš„å€¼å¹¶ä¸”åšç¼“å­˜(ä¹Ÿå°±æ˜¯æ··å…¥<code>computer</code>)</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript">state<span class="token operator">:</span><span class="token punctuation">{</span>    userId<span class="token operator">:</span><span class="token keyword">null</span><span class="token punctuation">}</span><span class="token number">1.</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span>state<span class="token punctuation">.</span><span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token number">2.</span> <span class="token keyword">import</span> <span class="token punctuation">{</span>mapState<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'Vuex'</span><span class="token comment">// æ··å…¥computedé‡Œé¢</span>computed<span class="token operator">:</span><span class="token punctuation">{</span>   <span class="token comment">// ...mapState(['name1'],['name2']...)</span>    <span class="token operator">...</span><span class="token function">mapState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>        <span class="token function-variable function">name1</span><span class="token operator">:</span><span class="token parameter">state</span><span class="token operator">=&gt;</span>state<span class="token punctuation">.</span>name1<span class="token punctuation">,</span>        <span class="token function-variable function">name2</span><span class="token operator">:</span><span class="token parameter">state</span><span class="token operator">=&gt;</span>state<span class="token punctuation">.</span>name2<span class="token punctuation">,</span>        <span class="token operator">...</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span></code></pre><h4 id="getter"><a href="#getter" class="headerlink" title="getter"></a>getter</h4><p><code>getter</code>é‡Œé¢çš„å€¼çš„å¤„ç†æ–¹å¼ä¸<code>computed</code>å±æ€§ä¸€æ ·,ä¾èµ–<code>data</code>é‡Œé¢çš„å€¼å¹¶ä¸”åšç¼“å­˜(ä¹Ÿå°±æ˜¯æ··å…¥<code>computer</code>)</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript">getter<span class="token operator">:</span><span class="token punctuation">{</span>    <span class="token function">setGender</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">const</span> gender <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token operator">:</span><span class="token string">'ä¿å¯†'</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token operator">:</span><span class="token string">'ç”·'</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token operator">:</span><span class="token string">'å¥³'</span><span class="token punctuation">}</span>        <span class="token keyword">return</span> gender<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token number">1.</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span>getters<span class="token punctuation">.</span><span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token number">2.</span> <span class="token keyword">import</span> <span class="token punctuation">{</span>mapGetters<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'Vuex'</span>computed<span class="token operator">:</span><span class="token punctuation">{</span>    <span class="token operator">...</span><span class="token function">mapGetters</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'setGender'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">}</span></code></pre><h4 id="mutations"><a href="#mutations" class="headerlink" title="mutations"></a>mutations</h4><ul><li><code>commit</code> === åŒæ­¥</li><li>ç¬¬ä¸€ä¸ªå‚æ•°æ°¸è¿œæ˜¯<code>state</code></li><li>æ··å…¥<code>methods</code><pre class="language-javascript" data-language="javascript"><code class="language-javascript">mutations<span class="token operator">:</span><span class="token punctuation">{</span>    <span class="token function">setUser</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span>useId</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        state<span class="token punctuation">.</span>useId <span class="token operator">=</span> userId    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token number">1.</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'mutationsé‡Œé¢çš„æ–¹æ³•å'</span><span class="token punctuation">,</span>args<span class="token punctuation">)</span><span class="token number">2.</span> <span class="token keyword">import</span> <span class="token punctuation">{</span>mapMutations<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'Vuex'</span>methods<span class="token operator">:</span><span class="token punctuation">{</span>    <span class="token operator">...</span><span class="token function">mapMutations</span><span class="token punctuation">(</span><span class="token string">'[setUser]'</span><span class="token punctuation">)</span>    <span class="token comment">//ä¼ é€’å‚æ•°åœ¨è°ƒç”¨this.setUser(args)æ—¢å¯</span>    <span class="token comment">//this.setUser(args)æ˜ å°„æˆthis.$store.commit('setUser',args)</span><span class="token punctuation">}</span></code></pre><h4 id="action"><a href="#action" class="headerlink" title="action"></a>action</h4></li><li><code>dispatch</code> === å¼‚æ­¥</li><li>é€šè¿‡è°ƒç”¨<code>mutations</code>é‡Œé¢çš„æ–¹æ³•è¿›è¡Œæ›´æ”¹<code>state</code></li><li>æ··å…¥<code>methods</code><pre class="language-javascript" data-language="javascript"><code class="language-javascript">actions<span class="token operator">:</span><span class="token punctuation">{</span>    <span class="token function">login</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>commit<span class="token punctuation">}</span><span class="token punctuation">,</span>val</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'setUser'</span><span class="token punctuation">,</span>val<span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token number">1.</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">'mutationsé‡Œé¢çš„æ–¹æ³•å'</span><span class="token punctuation">,</span>args<span class="token punctuation">)</span><span class="token number">2.</span> <span class="token keyword">import</span> <span class="token punctuation">{</span>mapActions<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'Vuex'</span>methods<span class="token operator">:</span><span class="token punctuation">{</span>    <span class="token operator">...</span><span class="token function">mapActions</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'login'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>    <span class="token comment">//ä¼ é€’å‚æ•°åœ¨è°ƒç”¨this.login(args)æ—¢å¯</span>    <span class="token comment">//this.login(args)æ˜ å°„æˆthis.$store.dispatch('login',args)</span>    <span class="token comment">//å¯¹loginé‡å‘½å</span>    <span class="token operator">...</span><span class="token function">mapActions</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token constant">LOGIN</span><span class="token operator">:</span><span class="token string">'login'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token constant">LOGIN</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></code></pre></li></ul>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
          <category> Vue2 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å‰ç«¯ </tag>
            
            <tag> Vue2 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Webå­˜å‚¨</title>
      <link href="/2021/08/24/web-cun-chu/"/>
      <url>/2021/08/24/web-cun-chu/</url>
      
        <content type="html"><![CDATA[<h4 id="Cookie"><a href="#Cookie" class="headerlink" title="Cookie"></a>Cookie</h4><p><code>Cookie</code>æ˜¯Sç«¯å‘é€Cç«¯çš„ä¸€ä¸ªå°æ•°æ®,ä¸‹æ¬¡è¯·æ±‚çš„æ—¶å€™Cç«¯å¸¦ä¸Šè¯¥æ•°æ®,Sç«¯ç¡®è®¤æ˜¯ä¸æ˜¯åŒä¸€ä¸ªæµè§ˆå™¨å‘é€è¿‡æ¥çš„æ•°æ®ã€‚</p><blockquote><p>ç”¨å¤„</p></blockquote><ol><li>ä¿æŒç™»å½•çš„çŠ¶æ€</li><li>ä¸ªæ€§åŒ–è®¾ç½®(ä¸»é¢˜)</li><li>æµè§ˆå™¨çš„è¡Œä¸ºè·Ÿè¸ª<br>ç¼ºç‚¹: <code>Cookie</code>ä¼šé€ æˆé¢å¤–çš„æ€§èƒ½å¼€é”€,æ¯æ¬¡è¯·æ±‚çš„æ—¶å€™ä¼šæºå¸¦ã€‚</li></ol><p><strong>Sç«¯æ”¶åˆ°<code>http</code>è¯·æ±‚çš„æ—¶å€™,Sç«¯åœ¨å“åº”æŠ¥æ–‡é¦–éƒ¨æ·»åŠ ä¸€ä¸ª<code>set-cookie</code>çš„é€‰é¡¹, Cç«¯æ”¶åˆ°ä¹‹åä¼šä¿å­˜ä¸‹<code>Cookie</code>,ä¹‹åçš„Cç«¯æ¯æ¬¡è¯·æ±‚é€šè¿‡è¯·æ±‚å¤´éƒ¨å°†<code>Cookie</code>ä¿¡æ¯æºå¸¦ä¸Š</strong><br><code>set-Cookie</code>:<strong>&lt;cookieå&gt;=&lt;cookieå€¼&gt;</strong><br><strong>cookieçš„åˆ†ç±»</strong></p><ul><li>ä¼šè¯æœŸçš„<code>cookie</code>(æµè§ˆå™¨å…³é—­ä¹‹åå°±æ²¡æœ‰äº†,ä¸éœ€è¦è®¾ç½®è¿‡æœŸçš„æ—¶é—´)</li><li>æŒä¹…æ€§çš„<code>cookie</code>(æœ‰ä¸€ä¸ªè¿‡æœŸæ—¶é—´,è®¾å®šçš„æ—¶é—´åªè·ŸCç«¯æœ‰å…³,å’ŒSç«¯æ— å…³çš„)</li><li>ç¬¬ä¸‰æ–¹çš„<code>cookie</code>(<code>cookie</code>æ˜¯åŒæºçš„,ç¬¬ä¸‰æ–¹çš„<code>cookie</code>å°±æ˜¯åŸŸå’Œé¡µé¢çš„åŸŸä¸åŒ,åªç”¨äºå¹¿å‘Šè¿½è¸ª)</li></ul><p><strong>cookieçš„å±æ€§</strong></p><ol><li><code>secure</code>:è¡¨ç¤º<code>cookie</code>åªå¯ä»¥é€šè¿‡<code>https</code>è¿›è¡Œä¼ è¾“,ä¸å¯ä»¥ä½¿ç”¨<code>http</code>è¿›è¡Œ</li><li><code>httpOnly</code>:é¿å…<code>xss</code>æ”»å‡»çš„,å°±æ˜¯è¯¥<code>cookie</code>è®¾ç½®äº†<code>httpOnly</code>çš„è¯,<code> JavaScript</code>è„šæœ¬æ˜¯ä¸å¯ä»¥å¯¹è¯¥<code>cookie</code>è¿›è¡Œè°ƒç”¨çš„,åªå¯ä»¥å‘é€ç»™æœåŠ¡å™¨</li><li>ä½œç”¨åŸŸå±æ€§:è§„å®šå“ªäº›é¡µé¢å¯ä»¥ä½¿ç”¨è¯¥<code>cookie</code>.é€šè¿‡<code>domian</code>å’Œ<code>path</code>å±æ€§æ¥è®¾ç½®ã€‚<code>domain</code>åŒ…å«å­åŸŸåä¹Ÿå¯ä»¥å¾—åˆ°è¯¥<code>cookle</code><br><code>path</code>çš„è¯æŒ‡å®šä¸»æœºçš„è·¯å¾„å“ªäº›å¯ä»¥æ¥å—<code>cookie</code>(æŒ‡å®šæ ¹è·¯å¾„ä¹‹å,ä¸‹é¢çš„å­è·¯å¾„ä¹Ÿå¯ä»¥æ‹¿åˆ°)<pre class="language-none"><code class="language-none">path = /docsåˆ™ä»¥ä¸‹å¯ä»¥æ‹¿åˆ°cookie/docs/web//docs/web/http/</code></pre></li><li><code>SameSite cookleSameSite=Strict</code></li></ol><p>å¯ä»¥å–ä¸‹é¢3ä¸ªå€¼</p><ul><li><p><code>None</code>æ²¡æœ‰åšè®¾ç½®</p></li><li><p><code>Strict</code>åªå‘é€ç»™ç›¸åŒç«™ç‚¹è¯·æ±‚çš„<code>cookle</code>(å°±æ˜¯å½“å‰é¡µé¢çš„<code>URL</code>ä¸è¯·æ±‚ç›®æ ‡çš„<code>URL</code>å®Œå…¨ä¸€è‡´)å¦‚æœè¯·æ±‚æ¥è‡ªçš„ç½‘å€å’Œå½“å‰çš„<code>location</code>çš„åœ°å€ä¸ä¸€æ ·,åˆ™è¯¥<code>cookie</code>ä¸ä¼šè¢«å‘é€</p></li><li><p><code>Lax</code>é»˜è®¤çš„</p></li></ul><p>5.è¿‡æœŸæ—¶é—´</p><ul><li><code>session</code>: è¡¨ç¤ºä¼šè¯æ€§<code>cookie</code></li></ul><p><code>set-cookie</code> å“åº”å¤´æ˜¯æœåŠ¡å™¨è¿”å›çš„å“åº”å¤´,ç”¨æ¥åœ¨æµèŒƒå™¨ä¸­ç§ä¸‹<code>cookie</code>,ä¸€æ—¦è¢«ç§ä¸‹,å½“æµèŒƒå™¨è®¿é—®ç¬¦åˆæ¡ä»¶çš„<code>url</code>åœ°å€çš„æ—¶å€™,ä¼šè‡ªåŠ¨å¸¦ä¸Šè¿™ä¸ª<code>cookie</code></p><h4 id="Sessionå¾…å®š"><a href="#Sessionå¾…å®š" class="headerlink" title="Sessionå¾…å®š"></a>Sessionå¾…å®š</h4><h4 id="tokenå¾…å®š"><a href="#tokenå¾…å®š" class="headerlink" title="tokenå¾…å®š"></a>tokenå¾…å®š</h4><h4 id="CSRFæ”»å‡»"><a href="#CSRFæ”»å‡»" class="headerlink" title="CSRFæ”»å‡»"></a>CSRFæ”»å‡»</h4><blockquote><p>å‹¾å¼•ç”¨æˆ·è¿›å…¥ç¬¬ä¸‰æ–¹çš„ç½‘ç«™,åœ¨ç¬¬ä¸‰æ–¹çš„ç½‘ç«™ä¸­,å‘è¢«æ”»å‡»çš„ç½‘ç«™å‘é€è·¨ç«™æ¸…æ±‚,åˆ©ç”¨ç”¨æˆ·åœ¨è¢«æ”»å‡»çš„ç½‘ç«™çš„ç™»å‡­è¯<code>cookie</code>,ç»•è¿‡äº†åå°çš„ç”¨æˆ·éªŒè¯,è¾¾åˆ°å†’å……ç”¨æˆ·è®¿é—®è¢«æ”»å‡»çš„ç½‘ç«™è¿›è¡Œç›¸å…³çš„æ“ä½œã€‚</p></blockquote><ol><li>CSRFé€šå¸¸æ˜¯ç¬¬äºŒæ–¹çš„ç½‘ç«™å‘èµ·</li><li>CSRFæ”»å‡»è€…ä¸å¯ä»¥è·å–åˆ°cookleç­‰ä¿¡æ¯,åªæ˜¯ä½¿ç”¨è€Œå·²</li></ol><blockquote><p>é˜²æŠ¤ç­–ç•¥</p></blockquote><ol><li>é˜»æ­¢ä¸æ˜å¤–åŸŸçš„è®¿é—®</li></ol><ul><li>åŒæºç­–ç•¥</li><li><code>Samesite Cookle</code></li></ul><ol start="2"><li>æäº¤æ—¶è¦æ±‚é™„åŠ æœ¬åŸŸæ‰èƒ½è·å–ä¿¡æ¯</li></ol><ul><li><code>SCRF Token</code></li><li>åŒé‡çš„<code>Cookie</code>è®¤è¯</li></ul><blockquote><p>Tokenè§£é‡Š</p></blockquote><ol><li>å°†<code>Token</code>è¾“å…¥åˆ°é¡µé¢ä¸­,ä¸èƒ½å­˜åœ¨<code>Cookie</code>ä¸­,å¦åˆ™æ ·è¢«å†’å……,åªèƒ½æ”¾åœ¨æœåŠ¡å™¨çš„<code>session</code>ä¸­</li><li>é¡µé¢è¯·æ±‚æºå¸¦è¿™ä¸ª<code>Token</code></li><li>æœåŠ¡å™¨ä¼šéªŒè¯<code>Token</code>æ˜¯å¦æ­£ç¡®</li></ol>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
          <category> æµè§ˆå™¨ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å‰ç«¯ </tag>
            
            <tag> æµè§ˆå™¨ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vueç”Ÿå‘½å‘¨æœŸæ€»ç»“</title>
      <link href="/2021/08/24/vue-sheng-ming-zhou-qi-zong-jie/"/>
      <url>/2021/08/24/vue-sheng-ming-zhou-qi-zong-jie/</url>
      
        <content type="html"><![CDATA[<h4 id="åˆ›å»ºé˜¶æ®µ"><a href="#åˆ›å»ºé˜¶æ®µ" class="headerlink" title="åˆ›å»ºé˜¶æ®µ"></a>åˆ›å»ºé˜¶æ®µ</h4><ul><li><code>beforeCreate</code><br><code>data</code>å’Œ<code>methods</code>ä¸­çš„æ•°æ®è¿˜æ²¡æœ‰è¢«åˆå§‹åŒ–</li><li><code>created</code><br><code>data</code>å’Œ<code>methods</code>ä¸­çš„æ•°æ®å·²ç»è¢«åˆå§‹åŒ–,æœ€æ—©åœ¨è¿™é‡Œè¿›è¡Œæ“ä½œä»–ä»¬çš„æ•°æ®</li><li><code>beforeMounte</code><br>æ¨¡æ¿å·²ç»åœ¨å†…å­˜ä¸­ç¼–è¾‘å®Œæˆäº†,ä½†æ˜¯è¿˜æ²¡æœ‰æŠŠæ¨¡æ¿æ¸²æŸ“åˆ°é¡µé¢ä¸­å»ã€‚æ­¤æ—¶å¯¹domå…ƒç´ æ— æ³•è¿›è¡Œç›¸å…³çš„æ“ä½œ,é¡µé¢ä¸­çš„å…ƒç´ è¿˜æ²¡æœ‰çœŸæ­£çš„æ›¿æ¢å‡ºæ¥,é¡µé¢è¿˜æ˜¯æ—§çš„</li><li><code>mounted</code><br>å†…å­˜ä¸­çš„æ¨¡æ¿,å·²ç»çœŸå®çš„æŒ‚è½½åˆ°äº†é¡µé¢ä¸­,ç”¨æˆ·å¯ä»¥çœ‹åˆ°å·²ç»æ¸²æŸ“å¥½çš„é¡µé¢ã€‚å®ä¾‹æŠ«åˆ›å»ºå¥½çš„æœ€åæ­¥,å¦‚æœæ²¡æœ‰å…¶ä»–æ“ä½œ,ä»–å°±å®‰å®‰é™é™çš„ä¿å­˜åœ¨å†…å­˜ä¹‹ä¸­<h4 id="è¿è¡Œé˜¶æ®µ"><a href="#è¿è¡Œé˜¶æ®µ" class="headerlink" title="è¿è¡Œé˜¶æ®µ"></a>è¿è¡Œé˜¶æ®µ</h4></li><li><code>beforeUpdote</code><br><code>data</code>é‡Œé¢çš„æ•°æ®å‘ç”Ÿæ”¹å˜çš„æ—¶å€™æ‰ä¼šè§¦å‘0æ¬¡æˆ–è€…å¤šæ¬¡ã€‚è¡¨ç¤ºç•Œé¢è¿˜æ²¡æœ‰è¢«æ›´æ–°,ä½†æ˜¯æ•°æ®å·²ç»è¢«æ›´æ–°äº†ã€‚æ•°æ®ä¸é¡µé¢ä¸åŒæ­¥æ›´æ–°çš„,è™šæ‹Ÿdomçš„ç‰¹æ€§</li><li><code>updated</code><br>æ•°æ®å’Œé¡µé¢æ›´æ–°å·²ç»åŒæ­¥äº†,å°±æ˜¯è™šæ‹Ÿ<code>dom</code>å·²ç»è¢«å˜æˆäº†çœŸå®çš„<code>dom</code><h4 id="é”€æ¯é˜¶æ®µ"><a href="#é”€æ¯é˜¶æ®µ" class="headerlink" title="é”€æ¯é˜¶æ®µ"></a>é”€æ¯é˜¶æ®µ</h4></li><li><code>beforeDestroy</code><br><code>vue</code>å®ä¾‹çš„é”€æ¯é˜¶æ®µ,å®ä¾‹èº«ä¸Šæ‰€æœ‰çš„<code>data</code>ã€ <code>methods</code>ä»¥åŠæŒ‡ä»¤å’Œè¿‡è¿™å™¨ç­‰ç­‰è¿˜æ˜¯å¯ç”¨çš„çŠ¶æ€ã€‚</li><li><code>destroy</code><br>è¿™é‡Œç»„ä»¶ä»¥åŠè¢«å®Œå…¨é”€æ¯,å®ä¾‹èº«ä¸Šæ‰€æœ‰çš„<code>data</code>ã€<code>methods</code>ä»¥åŠæŒ‡ä»¤å’Œè¿‡è¿™å™¨ç­‰å·²ç»æ˜¯ä¸å¯ç”¨çš„çŠ¶æ€ã€‚</li></ul>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
          <category> Vue2 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å‰ç«¯ </tag>
            
            <tag> Vue2 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue-Routeræ–‡æ¡£æ€»ç»“</title>
      <link href="/2021/08/24/vue-router-wen-dang-zong-jie/"/>
      <url>/2021/08/24/vue-router-wen-dang-zong-jie/</url>
      
        <content type="html"><![CDATA[<h4 id="ä¸¤ç§å£°æ˜çš„æ–¹å¼"><a href="#ä¸¤ç§å£°æ˜çš„æ–¹å¼" class="headerlink" title="ä¸¤ç§å£°æ˜çš„æ–¹å¼"></a>ä¸¤ç§å£°æ˜çš„æ–¹å¼</h4><ul><li>å£°æ˜å¼å¯¼èˆª<pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token operator">&lt;</span>router<span class="token operator">-</span>link <span class="token operator">:</span>to<span class="token operator">=</span><span class="token string">'about'</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>router<span class="token operator">-</span>link<span class="token operator">&gt;</span><span class="token operator">&lt;</span>router<span class="token operator">-</span>link <span class="token operator">:</span>to<span class="token operator">=</span><span class="token string">'{path:'</span>about<span class="token string">'}'</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>router<span class="token operator">-</span>link<span class="token operator">&gt;</span><span class="token operator">&lt;</span>router<span class="token operator">-</span>link <span class="token operator">:</span>to<span class="token operator">=</span><span class="token string">'{name:'</span>about<span class="token string">'}'</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>router<span class="token operator">-</span>link<span class="token operator">&gt;</span><span class="token operator">&lt;</span>router<span class="token operator">-</span>link <span class="token operator">:</span>to<span class="token operator">=</span><span class="token string">'{name:'</span>about<span class="token string">',params:{userId:'</span><span class="token number">123</span><span class="token string">'}}'</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>router<span class="token operator">-</span>link<span class="token operator">&gt;</span><span class="token operator">&lt;</span>router<span class="token operator">-</span>link <span class="token operator">:</span>to<span class="token operator">=</span><span class="token string">'{name:'</span>about<span class="token string">',query:{plan:'</span><span class="token keyword">private</span><span class="token string">'}}'</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>router<span class="token operator">-</span>link<span class="token operator">&gt;</span></code></pre></li><li>ç¼–ç¨‹å¼å¯¼èˆª<br>åŠ¨æ€è·¯ç”±åŒ¹é…: <code>url</code>åœ°å€ä¸­æœ‰ä¸€éƒ¨åˆ†æ˜¯ä¸€æ ·çš„,å¦å¤–ä¸€éƒ¨åˆ†æ˜¯åŠ¨æ€å˜åŒ–çš„,è¿™äº›åŠ¨æ€å˜åŒ–å°±æ˜¯è·¯ç”±å‚æ•°,ä¹Ÿå°±æ˜¯åŠ¨æ€è·¯ç”±åŒ¹é…ã€‚ä¸¤ç§æ–¹å¼:<blockquote><ol><li>ç”¨è·¯ç”±å¯¹è±¡</li><li>ä½¿ç”¨<code>props</code></li></ol><ul><li>å½“<code>props</code>æ˜¯<code>boolean</code>æ—¶å€™,è·¯ç”±å¯¹è±¡é‡Œé¢çš„å‚æ•°ä¼šè¢«è®¾ç½®æˆç»„ä»¶çš„å±æ€§ <code>props:['id']</code></li><li>å½“<code>props</code>æ˜¯<code>Object</code>æ—¶å€™,åŸæ ·è®¾ç½®æˆç»„ä»¶çš„å±æ€§,æ²¡æœ‰è®¾ç½®åœ¨é‡Œé¢å°±æ‹¿ä¸åˆ°</li><li>å½“<code>props</code>æ˜¯<code>function</code>æ—¶å€™,å•¥ä¹Ÿå¯ä»¥è·å–,æ¥å—è·¯ç”±å¯¹è±¡åšä¸ºè‡ªå·±çš„å½¢å‚</li></ul></blockquote></li></ul><h4 id="è·¯ç”±å¯¼èˆªå®ˆå«"><a href="#è·¯ç”±å¯¼èˆªå®ˆå«" class="headerlink" title="è·¯ç”±å¯¼èˆªå®ˆå«"></a>è·¯ç”±å¯¼èˆªå®ˆå«</h4><p>è·¯ç”±çš„è·³è½¬æ˜¯ä¸ªå¤§çš„è¿‡ç¨‹,åˆ†ä¸ºè·³è½¬å‰ä¸­åç­‰ç­‰ç»†å°çš„è¿‡ç¨‹,åœ¨æ¯ä¸€ä¸ªè¿‡ç¨‹ä¸­æœ‰ä¸€ ä¸ªç›¸åº”çš„å‡½æ•™, è¿™ä¸ªå‡½æ•°å¯ä»¥è®©ä½ æ“ä½œä¸€äº›å…¶ä»–äº‹æƒ…</p><ol><li>å…¨å±€çš„(å°±æ˜¯å½“è§¦å‘è·¯ç”±çš„æ—¶å€™å°±ä¼šè§¦å‘)<ul><li><code>beforeEach</code><br>è·¯ç”±è¿˜æ²¡æœ‰è·³è½¬ä¹‹å‰å°±é€šçŸ¥,é˜²æ­¢è·³è½¬ä¹‹åå†å‘ŠçŸ¥å°±æ™šäº†,ç»å¸¸ç”¨æ¥åšç™»å½•çš„éªŒè¯ã€‚</li><li><code>beforeResolve</code><br>å¯¼èˆªè¢«ç¡®è®¤ä¹‹å‰,åŒæ—¶ç»„ä»¶å†…å®ˆå«å’Œå¼‚æ­¥è·¯ç”±ç»„ä»¶è¢«è§£æä¹‹åæ‰§è¡Œä¹Ÿå°±æ˜¯åœ¨<code>beforeEach</code>å’Œç»„ä»¶å†…çš„<code>beforeRouteEnter</code>ä¹‹å,<code>afterEach</code>ä¹‹å‰è°ƒç”¨ã€‚</li><li><code>afterEach</code><br>è·¯ç”±è·³è½¬å®Œæˆä¹‹åè§¦å‘</li></ul></li><li>è·¯ç”±ç‹¬äº«çš„(å°±æ˜¯åœ¨é…è·¯ç”±çš„æ—¶å€™å¯ä»¥è®¾ç½®çš„é’©å­,è¯¥è·¯ç”±æ‰æœ‰çš„)<ul><li><code>beforeEnter</code><br>å’ŒbeforeEachæ˜¯æ ·çš„ä½œç”¨</li></ul></li><li>ç»„ä»¶å†…éƒ¨çš„(æ˜¯æŒ‡åœ¨ç»„ä»¶å†…éƒ¨æ‰§è¡Œçš„é’©å­å‡½æ•°,ç»™è¯¥ç»„ä»¶è¢«é…ç½®åœ¨çš„è·¯ç”±æ·»åŠ ç”Ÿå‘½å‘¨æœŸçš„é’©å­å‡½æ•°)<ul><li><code>beforeRouterEnter</code><br>åœ¨<code>beforeCreated</code>ä¹‹å‰è°ƒç”¨,æ˜¯æ‹¿ä¸åˆ°<code>this</code>çš„,ç”¨<code>this</code>æ˜¯è®¿é—®ä¸äº†ç»„ä»¶çš„å®ä¾‹å¯¹è±¡çš„,å¯ä»¥é€šè¿‡<code>next</code>å‡½æ•°,å‚æ•°ä¼ å…¥ä¸€ä¸ªå›è°ƒå‡½æ•°æ¥è·å–ç»„ä»¶å®ä¾‹,è¿™ä¸ªå›è°ƒå‡½æ•°åœ¨è·¯ç”±è¢«ç¡®è®¤çš„æ—¶å€™å°±ä¼šè°ƒç”¨ã€‚ç»„ä»¶å®ä¾‹ä½œä¸ºå›è°ƒå‡½æ•…çš„å‚æ•°ã€‚å¯ä»¥è·å–æœåŠ¡ç«¯çš„æ•°æ®,å½“æˆåŠŸè·å–å¹¶èƒ½è¿›å…¥è·¯ç”±çš„æ—¶å€™,è°ƒç”¨<code>next</code>é€šè¿‡<code>vm</code>è®¿é—®ç»„ä»¶å®ä¾‹è¿›è¡Œèµ‹å€¼ç­‰æ“ä½œã€‚<code>next</code>ä¸­çš„å‡½æ•°è°ƒç”¨åœ¨è¿›å…¥<code>mounted</code>ä¹‹åã€‚</li></ul></li></ol><ul><li><code>beforeRouterUpdate</code><br>å½“å‰è·¯ç”±æ”¹å˜çš„æ—¶å€™,å¹¶ä¸”è¯¥ç»„ä»¶å¯ä»¥é€šè¿‡<code>this</code>è®¿é—®å®ä¾‹ã€‚<code>/foo/1</code> å’Œ<code>/foo/2</code>ä¹‹é—´è·³è½¬ç»„ä»¶ä¼šè¢«å¤ç”¨,å½“å‰çš„<code>query</code>æ”¹å˜çš„æ—¶å€™,ç»„ä»¶ä¼šè¢«å¤ç”¨ã€‚</li><li><code>beforeRouterLeave</code><br>å¯¼èˆªç¦»å¼€è¯¥ç»„ä»¶çš„è·¯ç”±çš„æ—¶å€™è°ƒç”¨,å¯ä»¥è®¿é—®è¯¥ç»„ä»¶çš„å®ä¾‹<code>this</code></li></ul><p><strong>å‚æ•°</strong></p><ol><li><code>to</code> (ç›®æ ‡è·¯ç”±å¯¹è±¡)</li><li><code>from</code> (å³å°†ç¦»å¼€çš„è·¯ç”±å¯¹è±¡)</li><li><code>next</code> (ä½›ç çš„çº¿)<ul><li>ä½†å‡¡æ¶‰åŠåˆ°<code>next</code>çš„é’©å­,å¿…é¡»è°ƒç”¨<code>next()</code>æ‰å¯ä»¥ç»§ç»­æ‰§è¡Œä¸‹ä¸€ä¸ªé’©å­,å¦åˆ™è·¯ç”±è·³è½¬å°±ä¼šåœæ­¢</li><li>ä¸­æ–­å¯¼èˆªç”¨<code>next(false)</code>ã€‚å¦‚æœæµè§ˆå™¨çš„åœ°å€æ”¹å˜äº†(ç”¨æˆ·æ‰‹åŠ¨ã€æµè§ˆå™¨åé€€æ“ä½œ) <code>url</code>ä¼šé‡ç½®åˆ°<code>from</code>çš„åœ°å€(ç™»å½•éªŒè¯å¤±è´¥çš„æ—¶å€™å¤„ç†)</li><li><code>next('/')</code>æˆ–è€…<code>next(path:'/')</code>å½“å‰çš„å¯¼èˆªè¢«ä¸­æ–­,ç„¶åè¿›è¡Œæ–°çš„å¯¼èˆª</li><li>åœ¨<code>beforeRouterEnter</code>ä¸­<code>next(vm=&gt;{})</code>å†…æ¥å—çš„å›è°ƒå‡½æ•°çš„å‚æ•°ä¸ºå½“å‰ç»„ä»¶çš„å®ä¾‹<code>vm</code>,è¿™ä¸ªå›è°ƒå‡½æ•°æ˜¯åœ¨<code>mounted</code>ä¹‹åè°ƒç”¨çš„,ä¹Ÿå°±æ˜¯è¯´,ä»–æ˜¯æ‰€æœ‰çš„å¯¼èˆªå®ˆå«å’Œç”Ÿå‘½å‘¨æœŸå‡½æ•°æœ€åæ‰§è¡Œçš„</li><li><code>next(error)</code>,å¯¼èˆªè¢«ä¸­æ–­è€Œä¸”é”™è¯¯ç»™<code>router.onError()</code>æ³¨å†Œè¿‡çš„å›è°ƒå‡½æ•°</li></ul></li></ol>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
          <category> Vue2 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å‰ç«¯ </tag>
            
            <tag> Vue2 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vueé¡¹ç›®ä¸­é—®é¢˜</title>
      <link href="/2021/08/24/vue-xiang-mu-zhong-wen-ti/"/>
      <url>/2021/08/24/vue-xiang-mu-zhong-wen-ti/</url>
      
        <content type="html"><![CDATA[<ul><li><code>computer</code>ä¸­ä¼ å‚æ•°çš„è¯éœ€è¦ä½¿ç”¨é—­åŒ…çš„æ–¹å¼</li><li><code>filter</code>ä¸­æ— æ³•è®¿é—®<code>this</code>,ä½¿ç”¨<code>filter</code>çš„å‰ææ˜¯æœ‰ä¸ªç°æˆçš„å˜é‡</li><li>æ•°å­—åƒåˆ†ä½å¤„ç†å¹¶ä¿ç•™ä¸¤ä½å°æ•°<code>nums.toFixed(2).replace(/(\d)(?=(\d{3}+.)/g,'$1')</code></li><li><code>splice(index,1)</code>è¿”å›çš„æ•°æ®æ˜¯è¢«åˆ é™¤çš„é‚£ä¸ªæ•°æ®æˆ–è€…æ•°ç»„ â€”â€“ ä¼šæ”¹å˜åŸæ•°ç»„</li><li><code>try/catch</code> åªèƒ½æ•è·åŒæ­¥å‡½æ•°çš„å¼‚å¸¸,åŒ…æ‹¬ async/await</li><li><code>Vue</code>é¡¹ç›®ä¸­æŠ¥é”™<code>Already include file name 'xxxx' differs from files name...</code>,è§£å†³åŠæ³•æ˜¯ï¼šå»æ‰åé¢<code>.vue</code>åç¼€åæ—¢å¯</li><li>é¡µé¢åˆ·æ–°ä¹‹å,ä¼šé‡æ–°åŠ è½½<code>Vue</code>å®ä¾‹,<code>store</code>é‡Œé¢çš„å€¼ä¼šè¢«é‡æ–°èµ‹å€¼,è¿™æ ·ä¼šé€ æˆé¡µé¢åˆ·æ–°åªä¼š<code>Vuex</code>ä¸­æ•°æ®ä¸¢å¤±çš„é—®é¢˜,è§£å†³åŠæ³•æ˜¯ï¼šåˆ©ç”¨<code>Web</code>å­˜å‚¨<code>(cookie\localStorage\sessionStorage)</code></li><li>æ¯ä¸€ä¸ªé¡µé¢éƒ½æ˜¯ä¸€ä¸ªç»„ä»¶,è·¯ç”±è·³è½¬çš„æ—¶å€™ç»„ä»¶å°±ä¼šè¢«<code>é”€æ¯å’Œé‡æ–°å»ºç«‹</code>,è·³è½¬ä¼šç»å†ä¸€ä¸ªå®Œæ•´çš„ç”Ÿå‘½å‘¨æœŸ</li><li><code>babel</code> åˆåé€šå¤©å¡”,å®ƒçš„ä½œç”¨æ˜¯<code>ES6</code>ã€<code>ES7</code>è½¬æˆ<code>ES5</code></li><li><code>CSS</code>ä¸­çš„è¡Œå†…å…ƒç´ æ°´å¹³å±…ä¸­ç›´æ¥åœ¨çˆ¶å…ƒç´ ä¸­<code>text-align:center</code>,å‚ç›´å±…ä¸­è®¾ç½®è¡Œé«˜å’Œé«˜åº¦ç›¸ç­‰:<code>height:10px;line-height:10px</code></li><li><code>SSR</code>æœåŠ¡ç«¯æ¸²æŸ“<ul><li>å‰åç«¯åˆ†ç¦»çš„ç¼ºç‚¹(é€‚åˆåå°ç®¡ç†é¡¹ç›®æˆ–è€…å¤§é‡è·¯ç”±çš„é¡¹ç›®)<ul><li><code>SEO</code>ä¸å‹å¥½:å› ä¸ºé¡µé¢ä¸­åªæœ‰ä¸€ä¸ª<code>div</code>,å…¶ä»–é¡µé¢çš„æ“ä½œæ˜¯é€šè¿‡ JS æ¥è¿›è¡Œçš„,<code>SEO</code>æ˜¯é€šè¿‡çˆ¬å–<code>html</code>ä»£ç çš„,è€Œä¸æ˜¯<code>JS</code>ä»£ç </li><li>é¦–å±åŠ è½½æ…¢:æ›´å¤šçš„åŠ è½½å’Œæ¸²æŸ“çš„å·¥ä½œæ˜¯ç”±æµè§ˆå™¨æ¥å®Œæˆçš„</li><li>æ€§èƒ½çš„é—®é¢˜:ç†ç”±åŒä¸Š,é¢‘ç¹çš„å’ŒæœåŠ¡ç«¯è¿›è¡Œæ•°æ®äº¤äº’</li></ul></li><li>è§£å†³ä¸Šè¿°åŠæ³•-&gt;<code>SSR</code>æœåŠ¡ç«¯æ¸²æŸ“(é€‚åˆå®˜ç½‘é¡¹ç›®å’Œæ¨å¹¿é¡µé¡¹ç›®)<ul><li>ç®€å•æ¥è¯´å°±æ˜¯æœåŠ¡ç«¯æ‹¿åˆ°æ•°æ®è¿›è¡Œè§£ææ¸²æŸ“,ç›´æ¥ç”Ÿæˆ<code>html</code>ç‰‡æ®µè¿”å›ç»™å‰ç«¯</li><li>ä¼ ç»Ÿçš„æœåŠ¡ç«¯æ¨¡æ¿å¼•æ“æ¸²æŸ“æ•´ä¸ªé¡µé¢</li><li>æœåŠ¡ç«¯æ¸²æŸ“ç”Ÿæˆçš„<code>html</code>ä»£ç å—,å‰ç«¯é€šè¿‡<code>ajax</code>è·å–ç„¶åé€šè¿‡<code>JS</code>åŠ¨æ€çš„æ·»åŠ </li></ul></li></ul></li><li>åœ¨<code>js</code>æ–‡ä»¶ä¸­ï¼Œä¹Ÿå°±æ˜¯ä¸åœ¨<code>vue</code>æ–‡ä»¶ä¸­ï¼Œéœ€è¦å¾—åˆ°<code>vuex</code>é‡Œé¢çš„å€¼çš„è¯ï¼Œæ˜¯æœ¨æœ‰åŠæ³•æ‹¿åˆ°çš„ï¼Œé™¤éè·¯ç”±è·³è½¬æ‰å¯ä»¥æ‹¿åˆ°ï¼Œåœ¨<code>vue</code>æ–‡ä»¶ä¸­éœ€è¦åœ¨<code>computed</code>ä¸­æˆ–è€…<code>watch</code>æ‰å¯ä»¥å“åº”æ‹¿åˆ°ï¼Œä½†æ˜¯åœ¨ js æ–‡ä»¶ä¸­ï¼Œç›®å‰æˆ‘çš„åšæ³•å°±æ˜¯å­˜æ”¾åœ¨<code>cookie</code>æˆ–è€…<code>sessionStorage</code>ä¸­äº†ã€‚</li></ul><pre class="language-js" data-language="js"><code class="language-js">computed<span class="token operator">:</span><span class="token punctuation">{</span>  <span class="token function">getTotalCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>totalCount  <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><hr><h4 id="Q1-å¦‚ä½•è®©çˆ¶ç»„ä»¶åŠ è½½æ—¶ä¸åŠ è½½å­ç»„ä»¶çš„æ–¹æ³•ï¼Ÿ"><a href="#Q1-å¦‚ä½•è®©çˆ¶ç»„ä»¶åŠ è½½æ—¶ä¸åŠ è½½å­ç»„ä»¶çš„æ–¹æ³•ï¼Ÿ" class="headerlink" title="Q1:å¦‚ä½•è®©çˆ¶ç»„ä»¶åŠ è½½æ—¶ä¸åŠ è½½å­ç»„ä»¶çš„æ–¹æ³•ï¼Ÿ"></a>Q1:å¦‚ä½•è®©çˆ¶ç»„ä»¶åŠ è½½æ—¶ä¸åŠ è½½å­ç»„ä»¶çš„æ–¹æ³•ï¼Ÿ</h4><p>çˆ¶ç»„ä»¶åˆ·æ–°åŠ è½½çš„æ—¶å€™é»˜è®¤ä¼šæ‰§è¡Œå­ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸï¼Œå…¶å®è¿™æ˜¯æœ‰ä¸¤ä¸ªå‰æçš„</p><ol><li>çˆ¶ç»„ä»¶çš„<code>template</code>ä¸­ä½¿ç”¨äº†å­ç»„ä»¶</li><li>å­ç»„ä»¶çš„è¯·æ±‚æ˜¯è‡ªå‘è¯·æ±‚çš„ï¼Œä¹Ÿå°±æ˜¯è¯·æ±‚æ–¹æ³•æŒ‚åœ¨äº†æŸä¸€ä¸ªç”Ÿå‘½å‘¨æœŸä¸­</li></ol><p><strong>è§£å†³åŠæ³•</strong><br>æŠŠå­ç»„ä»¶ä¸­ç”Ÿå‘½å‘¨æœŸæ‰§è¡Œçš„æ–¹æ³•ï¼Œæ¯”å¦‚ä¸€äº›è¯·æ±‚æ¥å£çš„è°ƒç”¨ï¼Œä»<code>mounted</code>æˆ–è€…<code>created</code>ä¸­å»æ‰ï¼ŒæŠŠè¿™äº›è¯·æ±‚å°è£…æˆä¸€ä¸ªæ–¹æ³•ï¼Œåœ¨çˆ¶ç»„ä»¶ä¸­é€šè¿‡<code>$ref</code>æ¥æ¢å–è¯¥å­ç»„ä»¶ï¼Œæ‹¿åˆ°è¯¥æ–¹æ³•ï¼Œåœ¨ç‰¹å®šæ¡ä»¶ä¸­å»æ‰§è¡Œå°±å¯ä»¥äº†ã€‚</p><h4 id="Q2-el-draweæƒ³è®©ä¾§è¾¹æ åŠ ä¸ªå…³é—­çš„æŒ‰é’®ï¼Ÿ"><a href="#Q2-el-draweæƒ³è®©ä¾§è¾¹æ åŠ ä¸ªå…³é—­çš„æŒ‰é’®ï¼Ÿ" class="headerlink" title="Q2:el-draweæƒ³è®©ä¾§è¾¹æ åŠ ä¸ªå…³é—­çš„æŒ‰é’®ï¼Ÿ"></a>Q2:<code>el-drawe</code>æƒ³è®©ä¾§è¾¹æ åŠ ä¸ªå…³é—­çš„æŒ‰é’®ï¼Ÿ</h4><p>éœ€è¦æŠŠ<code>el-drawe</code>çš„<code>overflow:hidden</code>å±æ€§æ”¹æˆ<code>visible</code>,ä¸ç„¶çš„è¯æ•´ä¸ªæŠ½å±‰çš„æº¢å‡ºéšè—äº†ï¼ŒæŒ‰é’®è„±ç¦»æŠ½å±‰å°±è¢«éšè—æ‰äº†ã€‚ä¹‹å‰ä¸€ç›´ä»¥ä¸ºæ˜¯<code>z-index</code>çš„é—®é¢˜ï¼Œå…¶å®ä¸æ˜¯ï¼Œå¦‚æœæ˜¯<code>z-index</code>çš„é—®é¢˜çš„è¯ï¼Œé‚£å…¶å®æ•´ä¸ªæŠ½å±‰éƒ½è¢«éšè—æ‰äº†ã€‚</p><h4 id="Q3-æ”¹å˜å›¾æ ‡çš„å¤§å°ï¼Ÿ"><a href="#Q3-æ”¹å˜å›¾æ ‡çš„å¤§å°ï¼Ÿ" class="headerlink" title="Q3:æ”¹å˜å›¾æ ‡çš„å¤§å°ï¼Ÿ"></a>Q3:æ”¹å˜å›¾æ ‡çš„å¤§å°ï¼Ÿ</h4><p>åœ¨çˆ¶å…ƒç´ ä¸­åˆ©ç”¨<code>font-size</code>å±æ€§å°±å¯ä»¥å•¦</p><h4 id="Q4-ä¸€ä¸ªé¡µé¢ä½†æ˜¯åˆå¥½å‡ ä¸ªtabsé¡µåº”è¯¥å¦‚ä½•ç»„ä»¶ä»£ç ï¼Ÿ"><a href="#Q4-ä¸€ä¸ªé¡µé¢ä½†æ˜¯åˆå¥½å‡ ä¸ªtabsé¡µåº”è¯¥å¦‚ä½•ç»„ä»¶ä»£ç ï¼Ÿ" class="headerlink" title="Q4:ä¸€ä¸ªé¡µé¢ä½†æ˜¯åˆå¥½å‡ ä¸ªtabsé¡µåº”è¯¥å¦‚ä½•ç»„ä»¶ä»£ç ï¼Ÿ"></a>Q4:ä¸€ä¸ªé¡µé¢ä½†æ˜¯åˆå¥½å‡ ä¸ª<code>tabs</code>é¡µåº”è¯¥å¦‚ä½•ç»„ä»¶ä»£ç ï¼Ÿ</h4><p>åˆ©ç”¨åŠ¨æ€ç»„ä»¶çš„æ–¹æ³•ï¼Œåœ¨é¡¶å±‚è®¾ç½®ä¸€ä¸ªçˆ¶ç»„ä»¶ç”¨æ¥åˆ‡æ¢å­ç»„ä»¶çš„æ˜¾ç¤ºå°±å¾ˆå¥½äº†ã€‚</p><h4 id="Q5-äºŒæ¬¡å°è£…el-tableçš„æ—¶å€™å¦‚æœåœ¨ä½¿ç”¨çš„æ—¶å€™ï¼ŒæŠŠæ•°æ®æºtableDataä¹Ÿä¸€èµ·æ”¾åœ¨computedè®¡ç®—å±æ€§ä¸­ï¼Œä¼šé€ æˆè¡¨æ ¼æ•°æ®ä¸æ¥å£æ•°æ®ä¸åŒæ­¥çš„é—®é¢˜"><a href="#Q5-äºŒæ¬¡å°è£…el-tableçš„æ—¶å€™å¦‚æœåœ¨ä½¿ç”¨çš„æ—¶å€™ï¼ŒæŠŠæ•°æ®æºtableDataä¹Ÿä¸€èµ·æ”¾åœ¨computedè®¡ç®—å±æ€§ä¸­ï¼Œä¼šé€ æˆè¡¨æ ¼æ•°æ®ä¸æ¥å£æ•°æ®ä¸åŒæ­¥çš„é—®é¢˜" class="headerlink" title="Q5:äºŒæ¬¡å°è£…el-tableçš„æ—¶å€™å¦‚æœåœ¨ä½¿ç”¨çš„æ—¶å€™ï¼ŒæŠŠæ•°æ®æºtableDataä¹Ÿä¸€èµ·æ”¾åœ¨computedè®¡ç®—å±æ€§ä¸­ï¼Œä¼šé€ æˆè¡¨æ ¼æ•°æ®ä¸æ¥å£æ•°æ®ä¸åŒæ­¥çš„é—®é¢˜?"></a>Q5:äºŒæ¬¡å°è£…<code>el-table</code>çš„æ—¶å€™å¦‚æœåœ¨ä½¿ç”¨çš„æ—¶å€™ï¼ŒæŠŠæ•°æ®æº<code>tableData</code>ä¹Ÿä¸€èµ·æ”¾åœ¨<code>computed</code>è®¡ç®—å±æ€§ä¸­ï¼Œä¼šé€ æˆè¡¨æ ¼æ•°æ®ä¸æ¥å£æ•°æ®ä¸åŒæ­¥çš„é—®é¢˜?</h4><p>é—®é¢˜å°±å‡ºåœ¨äº†æŠŠ<code>tableData</code>æ”¾åœ¨äº†<code>computed</code>é‡Œé¢ï¼Œè®¡ç®—å±æ€§æ˜¯ä¾èµ–äº<code>data</code>é‡Œé¢çš„æ•°æ®æ‰ä¼šæ›´æ–°çš„ï¼Œå¦‚æœç›¸å…³çš„<code>data</code>æ•°æ®ä¸æ›´æ–°,å®ƒæ˜¯æœ‰ç¼“å­˜ä½œç”¨çš„ã€‚</p><h4 id="Q6-el-formä¸­çš„è¡¨å•éªŒè¯æ€ä¹ˆå†™å¥½ä¸€ç‚¹ï¼Ÿ"><a href="#Q6-el-formä¸­çš„è¡¨å•éªŒè¯æ€ä¹ˆå†™å¥½ä¸€ç‚¹ï¼Ÿ" class="headerlink" title="Q6:el-formä¸­çš„è¡¨å•éªŒè¯æ€ä¹ˆå†™å¥½ä¸€ç‚¹ï¼Ÿ"></a>Q6:<code>el-form</code>ä¸­çš„è¡¨å•éªŒè¯æ€ä¹ˆå†™å¥½ä¸€ç‚¹ï¼Ÿ</h4><pre class="language-js" data-language="js"><code class="language-js">name<span class="token operator">:</span><span class="token punctuation">[</span>  <span class="token punctuation">{</span>required<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>validator<span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>validName<span class="token punctuation">,</span>trigger<span class="token operator">:</span><span class="token string">'blur'</span><span class="token punctuation">}</span><span class="token punctuation">]</span>methods<span class="token operator">:</span><span class="token punctuation">{</span>  <span class="token function">validator</span><span class="token punctuation">(</span><span class="token parameter">rule<span class="token punctuation">,</span>value<span class="token punctuation">,</span>callback</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>condition<span class="token punctuation">)</span><span class="token punctuation">{</span>      <span class="token keyword">return</span> <span class="token function">callback</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'è¯·å¹²å•¥å¹²å•¥'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p>ä»¥ä¸Šå°±æ˜¯æƒ³è¯´æ˜,æŠŠéªŒè¯å•ç‹¬åœ¨<code>methods</code>ä¸­å†™æˆä¸€ä¸ªå‡½æ•°ï¼Œè€Œä¸æ˜¯æ¨èæ–‡æ¡£çš„å†™æ³•ï¼ŒæŠŠéªŒè¯å†™åœ¨<code>data</code>ä¸Šé¢ï¼Œè¿™æ ·å®¹æ˜“é€ æˆ<code>this</code>çš„æŒ‡å‘é—®é¢˜ã€‚</p><h4 id="Q7-ç¢°åˆ°if-elseéœ€è¦æ€è€ƒä½¿ç”¨ä¼˜åŒ–çš„æ–¹å¼"><a href="#Q7-ç¢°åˆ°if-elseéœ€è¦æ€è€ƒä½¿ç”¨ä¼˜åŒ–çš„æ–¹å¼" class="headerlink" title="Q7:ç¢°åˆ°if-elseéœ€è¦æ€è€ƒä½¿ç”¨ä¼˜åŒ–çš„æ–¹å¼?"></a>Q7:ç¢°åˆ°<code>if-else</code>éœ€è¦æ€è€ƒä½¿ç”¨ä¼˜åŒ–çš„æ–¹å¼?</h4><p>åˆ©ç”¨ä¸‰å…ƒè¿ç®—ç¬¦ä¼˜åŒ–çš„æ—¶å€™ï¼Œéœ€è¦æ³¨æ„<code>return</code>çš„å†™æ³•,éœ€è¦æŠŠ<code>return</code>æåˆ°æœ€å‰é¢ã€‚</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token comment">// è¿”å›æœ€å¤§å€¼</span><span class="token keyword">return</span> a <span class="token operator">&gt;</span> b <span class="token operator">?</span> a <span class="token operator">:</span> b<span class="token punctuation">;</span></code></pre><p>å¦‚æœæ˜¯<code>if</code>æ¡ä»¶ä¸‹æœ‰å¤šæ¡è¯­å¥çš„è¯ï¼Œé‚£ä¹ˆå¯ä»¥åˆ©ç”¨å¤šæ¡çš„ä¸‰å…ƒè¿ç®—ç¬¦æ¥åš</p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token operator">=</span> condition <span class="token operator">?</span> <span class="token number">20</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>b <span class="token operator">=</span> condition <span class="token operator">?</span> <span class="token number">10</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span></code></pre><p>å¯ä»¥åˆ©ç”¨<code>condition&amp;&amp;action</code>çš„æ¨¡å¼æ¥ä»£æ›¿<code>if(condition){action}</code>çš„å½¢å¼ã€‚</p><h4 id="Q8-vue-çš„éå“åº”å¼ï¼Ÿ"><a href="#Q8-vue-çš„éå“åº”å¼ï¼Ÿ" class="headerlink" title="Q8:vue çš„éå“åº”å¼ï¼Ÿ"></a>Q8:vue çš„éå“åº”å¼ï¼Ÿ</h4><p><code>vue</code>çš„å“åº”å¼çš„å¯¹è±¡æ˜¯åˆå§‹åŒ–çš„æ—¶å€™æ”¾åœ¨<code>data</code>é‡Œé¢çš„æ•°æ®çš„æ“ä½œï¼Œå¦‚æœæ˜¯æ­£å¸¸çš„å¯¹è±¡çš„è¯ï¼Œä¼šè½¬æˆ<code>getter/setter</code>çš„æ–¹å¼æ¥ç›‘å¬å…¶å˜åŒ–ã€‚è€Œå¯¹äºæ•°ç»„çš„æ–¹å¼ä¸<code>getter/setter</code>ä¸åŒï¼Œæ˜¯é€šè¿‡æ‹¦æˆªå…¶åŸå‹ä¸Šçš„æ–¹æ³•æ¥å®ç°çš„ã€‚è¿™é‡Œä¸é‡ç‚¹è®¨è®ºï¼Œä¸»è¦æ˜¯è®°å½•ä¸èƒ½è¢«å¤„ç†æˆå“åº”å¼çš„ç±»å‹å’Œå¤„ç†æ–¹å¼ã€‚</p><p><strong>å¯¹äºå¯¹è±¡</strong></p><ol><li>æƒ³ data é‡Œé¢çš„å·²ç»å­˜åœ¨çš„å¯¹è±¡ï¼Œæ¯”å¦‚ person,æœ¬èº«å…·æœ‰ name å±æ€§ï¼Œç»§ç»­å‘å…¶æ·»åŠ  age å±æ€§</li></ol><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>  <span class="token keyword">return</span><span class="token punctuation">{</span>    person<span class="token operator">:</span><span class="token punctuation">{</span>      name<span class="token operator">:</span><span class="token string">''</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">this</span><span class="token punctuation">.</span>person<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">20</span> <span class="token comment">//éå“åº”å¼</span></code></pre><p>è§£å†³æ–¹æ³•:<br>åˆ©ç”¨<code>this.$set(obj,[è¦æ·»åŠ çš„å±æ€§å],[å±æ€§å€¼])</code></p><p><code>this.$set(person,age,20)</code>è¿™æ ·å°±å¯ä»¥å˜æˆå“åº”å¼äº†ã€‚<br>å¦‚æœéœ€è¦æ·»åŠ å¤šä¸ªå±æ€§çš„è¯,åˆ™éœ€è¦ä½¿ç”¨<code>Object.assign</code>æˆ–è€…<code>this.$extend()</code></p><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">this</span><span class="token punctuation">.</span>person <span class="token operator">=</span> Objecet<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>person<span class="token punctuation">,</span> <span class="token punctuation">{</span> age<span class="token operator">:</span> <span class="token number">29</span><span class="token punctuation">,</span> sex<span class="token operator">:</span> <span class="token string">"ç”·"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>æ³¨æ„ä¸è¦ä½¿ç”¨<code>Object.assign(this.person,{age:29,sex:'ç”·'})</code>ã€‚è¿™æ ·æ˜¯æ²¡æœ‰ç”¨çš„ï¼Œéœ€è¦æ··åˆåŸå¯¹è±¡æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡æ‰è¡Œçš„ã€‚</p><ol start="2"><li>åˆ é™¤å¯¹è±¡<br>this.$delete(obj,[å±æ€§å])</li></ol><pre class="language-none"><code class="language-none">**å¯¹äºæ•°ç»„**1. ç›´æ¥åˆ©ç”¨ä¸‹æ ‡æ¥æ”¹å˜å€¼`this.dataArr[1]=20`è§£å†³æ–¹æ³•:(2 ç§)- `this.$set(dataArr,[index],[value])`ï¼Œæ¯”å¦‚`this.$set(dataArr,1,20)`ã€‚è¿™é‡Œéœ€è¦æ³¨æ„çš„å°±æ˜¯ä¸å¯¹è±¡çš„åŒºåˆ«ï¼Œç¬¬äºŒä¸ªå‚æ•°ä»£è¡¨çš„æ˜¯`index`,ä¹Ÿå°±æ˜¯æ•°ç»„çš„ä¸‹æ ‡ã€‚- åˆ©ç”¨`splice`,ç®€å•çš„è§£é‡Šä¸‹è¯¥å‡½æ•°çš„ç”¨æ³•ï¼Œé¦–å…ˆéœ€è¦è®°ä½çš„æ˜¯å®ƒè¿”å›çš„æ˜¯è¢«åˆ é™¤çš„æ•°æ®ç»„æˆçš„æ•°ç»„ï¼Œå¯ä»¥æ”¹å˜åŸæ•°ç»„ã€‚  ![](https://cdn.jsdelivr.net/gh/JingWZeng/markdownImg/img/202111122044145.png)stash{num} `,`num`ä»£è¡¨è®°å½•çš„é¡ºåºï¼Œåˆ©ç”¨`git stash list`å¯ä»¥çœ‹åˆ°ï¼Œä¾‹ 0,1,2,3...&gt; 1 ä¸ªå‚æ•°çš„æ—¶å€™,è¡¨ç¤ºä»ä¸‹æ ‡å€¼å¼€å§‹çš„åœ°æ–¹åˆ°ç»“å°¾çš„å…¨éƒ¨åˆ é™¤&gt;&gt; 2 ä¸ªå‚æ•°çš„æ—¶å€™,è¡¨ç¤ºä»ç¬¬ä¸€ä¸ªå‚æ•°å€¼çš„ä¸‹æ ‡å¤„å¼€å§‹åˆ é™¤å‡ ä¸ª(ç¬¬äºŒä¸ªå‚æ•°å†³å®šåˆ é™¤å‡ ä¸ª)æ•°æ®&gt;&gt; 3 ä¸ªä»¥ä¸Šå‚æ•°çš„æ—¶å€™ï¼Œä»ç¬¬ 3 ä¸ªå‚æ•°å¼€å§‹è¡¨ç¤ºéœ€è¦è¢«æ·»åŠ çš„æ•°æ®ï¼Œä»åˆ é™¤ä¹‹åçš„åŸæ•°æ®å¼€å§‹æ·»åŠ æ‰€ä»¥å¯ä»¥ä½¿ç”¨`this.dataArr.splice(1,1,20)`ï¼Œä»ä¸‹æ ‡ä¸º 1 çš„åœ°æ–¹åˆ é™¤ 1 ä¸ªæ•°æ®ï¼Œç„¶åæŠŠæ–°çš„æ•°æ® 20 åŠ è¿›å»ï¼Œç›¸å½“äºæ›¿æ¢äº†ä¸‹æ ‡ä¸º 1 çš„å€¼ã€‚2. ç›´æ¥ä¿®æ”¹æ•°ç»„çš„é•¿åº¦`this.dataArr.length=4`   è§£å†³åŠæ³•:åˆ©ç”¨`this.dataArr.splice(newlength)`3. åŒæ ·è¾“å‡ºæ•°ç»„çš„æŸä¸ªå…ƒç´ çš„å“åº”å¼ä¹Ÿå¯ä»¥åˆ©ç”¨```jsthis.$delete(dataArr,index)</code></pre><ol start="4"><li>æ•°ç»„å¯¹è±¡ç›´æ¥ä¿®æ”¹å±æ€§ï¼Œå¯ä»¥è§¦å‘è§†å›¾çš„æ›´æ–°</li></ol><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">this</span><span class="token punctuation">.</span>dataArr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">"zjw"</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>dataArr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>  item<span class="token punctuation">.</span>isShow <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><ol start="5"><li>æ•°ç»„èµ‹å€¼ä¸ºæ–°æ•°ç»„ï¼Œå¯ä»¥è§¦å‘è§†å›¾çš„æ›´æ–°ã€‚æ”¹å˜äº†åŸæ•°ç»„ã€‚</li></ol><pre class="language-js" data-language="js"><code class="language-js"><span class="token keyword">this</span><span class="token punctuation">.</span>dataArr <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>dataArr<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">)</span><span class="token keyword">this</span><span class="token punctuation">.</span>dataArr <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>dataArr<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">)</span></code></pre><ol start="6"><li><code>Vue</code>æä¾›äº†ä»¥ä¸‹æ•°ç»„çš„å˜å¼‚æ–¹æ³•ï¼Œå¯ä»¥è§¦å‘è§†å›¾çš„æ›´æ–°ã€‚<blockquote><p>å…¶å®è¿™é‡Œæ¶‰åŠåˆ°<code>Vue</code>å…³äºæ•°ç»„å“åº”å¼çš„åŸç†ï¼Œå®ƒæ˜¯é€šè¿‡ä»£ç†æ•°ç»„åŸå‹ä¸Šçš„æ–¹æ³•æ¥å®ç°çš„ã€‚</p></blockquote></li></ol><pre class="language-js" data-language="js"><code class="language-js"><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">unshift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¿”å›çš„æ˜¯è¢«åˆ é™¤çš„å…ƒç´ ç»„æˆçš„æ•°ç»„</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h4 id="Q9-vue-çš„ç»„ä»¶æ‡’åŠ è½½ï¼Ÿ"><a href="#Q9-vue-çš„ç»„ä»¶æ‡’åŠ è½½ï¼Ÿ" class="headerlink" title="Q9:vue çš„ç»„ä»¶æ‡’åŠ è½½ï¼Ÿ"></a>Q9:vue çš„ç»„ä»¶æ‡’åŠ è½½ï¼Ÿ</h4><p>æ­£å¸¸çš„åœ¨<code>script</code>å¼•å…¥å­ç»„ä»¶ï¼Œç”Ÿå‘½å‘¨æœŸæ˜¯:<br>çˆ¶ç»„ä»¶ created -&gt; å­ç»„ä»¶ created -&gt; å­ç»„ä»¶çš„ mounted -&gt; çˆ¶ç»„ä»¶ mounted</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">  <span class="token keyword">import</span> child <span class="token keyword">from</span> <span class="token string">"./child.vue"</span><span class="token punctuation">;</span>  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>    components<span class="token operator">:</span> <span class="token punctuation">{</span>      child<span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">;</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code></pre><p>æ‡’åŠ è½½<br>çˆ¶ç»„ä»¶ created -&gt; çˆ¶ç»„ä»¶ mounted -&gt; å­ç»„ä»¶ created -&gt; å­ç»„ä»¶ mounted</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>    <span class="token function-variable function">child</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">"./child.vue"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">;</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code></pre><h4 id="Q10-è§£å†³-ESlint-å’Œ-prettier-çš„å†²çª"><a href="#Q10-è§£å†³-ESlint-å’Œ-prettier-çš„å†²çª" class="headerlink" title="Q10:è§£å†³ ESlint å’Œ prettier çš„å†²çª?"></a>Q10:è§£å†³ ESlint å’Œ prettier çš„å†²çª?</h4><p><code>eslint-plugin-prettier</code>å°† <code>Prettier</code>çš„è§„åˆ™è®¾ç½®åˆ°<code>ESLint</code>çš„è§„åˆ™ä¸­ã€‚</p><p><code>eslint-config-prettier</code> å…³é—­ <code>ESLint</code>ä¸­ä¸<code>Prettier</code>ä¸­ä¼šå‘ç”Ÿå†²çªçš„è§„åˆ™ã€‚</p><ol><li>å®‰è£…</li></ol><p><code>yarn add eslint-plugin-prettier eslint-config-prettier -D</code></p><ol start="2"><li>åœ¨<code>.eslintrc.js</code>æ·»åŠ <code>prettier</code>æ’ä»¶</li></ol><pre class="language-js" data-language="js"><code class="language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token keyword">extends</span><span class="token operator">:</span> <span class="token punctuation">[</span>  <span class="token string">'plugin:vue/essential'</span><span class="token punctuation">,</span><span class="token operator">*</span>  <span class="token string">'airbnb-base'</span><span class="token punctuation">,</span><span class="token operator">*</span>  <span class="token string">'plugin:prettier/recommended'</span> <span class="token comment">// æ·»åŠ  prettier æ’ä»¶*</span> <span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token operator">...</span><span class="token punctuation">}</span></code></pre><p>è¿™æ ·ï¼Œæˆ‘ä»¬åœ¨æ‰§è¡Œ<code>eslint --fix</code>å‘½ä»¤æ—¶ï¼Œ<code>ESLint</code>å°±ä¼šæŒ‰ç…§<code>Prettier</code>çš„é…ç½®è§„åˆ™æ¥æ ¼å¼åŒ–ä»£ç ï¼Œè½»æ¾è§£å†³äºŒè€…å†²çªé—®é¢˜ã€‚</p><p>è¯¾å¤–çŸ¥è¯†:å¦‚ä½•åˆ©ç”¨<code>codePen</code>æ˜¾ç¤ºä»£ç </p><iframe height="300" style="width: 100%;" scrolling="no" title="Untitled" src="https://codepen.io/jingwzeng/embed/preview/MWvGKJM?default-tab=html%2Cresult&amp;editable=true&amp;theme-id=light" frameborder="no" loading="lazy" allowtransparency="true" allowfullscreen="true">  See the Pen <a href="https://codepen.io/jingwzeng/pen/MWvGKJM">  Untitled</a> by /zjingW (<a href="https://codepen.io/jingwzeng">@jingwzeng</a>)  on <a href="https://codepen.io">CodePen</a>.</iframe>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
          <category> Vue2 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å‰ç«¯ </tag>
            
            <tag> Vue2 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¸¸ç”¨è·¨åŸŸ</title>
      <link href="/2021/08/24/chang-yong-kua-yu/"/>
      <url>/2021/08/24/chang-yong-kua-yu/</url>
      
        <content type="html"><![CDATA[<blockquote><p>å‰ç«¯è®¿é—®æœåŠ¡å™¨çš„æ—¶å€™æ•°æ®å› ä¸ºè·¨åŸŸæ— æ³•ç›´æ¥å¾—åˆ°<br>æœåŠ¡ç«¯å’ŒæœåŠ¡ç«¯ä¹‹é—´çš„é€šä¿¡æ˜¯ä¸å­˜åœ¨è·¨åŸŸçš„,éƒ½æ˜¯åŒæº<br>å‰åç«¯ä¸åˆ†ç¦»çš„æ—¶å€™å°±æ˜¯åŒæº,å‰ç«¯å’Œåç«¯ä»£ç åœ¨åŒä¸€ä¸ªç”µè„‘ä¸Š</p></blockquote><h4 id="JSONP"><a href="#JSONP" class="headerlink" title="JSONP"></a>JSONP</h4><ul><li>script</li><li>img</li><li>link</li><li>iframe<blockquote><p>å®ƒä»¬ä¸å—åŒæºç­–ç•¥çš„å½±å“</p></blockquote></li></ul><hr><p>å®ƒä»¬é€šè¿‡<code>script</code>æ ‡ç­¾çš„<code>src</code>,<code>src</code>æŒ‡å‘æœåŠ¡å™¨çš„<code>api</code>åœ°å€,å› ä¸ºä¸å—åŒæºçš„å½±å“,å› æ­¤å¯ä»¥è®¿é—®å¸¦æ•°æ®,ä¹‹åæŠŠæœ¬åœ°æµè§ˆå™¨ç«¯çš„ä¸€ä¸ªå‡½æ•°<code>func</code>ä½œä¸ºå›è°ƒå‡½æ•°ä¼ é€’ç»™æœåŠ¡å™¨ã€‚æœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚,åŒæ—¶ä¹Ÿå¯ä»¥æ‹¿åˆ°ä¼ è¿‡æ¥çš„å‡½æ•°<br>ä¹‹åæœåŠ¡å™¨åšä¸¤ä»¶äº‹</p><ol><li>æœåŠ¡ç«¯å‡†å¤‡æ•°æ®<code>data</code></li><li>ç»™å®¢æˆ·ç«¯è¿”å›æ•°æ®(åˆ©ç”¨ä¼ è¿‡æ¥çš„å‡½æ•°è¿›è¡ŒåŒ…è£…<code>data</code>æ•°æ®=&gt;<code>func('JSON.stringify(data)+')</code>ã€‚å®¢æˆ·ç«¯æ”¶åˆ°å“åº”,å‘ç°æ•°æ®æ ¼å¼å°±æ˜¯è‡ªå·±å…¨å±€å‡½æ•°<code>func</code>,äºæ˜¯å¯¹å‡½æ•°<code>fun</code>è¿›è¡Œè°ƒç”¨,æ‰§è¡Œ<code>JSON.parse</code>å¾—åˆ°<code>data</code></li></ol><p><em><strong>ç‰¹ç‚¹</strong></em></p><ul><li><code>JSONP</code>éœ€è¦æœåŠ¡ç«¯çš„æ”¯æŒ</li><li><code>func</code>å¿…é¡»ä¸ºå…¨å±€å‡½æ•°</li><li>æœåŠ¡ç«¯éœ€è¦åˆ©ç”¨<code>func</code>è¿›è¡Œæ•°æ®åŒ…è£…</li><li>åªæ”¯æŒ<code>get</code>è¯·æ±‚(é™åˆ¶äº†æˆ‘å¹³æ—¶åœ¨å¼€å‘ä¸­,åŸºæœ¬ç”¨ä¸åˆ°å®ƒï¼ï¼ï¼)</li></ul><hr><h4 id="CORSè·¨åŸŸèµ„æºå…±äº«"><a href="#CORSè·¨åŸŸèµ„æºå…±äº«" class="headerlink" title="CORSè·¨åŸŸèµ„æºå…±äº«"></a>CORSè·¨åŸŸèµ„æºå…±äº«</h4><ul><li>Cç«¯å‘é€<code>axios/ajax</code>è¯·æ±‚å¹¶åšä¸€äº›åŸºæœ¬çš„é…ç½®</li><li>Sç«¯è®¾ç½®å“åº”å¤´çš„ç›¸å…³ä¿¡æ¯,ä½†æ˜¯éœ€è¦åš<code>options</code>è¯•æ¢æ€§çš„è¯·æ±‚(å¦‚æœæ˜¯åˆ©ç”¨<code>node</code>å¼€æœåŠ¡çš„è¯,å¯ä»¥åˆ©ç”¨ä¸­é—´ä»¶è¿›è¡Œç›¸å…³çš„è®¾ç½®) </li></ul><h4 id="http-proxy-gt-webpack-webpack-dev-server"><a href="#http-proxy-gt-webpack-webpack-dev-server" class="headerlink" title="http proxy =>webpack + webpack-dev-server"></a>http proxy =&gt;webpack + webpack-dev-server</h4><p>æ­£å¸¸å¼€å‘çš„<code>Vue</code>é¡¹ç›®çš„æ—¶å€™,ä¸‹è½½<code>webpack-dev-serve</code>ç›´æ¥è®¾ç½®<code>webpack</code>é…ç½®æ–‡ä»¶æ—¢å¯ä»¥ã€‚<code>Vue-cli</code>å·²ç»é›†æˆ,åœ¨<code>vue.config.js</code>ä¸­è¿›è¡Œé…ç½®</p><h4 id="document-domain-iframe"><a href="#document-domain-iframe" class="headerlink" title="document.domain+iframe"></a>document.domain+iframe</h4><p>åªèƒ½å®ç°åŒä¸€ä¸ªä¸»åŸŸ,ä¸åŒå­åŸŸä¹‹é—´çš„åŒæº</p><pre class="language-none"><code class="language-none">v.qq.comsports.qq.comqq.comæ˜¯ä¸»åŸŸ</code></pre><h4 id="nginxåå‘ä»£ç†"><a href="#nginxåå‘ä»£ç†" class="headerlink" title="nginxåå‘ä»£ç†"></a>nginxåå‘ä»£ç†</h4><p>ä¸éœ€è¦å‰ç«¯å‚ä¸,åç«¯åœ¨<code>linux</code>ä¸­è¿›è¡Œé…ç½®</p>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
          <category> æµè§ˆå™¨ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å‰ç«¯ </tag>
            
            <tag> æµè§ˆå™¨ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C-Sæ•°æ®åŸºæœ¬è¿‡ç¨‹</title>
      <link href="/2021/08/24/c-s-shu-ju-ji-ben-guo-cheng/"/>
      <url>/2021/08/24/c-s-shu-ju-ji-ben-guo-cheng/</url>
      
        <content type="html"><![CDATA[<blockquote><p>ä¸€æ¬¡httpè¯·æ±‚è‡³å°‘è¿›è¡Œä¸¤æ¬¡çš„æ•°æ®è½¬æ¢,å‘é€è¯·æ±‚çš„æ—¶å€™ä¸€æ¬¡,è·å–å“åº”æ•°æ®çš„æ—¶å€™ä¸€æ¬¡</p></blockquote><table><thead><tr><th>é¡ºåº</th><th>å±‚å</th><th>æ ¼å¼</th></tr></thead><tbody><tr><td>1</td><td>åº”ç”¨å±‚</td><td>æ•°æ®</td></tr><tr><td>2</td><td>ä¼ è¾“å±‚</td><td>æ•°æ®+æºç«¯å£+ç›®æ ‡ç«¯å£</td></tr><tr><td>3</td><td>ç½‘ç»œå±‚</td><td>æ•°æ®+æºç«¯å£+ç›®æ ‡ç«¯å£+æºIP+ç›®æ ‡IP</td></tr><tr><td>4</td><td>é“¾è·¯å±‚</td><td>è½¬æ¢æˆæ•°å­—ä¿¡æ¯è¿›è¡Œä¼ è¾“</td></tr></tbody></table><h4 id="ä»å®¢æˆ·ç«¯-1-gt-2-gt-3-gt-4"><a href="#ä»å®¢æˆ·ç«¯-1-gt-2-gt-3-gt-4" class="headerlink" title="ä»å®¢æˆ·ç«¯ 1->2->3->4"></a>ä»å®¢æˆ·ç«¯ 1-&gt;2-&gt;3-&gt;4</h4><h4 id="ä»æœåŠ¡ç«¯-4-gt-3-gt-2-gt-1"><a href="#ä»æœåŠ¡ç«¯-4-gt-3-gt-2-gt-1" class="headerlink" title="ä»æœåŠ¡ç«¯ 4->3->2->1"></a>ä»æœåŠ¡ç«¯ 4-&gt;3-&gt;2-&gt;1</h4>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
          <category> æµè§ˆå™¨ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å‰ç«¯ </tag>
            
            <tag> æµè§ˆå™¨ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é—­åŒ…</title>
      <link href="/2021/08/24/bi-bao/"/>
      <url>/2021/08/24/bi-bao/</url>
      
        <content type="html"><![CDATA[<blockquote><p>JSçš„å‡½æ•°å†…éƒ¨å¯ä»¥è®¿é—®å…¨å±€å˜é‡,ä½†æ˜¯åœ¨å‡½æ•°çš„å¤–éƒ¨æ˜¯ä¸å¯ä»¥è¯»å–å†…éƒ¨çš„å±€éƒ¨å˜é‡<br>é—­åŒ…å…¶å®å°±æ˜¯æä¾›ä¸€ä¸ªæ–¹å¼æ¥è¯»å–å‡½æ•°å†…éƒ¨çš„å˜é‡</p></blockquote><h4 id="ç®€è¦è¯´æ˜"><a href="#ç®€è¦è¯´æ˜" class="headerlink" title="ç®€è¦è¯´æ˜"></a>ç®€è¦è¯´æ˜</h4><ul><li><p>å•çº¯çš„è§‰å¾—é—­åŒ…æ˜¯æ‹¿åˆ°å‡½æ•°å†…éƒ¨çš„å˜é‡æ˜¯ä¸å¯¹çš„,ä»¥ä¸‹è¿™ç§æ–¹å¼ä¹Ÿå¯ä»¥æ‹¿åˆ°,ä½†å®ƒä¸æ˜¯é—­åŒ…</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// å¤–éƒ¨å¯ä»¥æ‹¿åˆ°a,ä½†ä¸æ˜¯é—­åŒ…</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">10</span>    <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">f2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token function">alert</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">function</span> <span class="token function">f3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">let</span> a <span class="token operator">=</span><span class="token number">100</span>    <span class="token keyword">return</span> a<span class="token punctuation">}</span><span class="token function">f3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">//101</span><span class="token function">f3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">//101   æ­¤æ—¶å‡½æ•°f3å·²ç»è¢«åƒåœ¾å›æ”¶äº†,å†æ¬¡è°ƒç”¨å°±æ˜¯é‡æ–°å¼€å§‹åˆ›å»ºå˜é‡ç­‰ä¸€ç³»åˆ—çš„è¿‡ç¨‹</span></code></pre></li><li><p>é—­åŒ…çœŸæ­£çš„åŸå› æ˜¯å±€éƒ¨å˜é‡æ— æ³•é•¿ä¹…ä¿å­˜,å…¨å±€å˜é‡åˆå®¹æ˜“æ±¡æŸ“ç¯å¢ƒ,å¸Œæœ›å¯ä»¥æ‰¾åˆ°ä¸€ç§æ—¢å¯ä»¥é•¿ä¹…ä¿å­˜åˆä¸ä¼šé€ æˆå…¨å±€æ±¡æŸ“çš„æ–¹æ³•,è¿™å°±æ˜¯<code>é—­åŒ…çš„æœºåˆ¶</code>ã€‚æ‰€ä»¥çœ‹ä¼¼ä»£ç å¤æ‚åŒ–,å…¶å®å¤§æœ‰æ¥å¤´ã€‚</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">100</span>    <span class="token keyword">function</span> <span class="token function">f2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        a<span class="token operator">++</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> f2<span class="token punctuation">}</span><span class="token keyword">let</span> f <span class="token operator">=</span> f1 <span class="token comment">// f1æ‰§è¡Œçš„ç»“æœ,å…¶å®å°±æ˜¯returnå‡ºæ¥çš„f2å‡½æ•° ===== é—­åŒ…</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 101</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 102</span><span class="token comment">/** * 1ã€f1çš„è°ƒç”¨ç»“æœè¢«èµ‹ç»™äº†å…¨å±€å˜é‡f,å…¨å±€å˜é‡fä¸€ç›´å­˜åœ¨äºå†…å­˜ä¸­,f1å‡½æ•°æ‰§è¡Œå®Œæ¯•ä¹‹åå°±ä¼šè¢«é‡Šæ”¾,ä½†æ˜¯returnå‡ºæ¥äº†ä¸€ä¸ªå‡½æ•°,ä¹Ÿå°±æ˜¯ä¼šé€ æˆå†…å­˜æ³„æ¼çš„åŸå› ï¼ˆå˜é‡aæ²¡æœ‰è¢«é‡Šæ”¾ï¼‰ * 2ã€aæ˜¯å±€éƒ¨å˜é‡ä½†æ˜¯ä»–ä¸ä¼šè¢«é”€æ¯ã€‚å› ä¸ºf2è¿˜ä¿æŒç€å¯¹açš„å¼•ç”¨ï¼ˆJSçš„åƒåœ¾å›æ”¶æœºåˆ¶ä¹‹ä¸­çš„å¼•ç”¨è®¡æ•°åŸåˆ™ï¼‰*/</span></code></pre><p>ç”¨åŒ¿åå‡½æ•°ç®€å†™</p><pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">100</span>    <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        a<span class="token operator">++</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">let</span> f <span class="token operator">=</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><h4 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h4></li></ul><ol><li>æ³¨æ„å…¨å±€å˜é‡ä¸€ç›´å­˜åœ¨äºå†…å­˜ä¸­,å±€éƒ¨å˜é‡æ‰§è¡Œå®Œä¹‹åè¢«åƒåœ¾å›æ”¶ï¼ˆåŒ…æ‹¬å‡½æ•°ï¼‰,å†æ¬¡æ‰§è¡Œè¯¥å‡½æ•°çš„æ—¶å€™åˆå¾—é‡æ–°å¼€å§‹</li><li>é—­åŒ…çš„ä»£ç å¤æ‚çš„çœŸæ­£åŸå› <pre class="language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">0</span>    <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        a<span class="token operator">++</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">let</span> s1 <span class="token operator">=</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">let</span> s2 <span class="token operator">=</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token function">s1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">//1</span><span class="token function">s1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">//2</span><span class="token function">s2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">//3</span></code></pre></li></ol>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
          <category> JS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å‰ç«¯ </tag>
            
            <tag> JS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>VsCodeä¸­ä½¿ç”¨git</title>
      <link href="/2021/08/20/vscode-zhong-shi-yong-git/"/>
      <url>/2021/08/20/vscode-zhong-shi-yong-git/</url>
      
        <content type="html"><![CDATA[<p><strong>åœ¨VsCodeä¸­ä½¿ç”¨Gitæäº¤çš„è¿‡ç¨‹</strong></p><ol><li>å…ˆç¡®å®šæäº¤çš„åˆ†æ”¯,â€+â€æ˜¯æäº¤åˆ°æš‚ç¼“åŒº,ç›¸å½“äº<code>git add .</code></li><li>â€œâˆšâ€æ˜¯å°†æš‚ç¼“åŒºçš„ä»£ç æäº¤åˆ°æœ¬åœ°ä»£ç ä»“åº“,ç›¸å½“äº<code>git commit -m ""</code></li><li>æäº¤åˆ°<code>github</code>è¿œç¨‹ä»“åº“ä¹‹å‰ï¼Œåº”è¯¥å…ˆâ€æ‹‰å–â€è¿œç¨‹ä»“åº“ï¼Œç”¨æ¥å’Œæœ¬åœ°çš„ä»“åº“åšåŒæ­¥ï¼Œå¦‚æœæœ‰å†²çªï¼ŒVsCodeä¼šè‡ªåŠ¨è·³å‡ºå†²çªï¼Œç¼–è¾‘è§£å†³å®Œå†²çªä¹‹åï¼Œå†è¿›è¡Œä¸‹ä¸€æ­¥</li><li>æœ€åä¸€æ­¥â€æ¨é€â€ï¼Œæœ¬åœ°ä»“åº“çš„ä»£ç åŒæ­¥åˆ°<code>github</code>è¿œç¨‹ä»“åº“</li></ol>]]></content>
      
      
      <categories>
          
          <category> VsCode </category>
          
          <category> Git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> VsCode </tag>
            
            <tag> Git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>BomçŸ¥è¯†æ€»ç»“</title>
      <link href="/2021/08/20/bom-zhi-shi-zong-jie/"/>
      <url>/2021/08/20/bom-zhi-shi-zong-jie/</url>
      
        <content type="html"><![CDATA[<p>å¥½è®°æ€§ä¸å¦‚çƒ‚ç¬”å¤´ï¼</p><h3 id="1-BOM-Browser-Object-Model"><a href="#1-BOM-Browser-Object-Model" class="headerlink" title="1.BOM: Browser Object Model"></a>1.BOM: Browser Object Model</h3><p>ä»€ä¹ˆæ˜¯: ä¸“é—¨æ“ä½œæµè§ˆå™¨çª—å£çš„API<br>æ²¡æœ‰æ ‡å‡†, å¯¼è‡´æµè§ˆå™¨å…¼å®¹æ€§é—®é¢˜<br>åŒ…æ‹¬:<br>window<br>history<br>location<br>navigator<br>dom<br>event<br>screen</p><h3 id="2-window"><a href="#2-window" class="headerlink" title="2.window:"></a>2.window:</h3><p>å±æ€§: .innerWidth, .innerHeight æµè§ˆå™¨çª—å£ä¸­,æ–‡æ¡£æ˜¾ç¤ºåŒºçš„å®½å’Œé«˜<br>æ–¹æ³•: .open() .close() .open(â€œurlâ€,â€nameâ€)</p><p>ä¸‰ç§:</p><pre class="language-none"><code class="language-none">CODE1.åœ¨å½“å‰çª—å£æ‰“å¼€,å¯åé€€: .open("url","_self")2.åœ¨æ–°çª—å£æ‰“å¼€,å¯æ‰“å¼€å¤šä¸ª: .open("url","_blank")3.åœ¨æ–°çª—å£æ‰“å¼€,åªèƒ½æ‰“å¼€ä¸€ä¸ª:   .open("url","è‡ªå®šä¹‰çª—å£å")</code></pre><h3 id="3-history-ä¿å­˜å½“å‰çª—å£æ‰“å¼€å-æˆåŠŸè®¿é—®è¿‡çš„urlçš„å†å²è®°å½•æ ˆ"><a href="#3-history-ä¿å­˜å½“å‰çª—å£æ‰“å¼€å-æˆåŠŸè®¿é—®è¿‡çš„urlçš„å†å²è®°å½•æ ˆ" class="headerlink" title="3.history: ä¿å­˜å½“å‰çª—å£æ‰“å¼€å,æˆåŠŸè®¿é—®è¿‡çš„urlçš„å†å²è®°å½•æ ˆ"></a>3.history: ä¿å­˜å½“å‰çª—å£æ‰“å¼€å,æˆåŠŸè®¿é—®è¿‡çš„urlçš„å†å²è®°å½•æ ˆ</h3><p>åœ¨å½“å‰çª—å£ä¸­,æ¯è®¿é—®ä¸€ä¸ªæ–°url,éƒ½ä¼šå°†æ–°urlå‹å…¥history<br>API: history.go(n)</p><p>3ç§:</p><pre class="language-none"><code class="language-none">CODEå‰è¿›: history.go(1)  åé€€: history.go(-1)  åˆ·æ–°: history.go(0)</code></pre><h3 id="4-location-ä¿å­˜å½“å‰çª—å£æ­£åœ¨æ‰“å¼€çš„urlçš„å¯¹è±¡"><a href="#4-location-ä¿å­˜å½“å‰çª—å£æ­£åœ¨æ‰“å¼€çš„urlçš„å¯¹è±¡" class="headerlink" title="4.location: ä¿å­˜å½“å‰çª—å£æ­£åœ¨æ‰“å¼€çš„urlçš„å¯¹è±¡"></a>4.location: ä¿å­˜å½“å‰çª—å£æ­£åœ¨æ‰“å¼€çš„urlçš„å¯¹è±¡</h3><p>å±æ€§:<br>.href å®Œæ•´urlåœ°å€<br>.protocol åè®®<br>.host ä¸»æœºå+ç«¯å£å·<br>.hostname ä¸»æœºå<br>.port ç«¯å£å·<br>.pathname ç›¸å¯¹è·¯å¾„<br>.hash #é”šç‚¹åœ°å€<br>.search ?æŸ¥è¯¢å­—ç¬¦ä¸²</p><p>æ–¹æ³•:</p><ol><li>åœ¨å½“å‰çª—å£æ‰“å¼€,å¯åé€€:<br>location.assign(url) =&gt; location.href=url =&gt; location=url</li><li>åœ¨å½“å‰çª—å£æ‰“å¼€,ç¦æ­¢åé€€:<br>location.replace(url)</li><li>é‡æ–°åŠ è½½é¡µé¢: åˆ·æ–°: 2ç§:<ol><li>æ™®é€šåˆ·æ–°:<br>ä¼˜å…ˆä»æµè§ˆå™¨æœ¬åœ°ç¼“å†²è·å–èµ„æº:<br>F5<br>history.go(0)<br>location.reload(/<em>false</em>/)</li><li>å¼ºåˆ¶åˆ·æ–°:<br>æ— è®ºæœ¬åœ°æ˜¯å¦æœ‰ç¼“å­˜,æ€»æ˜¯å¼ºåˆ¶ä»æœåŠ¡å™¨è·å–èµ„æº<br>location.reload(true)</li></ol></li></ol><h3 id="5-å®šæ—¶å™¨-2ç§"><a href="#5-å®šæ—¶å™¨-2ç§" class="headerlink" title="5.å®šæ—¶å™¨: 2ç§:"></a>5.å®šæ—¶å™¨: 2ç§:</h3><ol><li><p>å‘¨æœŸæ€§å®šæ—¶å™¨:<br>ä»€ä¹ˆæ˜¯: è®©ç¨‹åºæ¯éš”æŒ‡å®šçš„æ—¶é—´é—´éš”,åå¤æ‰§è¡Œä¸€é¡¹ä»»åŠ¡<br>ä½•æ—¶: åªè¦è®©ç¨‹åºæŒ‰ç…§æŒ‡å®šçš„æ—¶é—´é—´éš”,è‡ªåŠ¨æ‰§è¡Œä¸€é¡¹ä»»åŠ¡<br>å¦‚ä½•: 3ä»¶äº‹:<br>1.ä»»åŠ¡å‡½æ•°: è®©å®šæ—¶å™¨åå¤æ‰§è¡Œçš„ä»»åŠ¡<br>2.å¯åŠ¨å®šæ—¶å™¨: timer=setInterval(task, interval)</p><pre class="language-none"><code class="language-none">CODEè®©ç¨‹åº,æ¯éš”interval æ¯«ç§’è‡ªåŠ¨æ‰§è¡Œä¸€æ¬¡taskä»»åŠ¡</code></pre><p>3.åœæ­¢å®šæ—¶å™¨: clearInterval(timer)</p><pre class="language-none"><code class="language-none">CODEtimer: å®šæ—¶å™¨çš„åºå·, åœ¨å†…å­˜ä¸­å”¯ä¸€æ ‡è¯†å®šæ—¶å™¨çš„æ•´æ•° ä¸“é—¨ç”¨äºåœæ­¢å®šæ—¶å™¨ å¦‚ä½•è·å¾—: åªèƒ½åœ¨å¯åŠ¨å®šæ—¶å™¨æ—¶è·å¾—ã€‚ ä½•æ—¶: åªè¦ä¸€ä¸ªå®šæ—¶å™¨å¯èƒ½è¢«åœæ­¢,å°±è¦åœ¨å¯åŠ¨æ—¶,å…ˆä¿å­˜å®šæ—¶å™¨åºå· å¥½çš„ä¹ æƒ¯: åœ¨clearIntervalä¹‹å,æ‰‹åŠ¨æ¸…é™¤timerä¸­æ®‹ç•™çš„åºå·: timer=null;</code></pre><p>åœæ­¢å®šæ—¶å™¨: 2ç§æƒ…å†µ:</p><ol><li>ç”¨æˆ·æ‰‹åŠ¨åœæ­¢:</li><li>å®šæ—¶å™¨å¯è‡ªåŠ¨åœæ­¢:<br>åœ¨ä»»åŠ¡å‡½æ•°ä¸­,è®¾å®šä¸´ç•Œå€¼,å¦‚æœæ²¡æœ‰è¾¾åˆ°ä¸´ç•Œå€¼,åˆ™ç»§ç»­æ‰§è¡Œä»»åŠ¡,å¦åˆ™,å¦‚æœè¾¾åˆ°ä¸´ç•Œå€¼,å°±è‡ªåŠ¨è°ƒç”¨clearInterval</li></ol></li></ol><p>2.ä¸€æ¬¡æ€§å®šæ—¶å™¨:<br>ä»€ä¹ˆæ˜¯: è®©ç¨‹åºå…ˆç­‰å¾…ä¸€æ®µæ—¶é—´,å†æ‰§è¡Œä¸€æ¬¡ä»»åŠ¡ã€‚æ‰§è¡Œå,è‡ªåŠ¨åœæ­¢ã€‚<br>ä½•æ—¶: åªè¦è®©ç¨‹åºå»¶è¿Ÿæ‰§è¡Œä¸€ä»¶äº‹æ—¶<br>å¦‚ä½•: 3ä»¶äº‹:<br>1.task<br>2.å¯åŠ¨å®šæ—¶å™¨: timer=setTimeout(task,wait)</p><pre class="language-none"><code class="language-none">CODEè®©ç¨‹åºç­‰å¾…waitæ¯«ç§’å,è‡ªåŠ¨æ‰§è¡Œä¸€æ¬¡task,æ‰§è¡Œåè‡ªåŠ¨åœæ­¢</code></pre><p>3.åœæ­¢å®šæ—¶å™¨: clearTimeout(timer)</p><h3 id="6-å®šæ—¶å™¨åŸç†"><a href="#6-å®šæ—¶å™¨åŸç†" class="headerlink" title="6.å®šæ—¶å™¨åŸç†:"></a>6.å®šæ—¶å™¨åŸç†:</h3><p>å®šæ—¶å™¨ä¸­çš„ä»»åŠ¡å‡½æ•°,å¿…é¡»ç­‰å¾…ä¸»ç¨‹åºæ‰€æœ‰è¯­å¥æ‰§è¡Œå,æ‰èƒ½æ‰§è¡Œã€‚</p><h3 id="7-navigator"><a href="#7-navigator" class="headerlink" title="7.navigator:"></a>7.navigator:</h3><p>1.ä»€ä¹ˆæ˜¯: ä¿å­˜æµè§ˆå™¨é…ç½®ä¿¡æ¯çš„å¯¹è±¡<br>åŒ…æ‹¬:<br>.cookieEnabled: åˆ¤æ–­å½“å‰æµè§ˆå™¨æ˜¯å¦å¯ç”¨cookie</p><p>2.ä»€ä¹ˆæ˜¯cookie: åœ¨å®¢æˆ·ç«¯æŒä¹…å­˜å‚¨ç”¨æˆ·ç§å¯†æ•°æ®çš„å°æ–‡ä»¶<br>ä¸ºä»€ä¹ˆ: å†…å­˜ä¸­æ‰€æœ‰æ•°æ®éƒ½æ˜¯ä¸´æ—¶çš„! ç¨‹åºå…³é—­,å†…å­˜ä¸­ä¸€åˆ‡å˜é‡éƒ½é‡Šæ”¾!<br>ä½•æ—¶: åªè¦å¸Œæœ›åœ¨å®¢æˆ·ç«¯æŒä¹…ä¿å­˜æ•°æ®,éƒ½ç”¨cookie<br>.plugins: åŒ…å«æµè§ˆå™¨æ‰€æœ‰æ’ä»¶ä¿¡æ¯çš„é›†åˆ</p><p>3.ä»€ä¹ˆæ˜¯æ’ä»¶: ä¸ºæµè§ˆå™¨æ·»åŠ æ–°åŠŸèƒ½çš„å°è½¯ä»¶</p><pre class="language-none"><code class="language-none">CODEå¦‚ä½•åˆ¤æ–­æ˜¯å¦å®‰è£…æŒ‡å®šæ’ä»¶: </code></pre><p>.userAgent: ä¿å­˜æµè§ˆå™¨åç§°å’Œç‰ˆæœ¬å·çš„å­—ç¬¦ä¸²<br>ä½•æ—¶: åªè¦åˆ¤æ–­æµè§ˆå™¨åç§°å’Œç‰ˆæœ¬å·</p><h3 id="8-event"><a href="#8-event" class="headerlink" title="8.event:"></a>8.event:</h3><p>ä»€ä¹ˆæ˜¯äº‹ä»¶: äººä¸ºè§¦å‘çš„,æˆ–æµè§ˆå™¨è‡ªåŠ¨è§¦å‘çš„é¡µé¢å†…å®¹çŠ¶æ€çš„æ”¹å˜ã€‚<br>ä»€ä¹ˆæ˜¯äº‹ä»¶å¤„ç†å‡½æ•°: å½“äº‹ä»¶å‘ç”Ÿæ—¶,è‡ªåŠ¨æ‰§è¡Œçš„å‡½æ•°ã€‚<br>å¦‚ä½•ç»‘å®š: 3ç§:</p><ol><li>åœ¨HTMLä¸­ç»‘å®š:<br>ç»‘å®š:<br>å½“äº‹ä»¶å‘ç”Ÿæ—¶: è‡ªåŠ¨æ‰§è¡Œjsè¯­å¥<br>é—®é¢˜: ä¸ç¬¦åˆå†…å®¹ä¸è¡Œä¸ºåˆ†ç¦»çš„åŸåˆ™,ä¸ä¾¿äºç»´æŠ¤å’Œé‡ç”¨<br>ä½†æ˜¯: åœ¨ç»„ä»¶å¼€å‘ä¸­,åè€Œè¦æ±‚å†…å®¹,è¡Œä¸ºå’Œæ ·å¼é›†ä¸­å®šä¹‰åœ¨ä¸€ä¸ªå°ç»„ä»¶å†…,è‡ªæˆä½“ç³»ã€‚</li><li>åœ¨jsä¸­ç»‘å®š, æ¯ä¸ªäº‹ä»¶åªèƒ½ç»‘å®šä¸€ä¸ªå¤„ç†å‡½æ•°:<br>ANY.onäº‹ä»¶å=function(){ â€¦ }<br>å½“äº‹ä»¶å‘ç”Ÿæ—¶: ANY.onäº‹ä»¶å() //this-&gt;ANY<br>é—®é¢˜: ç”¨èµ‹å€¼æ–¹å¼ç»‘å®šäº‹ä»¶å¤„ç†å‡½æ•°</li><li>åœ¨jsä¸­ç»‘å®š,æ¯ä¸ªäº‹ä»¶å¯ç»‘å®šå¤šä¸ªå¤„ç†å‡½æ•°:<br>ANY.addEventListener(â€˜äº‹ä»¶åâ€™,handler)<br>åœ¨æµè§ˆå™¨ä¸­ä¸ºANYå…ƒç´ çš„æŒ‡å®šäº‹ä»¶,æ·»åŠ ä¸€ä¸ªäº‹ä»¶ç›‘å¬å¯¹è±¡ã€‚å°†äº‹ä»¶ç›‘å¬å¯¹è±¡åŠ å…¥åˆ°æµè§ˆå™¨çš„ç›‘å¬é˜Ÿåˆ—ä¸­ã€‚<br>è§¦å‘äº‹ä»¶æ—¶: æµè§ˆå™¨ä¼šéå†ç›‘å¬é˜Ÿåˆ—ä¸­çš„æ¯ä¸ªç›‘å¬å¯¹è±¡,æ‰¾åˆ°è§¦å‘äº‹ä»¶å…ƒç´ ä¸Šå¯¹åº”äº‹ä»¶çš„ç›‘å¬å¯¹è±¡,è°ƒç”¨å…¶å¤„ç†å‡½æ•°<br>ç§»é™¤äº‹ä»¶ç›‘å¬:<br>ANY.removeEventListener(â€˜äº‹ä»¶åâ€™,handler)<br>è¯´æ˜: handlerå¿…é¡»æ˜¯ç»‘å®šæ—¶ä½¿ç”¨çš„åŸå‡½æ•°å¯¹è±¡<br>å¼ºè°ƒ: å¦‚æœä¸€ä¸ªå¤„ç†å‡½æ•°,æœ‰å¯èƒ½è¢«ç§»é™¤,åˆ™ä¸èƒ½ä½¿ç”¨åŒ¿åå‡½æ•°ç»‘å®šã€‚åº”ä½¿ç”¨æœ‰åçš„å‡½æ•°ç»‘å®š</li></ol><h3 id="9-DOMäº‹ä»¶æ¨¡å‹"><a href="#9-DOMäº‹ä»¶æ¨¡å‹" class="headerlink" title="9.DOMäº‹ä»¶æ¨¡å‹:"></a>9.DOMäº‹ä»¶æ¨¡å‹:</h3><p>ä»€ä¹ˆæ˜¯: ä»äº‹ä»¶è§¦å‘åˆ°å¤„ç†å‡½æ•°æ‰§è¡Œ,æ‰€ç»è¿‡çš„è¿‡ç¨‹<br>3ä¸ªé˜¶æ®µ:</p><ol><li>æ•è·capture: ç”±å¤–å‘å†…,è®°å½•å„çº§çˆ¶å…ƒç´ ä¸Šç»‘å®šçš„äº‹ä»¶å¤„ç†å‡½æ•°ã€‚â€”â€”ä»…è®°å½•,ä¸è§¦å‘!</li><li>ç›®æ ‡è§¦å‘: ä¼˜å…ˆè§¦å‘å®é™…ç‚¹å‡»çš„å…ƒç´ ä¸Šç»‘å®šçš„å¤„ç†å‡½æ•°</li><li>å†’æ³¡æ‰§è¡Œ: ç”±å†…å‘å¤–,æŒ‰æ•è·é˜¶æ®µè®°å½•çš„å¤„ç†å‡½æ•°çš„å€’åº,ä¾æ¬¡æ‰§è¡Œçˆ¶å…ƒç´ ä¸Šçš„å¤„ç†å‡½æ•°ã€‚</li></ol><h3 id="10-äº‹ä»¶å¯¹è±¡"><a href="#10-äº‹ä»¶å¯¹è±¡" class="headerlink" title="10.äº‹ä»¶å¯¹è±¡:"></a>10.äº‹ä»¶å¯¹è±¡:</h3><p>ä»€ä¹ˆæ˜¯: å½“äº‹ä»¶å‘ç”Ÿæ—¶,è‡ªåŠ¨åˆ›å»ºçš„,å°è£…äº‹ä»¶ä¿¡æ¯çš„å¯¹è±¡<br>ä½•æ—¶: åªè¦å¸Œæœ›è·å¾—äº‹ä»¶ä¿¡æ¯,æˆ–ä¿®æ”¹äº‹ä»¶çš„é»˜è®¤è¡Œä¸ºæ—¶<br>å¦‚ä½•è·å–: äº‹ä»¶å¯¹è±¡é»˜è®¤æ€»æ˜¯ä»¥å¤„ç†å‡½æ•°ç¬¬ä¸€ä¸ªå‚æ•°,è‡ªåŠ¨ä¼ å…¥<br>å¦‚ä½•ä½¿ç”¨:</p><ol><li><p>å–æ¶ˆå†’æ³¡: e.stopPropagation()</p></li><li><p>åˆ©ç”¨å†’æ³¡:<br>ä¼˜åŒ–: å°½é‡å‡å°‘äº‹ä»¶ç›‘å¬çš„ä¸ªæ•°<br>ä¸ºä»€ä¹ˆ: æµè§ˆå™¨æŸ¥æ‰¾äº‹ä»¶ç›‘å¬,é‡‡ç”¨çš„æ˜¯éå†çš„æ–¹å¼</p><pre class="language-none"><code class="language-none">CODEäº‹ä»¶ç›‘å¬å¤š,æµè§ˆå™¨æŸ¥æ‰¾å°±æ…¢</code></pre><p>ä½•æ—¶: å¦‚æœå¯¹å¤šä¸ªå­å…ƒç´ ç»‘å®šç›¸åŒäº‹ä»¶æ—¶,éƒ½è¦åˆ©ç”¨å†’æ³¡<br>å¦‚ä½•: åªè¦åœ¨çˆ¶å…ƒç´ ç»‘å®šä¸€æ¬¡,æ‰€æœ‰å­å…ƒç´ å…±ç”¨å³å¯!<br>2ä¸ªéš¾é¢˜:</p><pre class="language-none"><code class="language-none">CODE1. è·å¾—ç›®æ ‡å…ƒç´ :  ç›®æ ‡å…ƒç´ : æœ€åˆå®é™…è§¦å‘äº‹ä»¶çš„å½“å‰å…ƒç´   å¦‚ä½•è·å¾—:    é”™è¯¯: this-&gt;çˆ¶å…ƒç´    æ­£ç¡®: e.target2. ç­›é€‰ç›®æ ‡å…ƒç´ :  æ¯”å¦‚: é€šè¿‡nodeName, class, å†…å®¹ã€‚ã€‚ã€‚</code></pre></li><li><p>é˜»æ­¢é»˜è®¤è¡Œä¸º:<br>ä½•æ—¶: åªè¦äº‹ä»¶çš„é»˜è®¤è¡Œä¸ºä¸æ˜¯æƒ³è¦çš„<br>å¦‚ä½•: e.preventDefault();<br>ä½•æ—¶:</p><ol><li>ç”¨aå½“æŒ‰é’®æ—¶,aä¼šè‡ªåŠ¨å‘åœ°å€æ ä¸­æ·»åŠ #é”šç‚¹åœ°å€ã€‚</li><li>æäº¤è¡¨å•æ—¶,å¦‚æœéªŒè¯æ²¡é€šè¿‡,å¯é˜»æ­¢æäº¤<br>è‡ªå®šä¹‰è¡¨å•æäº¤:<br>input button + onclick + form.submit<br>input submit + form.onsubmitäº‹ä»¶ + e.preventDefault()</li><li>HTML5ä¸­æ‹–æ‹½API: é¦–å…ˆè¦é˜»æ­¢æµè§ˆå™¨é»˜è®¤çš„æ‹–æ‹½è¡Œä¸º</li></ol></li></ol><h3 id="11-é¼ æ ‡åæ ‡-3ç»„"><a href="#11-é¼ æ ‡åæ ‡-3ç»„" class="headerlink" title="11.é¼ æ ‡åæ ‡:(3ç»„)"></a>11.é¼ æ ‡åæ ‡:(3ç»„)</h3><pre class="language-none"><code class="language-none">CODE1. ç›¸å¯¹äºå±å¹•å·¦ä¸Šè§’: e.screenX,  e.screenY2. ç›¸å¯¹äºæ–‡æ¡£æ˜¾ç¤ºåŒºå·¦ä¸Šè§’: e.clientX,  e.clientY3. ç›¸å¯¹äºå½“å‰å…ƒç´ å·¦ä¸Šè§’:  e.offsetX,   e.offsetY</code></pre><h3 id="12-é¡µé¢æ»šåŠ¨"><a href="#12-é¡µé¢æ»šåŠ¨" class="headerlink" title="12.é¡µé¢æ»šåŠ¨:"></a>12.é¡µé¢æ»šåŠ¨:</h3><p>äº‹ä»¶: window.onscroll<br>è·å¾—é¡µé¢æ»šåŠ¨è¿‡çš„é«˜åº¦: bodyé¡¶éƒ¨è¶…å‡ºæ–‡æ¡£æ˜¾ç¤ºåŒºé¡¶éƒ¨çš„è·ç¦»</p><pre class="language-none"><code class="language-none">CODEscrollTop=document.documentElement.scrollTop        ||document.body.scrollTop;</code></pre><p>æ»šåŠ¨API:<br>window.scrollTo(left, top)<br>window.scrollBy(leftçš„å¢é‡,topçš„å¢é‡)</p>]]></content>
      
      
      <categories>
          
          <category> BOM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> BOM </tag>
            
            <tag> å‰ç«¯ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CssçŸ¥è¯†æ€»ç»“</title>
      <link href="/2021/08/20/css-zhi-shi-zong-jie/"/>
      <url>/2021/08/20/css-zhi-shi-zong-jie/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰ç«¯çŸ¥è¯†ç‚¹æ€»ç»“â€”â€”CSS"><a href="#å‰ç«¯çŸ¥è¯†ç‚¹æ€»ç»“â€”â€”CSS" class="headerlink" title="å‰ç«¯çŸ¥è¯†ç‚¹æ€»ç»“â€”â€”CSS"></a><strong>å‰ç«¯çŸ¥è¯†ç‚¹æ€»ç»“â€”â€”CSS</strong></h2><p>å¥½è®°æ€§ä¸å¦‚çƒ‚ç¬”å¤´ï¼</p><h3 id="1-CSSçš„æ¦‚è¿°"><a href="#1-CSSçš„æ¦‚è¿°" class="headerlink" title="1.CSSçš„æ¦‚è¿°"></a>1.CSSçš„æ¦‚è¿°</h3><p>1.ä»€ä¹ˆæ˜¯CSS?</p><pre class="language-none"><code class="language-none">CODECSSï¼šCascading Style Sheetså±‚å æ ·å¼è¡¨,çº§è”æ ·å¼è¡¨ï¼ˆç®€ç§°ï¼šæ ·å¼è¡¨ï¼‰</code></pre><p>2.ä½œç”¨</p><pre class="language-none"><code class="language-none">CODEè®¾ç½®HTMLç½‘é¡µå…ƒç´ çš„æ ·å¼</code></pre><p>3.HTMLä¸CSSçš„å…³ç³»</p><pre class="language-none"><code class="language-none">CODEHTMLï¼šè´Ÿè´£å†…å®¹çš„å±•ç¤ºCSSï¼šè´Ÿè´£å†…å®¹ï¼ˆå…ƒç´ ï¼‰çš„ä¿®é¥°</code></pre><p>4.HTMLä¸CSSä¹‹é—´çš„ä½¿ç”¨åŸåˆ™</p><pre class="language-none"><code class="language-none">CODEW3Cå»ºè®®å°½é‡ä½¿ç”¨CSSå±æ€§å»å–ä»£HTMLå±æ€§æ¥ä¿®é¥°å…ƒç´ </code></pre><h3 id="2-CSSè¯­æ³•è§„èŒƒ"><a href="#2-CSSè¯­æ³•è§„èŒƒ" class="headerlink" title="2.CSSè¯­æ³•è§„èŒƒ"></a>2.CSSè¯­æ³•è§„èŒƒ</h3><p>1.ä½¿ç”¨CSSæ ·å¼çš„æ–¹å¼(é‡ç‚¹)</p><pre class="language-none"><code class="language-none">CODE 1.å†…è”æ ·å¼   åˆç§°ä¸ºè¡Œå†…æ ·å¼   ç‰¹ç‚¹ï¼šå°†CSSæ ·å¼å®šä¹‰åœ¨HTMLå¼€å§‹æ ‡è®°ä¸­   è¯­æ³•ï¼š     &lt;ANY style="æ ·å¼å£°æ˜1ï¼›æ ·å¼å£°æ˜2"&gt;&lt;/ANY&gt; æ ·å¼å£°æ˜ï¼š      1.ç”±æ ·å¼å±æ€§å’Œå€¼æ¥ç»„æˆ      2.å±æ€§åä¸å€¼ä¹‹é—´ç”¨ å†’å· è¿æ¥      3.å¤šä¸ªæ ·å¼å£°æ˜ä¹‹é—´ç”¨ åˆ†å· åˆ†å‰²        å¸¸ç”¨çš„CSSæ ·å¼å±æ€§ å’Œ å€¼ï¼š      1.è®¾ç½®æ–‡æœ¬é¢œè‰²çš„å±æ€§å’Œå€¼        å±æ€§ï¼šcolor    å€¼ï¼šåˆæ³•çš„é¢œè‰²å€¼ï¼ˆè‹±æ–‡ï¼‰      2.è®¾ç½®èƒŒæ™¯é¢œè‰²çš„å±æ€§å’Œå€¼        å±æ€§ï¼šbackground    å€¼ï¼šåˆæ³•çš„é¢œè‰²å€¼ï¼ˆè‹±æ–‡ï¼‰      3.è®¾ç½®æ–‡å­—å¤§å°çš„å±æ€§å’Œå€¼        å±æ€§ï¼šfont-size    å€¼ï¼šä»¥pxæˆ–ptä¸ºå•ä½çš„æ•°å­—    exï¼šfont-size:30px;      2.å†…éƒ¨æ ·å¼   åœ¨ç½‘é¡µçš„å¤´å…ƒç´ ä¸­å¢åŠ ä¸€å¯¹&lt;style&gt;æ ‡è®°,åœ¨&lt;style&gt;æ ‡è®°å£°æ˜è¯¥ç½‘é¡µç”¨åˆ°çš„æ ·å¼è§„åˆ™   è¯­æ³•ï¼š &lt;head&gt;             &lt;style&gt;        /*æ³¨é‡Š*/        æ ·å¼è§„åˆ™1        æ ·å¼è§„åˆ™2        ...     &lt;/style&gt;      &lt;/head&gt;    æ ·å¼è§„åˆ™ï¼šç”±é€‰æ‹©å™¨å’Œæ ·å¼å£°æ˜ç»„æˆé€‰æ‹©å™¨ï¼šè§„èŒƒäº†é¡µé¢ä¸­å“ªäº›å…ƒç´ èƒ½å¤Ÿä½¿ç”¨å®šä¹‰å¥½çš„æ ·å¼ï¼ˆå°±æ˜¯æŠŠå£°æ˜å¥½çš„æ ·å¼åŒ¹é…ç»™é¡µé¢ä¸­çš„å…ƒç´ ï¼‰å…ƒç´ é€‰æ‹©å™¨ï¼šç”±å…ƒç´ çš„åç§°ä½œä¸ºé€‰æ‹©å™¨div,p,h1,span,a,imgé€‰æ‹©å™¨{}exï¼šdiv{}    p{}æ ·å¼è§„åˆ™ï¼š   é€‰æ‹©å™¨{      æ ·å¼å£°æ˜ï¼›   }ex:div{   color:red;   font-size:20px;}p{  color:blue;}h1{...} 3.å¤–éƒ¨æ ·å¼   ç‹¬ç«‹äºä»»ä½•ç½‘é¡µçš„ä½ç½®å¤„,å£°æ˜ä¸€ä¸ªæ ·å¼è¡¨æ–‡ä»¶ï¼ˆ***.cssä¸ºåç¼€ï¼‰,   åœ¨.cssæ–‡ä»¶ä¸­ä¿å­˜æ ·å¼è§„åˆ™,ç„¶ååœ¨ç½‘é¡µä¸­å¼•å…¥.cssæ–‡ä»¶ã€‚   ä½¿ç”¨æ­¥éª¤ï¼š       1.åˆ›å»ºæ ·å¼è¡¨æ–‡ä»¶,å¹¶ç¼–å†™æ ·å¼è§„åˆ™   2.åœ¨ç½‘é¡µä¸­å¼•å…¥æ ·å¼è¡¨æ–‡ä»¶     &lt;head&gt;        &lt;link rel="stylesheet" href="**.css"&gt;     &lt;/head&gt;</code></pre><h3 id="3-CSSæ ·å¼ç‰¹å¾"><a href="#3-CSSæ ·å¼ç‰¹å¾" class="headerlink" title="3.CSSæ ·å¼ç‰¹å¾"></a>3.CSSæ ·å¼ç‰¹å¾</h3><pre class="language-none"><code class="language-none">CODE1.ç»§æ‰¿æ€§  å¤§éƒ¨åˆ†æ ·å¼å¯ä»¥è¢«ç»§æ‰¿ï¼ˆå­å…ƒç´ ç»§æ‰¿çˆ¶å…ƒç´ çš„æ ·å¼ç‰¹å¾ï¼‰  å¿…é¡»æ˜¯æœ‰å±‚çº§å…³ç³»çš„åµŒå¥—  &lt;div style="color:red;"&gt;     &lt;p&gt;p&lt;/p&gt;  &lt;/div&gt;2.å±‚å æ€§   å¯ä»¥ä¸ºä¸€ä¸ªå…ƒç´ å®šä¹‰å¤šä¸ªæ ·å¼,å½“æ ·å¼å±æ€§ä¸å†²çªæ—¶,å¯ä»¥åŒæ—¶å°†è¿™äº›æ ·å¼åº”ç”¨åˆ°å…ƒç´ ä¸Š  div{     color:red;  }  div{     font-size:20px;  }  div{     background:gray;  }3.ä¼˜å…ˆçº§  å¦‚æœæ ·å¼å£°æ˜å†²çªæ—¶,ä¼šæŒ‰ç…§æ ·å¼çš„ä¼˜å…ˆçº§æ¥åº”ç”¨å®šä¹‰çš„æ ·å¼è§„åˆ™      ç”±ä½åˆ°é«˜ï¼š     æµè§ˆå™¨é»˜è®¤è®¾ç½®       æœ€ä½     å†…éƒ¨æ ·å¼å’Œå¤–éƒ¨æ ·å¼   ä¸­(å°±è¿‘åŸåˆ™)     å†…è”æ ·å¼             æœ€é«˜4.è°ƒæ•´æ˜¾ç¤ºçš„ä¼˜å…ˆçº§  !importantè§„åˆ™ï¼š  è°ƒæ•´æ˜¾ç¤ºçš„ä¼˜å…ˆçº§  å°†!importantæ·»åŠ åœ¨å±æ€§å€¼ä¹‹å,ä¸å€¼ä¹‹é—´ç”¨ç©ºæ ¼éš”å¼€,å°±èƒ½ä¼˜å…ˆä½¿ç”¨å½“å‰æ ·å¼  ex:    color:red !important;</code></pre><h3 id="4-CSSåŸºç¡€é€‰æ‹©å™¨ï¼ˆé‡ç‚¹ï¼‰"><a href="#4-CSSåŸºç¡€é€‰æ‹©å™¨ï¼ˆé‡ç‚¹ï¼‰" class="headerlink" title="4.CSSåŸºç¡€é€‰æ‹©å™¨ï¼ˆé‡ç‚¹ï¼‰"></a>4.CSSåŸºç¡€é€‰æ‹©å™¨ï¼ˆé‡ç‚¹ï¼‰</h3><pre class="language-none"><code class="language-none">CODE1.é€‰æ‹©å™¨çš„ä½œç”¨  è§„èŒƒé¡µé¢ä¸­å“ªäº›å…ƒç´ èƒ½å¤Ÿä½¿ç”¨å®šä¹‰å¥½çš„æ ·å¼2.é€‰æ‹©å™¨è¯¦è§£  1.é€šç”¨é€‰æ‹©å™¨    ä½œç”¨ï¼šå¯ä»¥ä¿®é¥°é¡µé¢ä¸Šçš„ä»»ä½•å…ƒç´ è¯­æ³•ï¼š*{æ ·å¼å£°æ˜}æ•ˆç‡è¾ƒä½,å°½é‡å°‘ç”¨ex:  *{    color:red;    font-size:40px;  }</code></pre><p>2.å…ƒç´ é€‰æ‹©å™¨</p><pre class="language-none"><code class="language-none">CODE    ä½œç”¨ï¼šè®¾ç½®é¡µé¢ä¸ŠæŸç§ï¼ˆç±»ï¼‰å…ƒç´ çš„æ ·å¼è¯­æ³•ï¼šæ ‡è®°åç§°{å£°æ˜æ ·å¼}exï¼š  div{}  p{}  span{}  </code></pre><p>3.ç±»é€‰æ‹©å™¨</p><pre class="language-none"><code class="language-none">CODE    ä½œç”¨ï¼šå®šä¹‰é¡µé¢ä¸ŠæŸä¸ªæˆ–æŸäº›å…ƒç´ çš„æ ·å¼(è°æƒ³ç”¨è°å°±å¯ä»¥å¼•ç”¨)ç‰¹ç‚¹ï¼šé€šè¿‡å…ƒç´ çš„classå±æ€§è¿›è¡Œå¼•ç”¨è¯­æ³•ï¼š   1.å£°æ˜     .ç±»å{æ ·å¼å£°æ˜}     æ³¨æ„ï¼š       1.ç±»åæ˜¯è‡ªå®šä¹‰çš„,ä½†æ˜¯æ³¨æ„ç±»åä¸èƒ½ä»¥æ•°å­—å¼€å¤´       2.ç±»åä¸èƒ½åŒ…å«ç‰¹æ®Šç¬¦å·ï¼ˆ&amp;,^,%,$,#,@ï¼‰       3.å¯ä»¥åŒ…å«ï¼ˆ_,-ï¼‰   2.å¼•ç”¨     &lt;ANY class="ç±»å"&gt;    ç‰¹æ®Šç”¨æ³•ï¼š       1.å¤šç±»é€‰æ‹©å™¨     è®©ä¸€ä¸ªå…ƒç´ åŒæ—¶å¼•ç”¨å¤šä¸ªç±»é€‰æ‹©å™¨     è¯­æ³•ï¼š     &lt;ANY class="ç±»å1 ç±»å2 ç±»å3 ..."&gt;       2.åˆ†ç±»é€‰æ‹©å™¨     å°†å…ƒç´ é€‰æ‹©å™¨å’Œç±»é€‰æ‹©å™¨è”åˆä½¿ç”¨     å¯¹åŒä¸€ç±»å…ƒç´ ä¸­æŸäº›ç‰¹æ®Šçš„å†…å®¹è¿›è¡Œä¿®é¥°     è¯­æ³•ï¼šå…ƒç´ åç§°.ç±»é€‰æ‹©å™¨{æ ·å¼å£°æ˜}        ex:div.text{color:red;}      &lt;div class="text"&gt;dddd&lt;/div&gt;      &lt;div&gt;d1d1d1&lt;/div&gt;</code></pre><p>4.idé€‰æ‹©å™¨</p><pre class="language-none"><code class="language-none">CODEä½œç”¨ï¼šè®¾ç½®æŒ‡å®šIDå…ƒç´ çš„æ ·å¼ï¼ˆä¸“å±å®šåˆ¶ï¼‰è¯­æ³•ï¼š#idå€¼{æ ·å¼å£°æ˜}ex:  &lt;div id="one"&gt;&lt;/div&gt;  #one{    color:red;  }</code></pre><p>5.ç¾¤ç»„é€‰æ‹©å™¨</p><pre class="language-none"><code class="language-none">CODEä½œç”¨ï¼šå°†å¤šä¸ªé€‰æ‹©å™¨æ”¾åœ¨ä¸€èµ·è¿›è¡Œæ ·å¼çš„å£°æ˜å®šä¹‰è¯­æ³•ï¼šé€‰æ‹©å™¨1,é€‰æ‹©å™¨2,é€‰æ‹©å™¨3,...{æ ·å¼å£°æ˜} ex:   div,#main,.mycolor,p.text{color:red;}   ç­‰åŒäºï¼š div{color:red}; #main{color:red}; .mycolor{color:red}; p.text{color:red};</code></pre><p>6.åä»£é€‰æ‹©å™¨</p><pre class="language-none"><code class="language-none">CODEä½œç”¨ï¼šé€šè¿‡å…ƒç´ çš„åä»£å…³ç³»åŒ¹é…å…ƒç´ ï¼ˆå¤šçº§åµŒå¥—ï¼‰è¯­æ³•ï¼šé€‰æ‹©å™¨1 é€‰æ‹©å™¨2 é€‰æ‹©å™¨3{æ ·å¼å£°æ˜}</code></pre><p>7.å­ä»£é€‰æ‹©å™¨</p><pre class="language-none"><code class="language-none">CODEä½œç”¨ï¼šé€šè¿‡å…ƒç´ çš„å­ä»£ï¼ˆä¸€å±‚å±‚çº§å…³ç³»ï¼‰å…³ç³»åŒ¹é…å…ƒç´ è¯­æ³•ï¼šé€‰æ‹©å™¨1&gt;é€‰æ‹©å™¨2{æ ·å¼å£°æ˜}</code></pre><p>8.ä¼ªç±»é€‰æ‹©å™¨</p><pre class="language-none"><code class="language-none">CODEä½œç”¨ï¼šåŒ¹é…å…ƒç´ ä¸åŒçš„çŠ¶æ€çš„é€‰æ‹©å™¨è¯­æ³•ï¼š   æ‰€æœ‰çš„ä¼ªç±»éƒ½æ˜¯ä»¥ï¼šä½œä¸ºå¼€å§‹   é€‰æ‹©å™¨ï¼šä¼ªç±»é€‰æ‹©å™¨{æ ·å¼å£°æ˜}1.è¿æ¥ä¼ªç±»     :link åŒ¹é…å…ƒç´ å°šæœªè®¿é—®çš„çŠ¶æ€ :visited åŒ¹é…å…ƒç´ è®¿é—®è¿‡çš„çŠ¶æ€2.åŠ¨æ€ä¼ªç±»     :hover åŒ¹é…é¼ æ ‡æ‚¬åœåœ¨å…ƒç´ ä¸Šæ—¶çš„çŠ¶æ€ :active åŒ¹é…å…ƒç´ è¢«æ¿€æ´»æ—¶çš„çŠ¶æ€ï¼ˆè¶…é“¾æ¥,æ–‡æœ¬æ¡†,å¯†ç æ¡†ç‚¹å‡»çš„æ—¶å€™ï¼‰ :focus åŒ¹é…å…ƒç´ è·å–ç„¦ç‚¹æ—¶çš„çŠ¶æ€ï¼ˆæ–‡æœ¬æ¡†å’Œå¯†ç æ¡†ï¼‰3.é€‰æ‹©å™¨çš„ä¼˜å…ˆçº§  æƒå€¼ï¼šæ ‡è¯†å½“å‰é€‰æ‹©å™¨çš„é‡è¦ç¨‹åº¦,æƒå€¼è¶Šå¤§ä¼˜å…ˆçº§è¶Šé«˜ã€‚    å…ƒç´ é€‰æ‹©å™¨ï¼š1ç±»é€‰æ‹©å™¨ï¼š  10ä¼ªç±»é€‰æ‹©å™¨ï¼š10IDé€‰æ‹©æ‹©å™¨ï¼š100å†…è”æ ·å¼ï¼š  1000é€‰æ‹©å™¨çš„æƒå€¼åŠ åˆ°ä¸€èµ·,å¤§çš„ä¼˜å…ˆæƒå€¼ç›¸åŒ,ä»¥åå®šä¹‰çš„ä¸ºä¸»</code></pre><h3 id="5-å°ºå¯¸ä¸è¾¹æ¡†"><a href="#5-å°ºå¯¸ä¸è¾¹æ¡†" class="headerlink" title="5.å°ºå¯¸ä¸è¾¹æ¡†"></a>5.å°ºå¯¸ä¸è¾¹æ¡†</h3><p>1.å•ä½</p><pre class="language-none"><code class="language-none">CODE1.å°ºå¯¸å•ä½  1.pxï¼šåƒç´     1024*768  2.in:è‹±å¯¸    1in=2.54cm  3.ptï¼šç£…(1pt=1/72in)    å¤šæ•°ç”¨äºè¡¨ç¤ºæ–‡å­—çš„å¤§å°  4.cm:å˜ç±³  5.mm:æ¯«ç±³  6.em:ç›¸å¯¹äºçˆ¶å…ƒç´ ä¹˜ä»¥å€æ•°(å¤šä¸ªçˆ¶å…ƒç´ 2em)  7.rem:æ ¹ç›¸å¯¹ï¼ˆå…ƒç´ å­—ä½“å¤§å°ä¹˜ä»¥å€æ•°,html\bodyï¼‰2.é¢œè‰²å•ä½ï¼ˆé¢œè‰²å–å€¼ï¼‰  1.è‹±æ–‡å•è¯    red,blue,gray,green,yellow,black....  2.rgb(r,g,b)    r:0-255g:0-255b:0-255  3.rgba(r,g,b,alpha)    alpha:é€æ˜åº¦,å–å€¼ä¸º0-1ä¹‹é—´çš„å°æ•°,å€¼è¶Šå¤§,ä¸é€æ˜åº¦è¶Šé«˜  4.#rrggbb    ç”±6ä½16è¿›åˆ¶çš„æ•°å­—\å­—æ¯è¡¨ç¤ºä¸€ä¸ªé¢œè‰²0-9æˆ–A-f#000000:é»‘è‰²#ffffff:ç™½è‰²#eeeeee:ç°è‰²#ff11aa  5.#rgbæ˜¯ä¸Šé¢çš„ç¼©å†™å½¢å¼    #000:é»‘è‰²#fff:ç™½è‰²#f1a</code></pre><p>2.å°ºå¯¸å±æ€§</p><pre class="language-none"><code class="language-none">CODE1.ä½œç”¨  è®¾ç½®å…ƒç´ çš„å®½åº¦å’Œé«˜åº¦2.è¯­æ³•  1.å®½åº¦    width:å®½åº¦min-width:æœ€å°å®½åº¦max-width:æœ€å¤§å®½åº¦  2.é«˜åº¦    heightï¼šé«˜åº¦min-height:æœ€å°é«˜åº¦max-height:æœ€å¤§é«˜åº¦3.é¡µé¢ä¸­å“ªäº›å…ƒç´ å…è®¸è®¾ç½®å°ºå¯¸å±æ€§  1.æ‰€æœ‰çš„å—çº§å…ƒç´ éƒ½å…è®¸è®¾ç½®å°ºå¯¸    div,p,h1,h2..h6,ul,ol,dl,ç»“æ„æ ‡è®°  2.æœ¬èº«å…·å¤‡widthå’Œheightå±æ€§çš„è¡Œå†…å…ƒç´ æ˜¯å¯ä»¥è®¾ç½®çš„    img,table  3.è¡Œå†…å—å…è®¸è®¾ç½®å°ºå¯¸    å¤§éƒ¨åˆ†çš„è¡¨å•æ§ä»¶ï¼ˆå•é€‰æŒ‰é’®,å¤é€‰æ¡†ï¼‰  4.å¤§éƒ¨åˆ†çš„è¡Œå†…å…ƒç´ æ˜¯æ— æ³•è®¾ç½®å°ºå¯¸    a,span,b,i,u,sç­‰</code></pre><p>3.æº¢å‡ºå¤„ç†</p><pre class="language-none"><code class="language-none">CODEå½“å†…å®¹å¤š,å…ƒç´ åŒºåŸŸå°çš„æ—¶å€™,å°±ä¼šäº§ç”Ÿæº¢å‡ºçš„æ•ˆæœ,é»˜è®¤éƒ½æ˜¯çºµå‘æº¢å‡ºã€‚å±æ€§ï¼šoverflow,overflow-x,overflow-yå–å€¼ï¼š   1.visible     å¯è§çš„,é»˜è®¤å€¼,æº¢å‡ºå¯è§   2.hidden     éšè—çš„,æº¢å‡ºçš„å†…å®¹å…¨éƒ¨éšè—,æº¢å‡ºå†…å®¹ä¸å¯è§   3.scroll     æ˜¾ç¤ºæ»šåŠ¨æ¡,æº¢å‡ºæ—¶,å¯ç”¨   4.auto     è‡ªåŠ¨,æº¢å‡ºæ—¶æ‰æ˜¾ç¤ºæ»šåŠ¨æ¡å¹¶å¯ç”¨</code></pre><p>4.è¾¹æ¡†</p><pre class="language-none"><code class="language-none">CODE1.è¾¹æ¡†å±æ€§  1.ç®€å†™æ–¹å¼    border:width style color;     width:è¾¹æ¡†çš„å®½åº¦,ä»¥pxä¸ºå•ä½çš„æ•°å€¼     style:è¾¹æ¡†çš„æ ·å¼       å–å€¼ï¼š         solid:å®çº¿     dotted:è™šçº¿è¾¹æ¡†(ç‚¹)     dashed:è™šçº¿è¾¹æ¡†(çº¿)     color:è¾¹æ¡†çš„é¢œè‰²         å–å€¼ï¼šåˆæ³•çš„é¢œè‰²å€¼     transparent:é€æ˜è‰²     æ³¨æ„ï¼š       å–æ¶ˆè¾¹æ¡†ï¼šborder:0;æˆ–border:none;  2.å•è¾¹å®šä¹‰    åªè®¾ç½®æŸä¸€æ¡è¾¹çš„è¾¹æ¡†å±æ€§ï¼šborder-æ–¹å‘:width style color;    æ–¹å‘ï¼štop/bottom/left/right       ä¸Š   ä¸‹     å·¦   å³  3.å•å±æ€§å®šä¹‰    åªè®¾ç½®å››æ¡è¾¹æ¡†çš„ä¸€ä¸ªå±æ€§å±æ€§ï¼šborder-width/style/color:å€¼ï¼›  ex:border-width:3px;     border-style:dotted;     border-color:red;  4.å•è¾¹å•å±æ€§çš„å®šä¹‰    åªè®¾ç½®æŸä¸€ä¸ªæ–¹å‘çš„æŸä¸€ä¸ªå±æ€§å±æ€§ï¼š  border-æ–¹å‘-å±æ€§ï¼šå€¼ï¼›  æ–¹å‘ï¼štop/bottom/left/right  å±æ€§ï¼šwidth/style/color  exï¼š    border-left-color:blue;    border-right-style:solid;    border-bottom-width:6px;2.è¾¹æ¡†å€’è§’  å°†å…ƒç´ çš„ç›´è§’å€’æ¢æˆåœ†è§’  å±æ€§ï¼šborder-radius  å–å€¼ï¼š        1.ä»¥pxä¸ºå•ä½çš„æ•°å€¼        2.ç™¾åˆ†æ¯” %  è®¾ç½®åœ†å½¢ï¼ˆ50%ï¼‰  å•è§’è®¾ç½®ï¼š     border-top-left-radius:å·¦ä¸Šè§’ border-top-right-radius:å³ä¸Šè§’ border-bottom-left-radius:å·¦ä¸‹è§’ border-bottom-right-radius:å³ä¸‹è§’3.è¾¹æ¡†é˜´å½± å±æ€§ï¼šbox-shadow å–å€¼ï¼šh-shadow v-shadow blur spread color inset    h-shadow:é˜´å½±åœ¨æ°´å¹³æ–¹å‘çš„åç§»è·ç¦»,å¿…é¡»å€¼        å–å€¼ä¸ºæ­£ï¼šé˜´å½±å‘å³åç§»     å–å€¼ä¸ºè´Ÿï¼šé˜´å½±å‘å·¦åç§»v-shadow:é˜´å½±åœ¨å‚ç›´æ–¹å‘çš„åç§»è·ç¦»,å¿…é¡»å€¼        å–å€¼ä¸ºæ­£ï¼šé˜´å½±å‘ä¸‹åç§»     å–å€¼ä¸ºè´Ÿï¼šé˜´å½±å‘ä¸Šåç§»blur:é˜´å½±æ¨¡ç³Šè·ç¦»,å–å€¼è¶Šå¤§,æ¨¡ç³Šæ•ˆæœè¶Šæ˜æ˜¾,ä»¥pxä¸ºå•ä½çš„æ•°å€¼ï¼ˆå¯é€‰å€¼ï¼‰spread:é˜´å½±çš„å¤§å°,æŒ‡å®šè¦åœ¨åŸºç¡€é˜´å½±ä¸Šæ‰©å……å‡ºæ¥çš„å¤§å°,å–å€¼ä»¥pxä¸ºå•ä½çš„æ•°å€¼ï¼ˆå¯é€‰å€¼ï¼‰color:é˜´å½±é¢œè‰²ï¼ˆå¯é€‰å€¼ï¼‰inset:å°†é»˜è®¤çš„å¤–é˜´å½±æ”¹ä¸ºå†…é˜´å½±ï¼ˆå¯é€‰å€¼ï¼‰4.è½®å»“  è½®å»“æŒ‡çš„æ˜¯è¾¹æ¡†çš„è¾¹æ¡†,ç»˜åˆ¶äºè¾¹æ¡†å¤–å›´çš„ä¸€æ¡çº¿  å±æ€§ï¼š     outline:width style color; widht:è½®å»“çš„å®½åº¦ style:è½®å»“çš„æ ·å¼      å–å€¼ï¼šsolid/dotted/dashed color:è½®å»“çš„é¢œè‰²  å–æ¶ˆè½®å»“ï¼š       outline:none/0;</code></pre><h3 id="6-æ¡†æ¨¡å‹"><a href="#6-æ¡†æ¨¡å‹" class="headerlink" title="6.æ¡†æ¨¡å‹"></a>6.æ¡†æ¨¡å‹</h3><p>1.ä»€ä¹ˆæ˜¯æ¡†æ¨¡å‹</p><pre class="language-none"><code class="language-none">CODEæ¡†æ¨¡å‹ï¼šbox model,å®šä¹‰äº†å…ƒç´ æ¡†å¤„ç†å…ƒç´ çš„å†…å®¹,å†…è¾¹è·,å¤–è¾¹è·ä»¥åŠè¾¹æ¡†çš„ä¸€ç§è®¡ç®—æ–¹å¼ã€‚å¤–è¾¹è·ï¼šå…ƒç´ ä¸å…ƒç´ ä¹‹é—´çš„ç©ºç™½é—´è·å†…è¾¹è·ï¼šå…ƒç´ è¾¹æ¡†ä¸å…ƒç´ å†…å®¹ä¹‹é—´çš„é—´è·æ¡†æ¨¡å‹çš„è®¡ç®—æ¨¡å¼ï¼š    å…ƒç´ çš„å®é™…å åœ°å®½åº¦=å·¦å³å¤–è¾¹è·+å·¦å³è¾¹æ¡†+å·¦å³å†…è¾¹è·+width;å…ƒç´ çš„å®é™…å åœ°é«˜åº¦=ä¸Šä¸‹å¤–è¾¹è·+ä¸Šä¸‹è¾¹æ¡†+ä¸Šä¸‹çš„å†…è¾¹è·+height</code></pre><h3 id="7-å¤–è¾¹è·"><a href="#7-å¤–è¾¹è·" class="headerlink" title="7.å¤–è¾¹è·"></a>7.å¤–è¾¹è·</h3><p>1.ä»€ä¹ˆæ˜¯å¤–è¾¹è·</p><pre class="language-none"><code class="language-none">CODEå›´ç»•åœ¨å…ƒç´ è¾¹æ¡†å¤–çš„ç©ºç™½è·ç¦»,å°±æ˜¯å¤–è¾¹è·ä¹Ÿèƒ½è¡¨ç¤ºå½“å‰å…ƒç´ ä¸å…¶ä»–å…ƒç´ ä¹‹é—´çš„ç©ºç™½è·ç¦»</code></pre><p>2.è¯­æ³•</p><pre class="language-none"><code class="language-none">CODEå±æ€§ï¼š   margin å®šä¹‰æŸä¸ªå…ƒç´ å››ä¸ªæ–¹å‘çš„å¤–è¾¹è·   margin-top/bottom/left/right å®šä¹‰å•è¾¹çš„å¤–è¾¹è·å–å€¼ï¼š   1.å…·ä½“æ•°å€¼,ä»¥pxä¸ºå•ä½   2.å–å€¼ä¸ºè´Ÿ     è®©å…ƒç´ å‘ç›¸åçš„æ–¹å‘ç§»åŠ¨ margin-left:  å–å€¼ä¸ºæ­£,è®©å…ƒç´ å‘å³ç§»åŠ¨  å–å€¼ä¸ºè´Ÿ,è®©å…ƒç´ å‘å·¦ç§»åŠ¨ margin-top:  å–å€¼ä¸ºæ­£,è®©å…ƒç´ å‘ä¸‹ç§»åŠ¨  å–å€¼ä¸ºè´Ÿ,è®©å…ƒç´ å‘ä¸Šç§»åŠ¨   3.å–å€¼ä¸º%     å¤–è¾¹è·çš„å€¼,æ˜¯çˆ¶å…ƒç´ çš„å®½æˆ–é«˜çš„å æ¯”ï¼ˆ50%ï¼‰   4.å–å€¼ä¸ºauto     è‡ªåŠ¨è®¡ç®—å¤–è¾¹è·çš„å€¼ï¼ˆæ§åˆ¶å—çº§å…ƒç´ æ°´å¹³å±…ä¸­å¯¹é½ï¼‰ç®€å†™æ–¹å¼ï¼š    1.margin:value  å››ä¸ªæ–¹å‘çš„å¤–è¾¹è·2.margin:v1 v2;  v1:ä¸Šä¸‹å¤–è¾¹è·  v2:å·¦å³å¤–è¾¹è·3.margin:v1 v2 v3;  v1:ä¸Šå¤–è¾¹è·  v2:å·¦å³å¤–è¾¹è·  v3:ä¸‹å¤–è¾¹è·3.margin:v1 v2 v3 v4;         ä¸Š å³ ä¸‹ å·¦  ï¼ˆé¡ºæ—¶é’ˆæ–¹å‘ï¼‰</code></pre><p>3.è‡ªå¸¦å¤–è¾¹è·çš„å…ƒç´ </p><pre class="language-none"><code class="language-none">CODEbody,h1~h6,p,ul,ol,dl,dd,preé€šè¿‡CSS Reset(cssé‡å†™)çš„æ‰‹æ®µ,æ¥é‡ç½®å…·å¤‡å¤–è¾¹è·çš„å…ƒç´  body,h1,h2,h3,h4,h5,h6,ul,ol,dl,dd,pre{    margin:0; }</code></pre><p>4.å¤–è¾¹è·çš„ç‰¹æ®Šæ•ˆæœ</p><pre class="language-none"><code class="language-none">CODE1.å¤–è¾¹è·åˆå¹¶  å½“ä¸¤ä¸ªå‚ç›´å¤–è¾¹è·ç›¸é‡æ—¶,ä»–ä»¬å°†åˆå¹¶ä¸ºä¸€ä¸ª,æœ€ç»ˆå–å†³äºä¸¤ä¸ªå¤–è¾¹è·ä¸­è·ç¦»è¾ƒå¤§çš„é‚£ä¸ªã€‚  å¦‚æœä¸¤ä¸ªå¤–è¾¹è·ç›¸é‡æ—¶å€¼ç›¸ç­‰,é‚£ä¹ˆå–å…¶ä¸­ä¸€ä¸ªå€¼ã€‚2.å¤–è¾¹è·çš„æº¢å‡º  åœ¨æŸäº›æ¡ä»¶ä¸‹,ä¸ºå­å…ƒç´ è®¾ç½®ä¸Šå¤–è¾¹è·æ—¶,æœ‰å¯èƒ½ä¼šä½œç”¨åˆ°çˆ¶å…ƒç´ ä¸Šã€‚      1.çˆ¶å…ƒç´ æ²¡æœ‰ä¸Šè¾¹æ¡†  2.ä¸ºå­å…ƒç´ è®¾ç½®ä¸Šå¤–è¾¹è·æ—¶2.åœ¨d2ä¸­åµŒå¥—ä¸€ä¸ªå­å…ƒç´ div,id="d3",è®¾ç½®å…¶å°ºå¯¸ä¸º100*100,å¹¶è®¾ç½®å…¶èƒŒæ™¯é¢œè‰²3.è®¾ç½®d3çš„ä¸Šå¤–è¾¹è·ä¸º50px,è§‚å¯Ÿå…¶ç»“æœã€‚ è§£å†³æº¢å‡ºæ–¹æ¡ˆï¼š    1.ä¸ºçˆ¶å…ƒç´ å¢åŠ ä¸Šè¾¹æ¡†  å¼Šç«¯ï¼šå¯¹çˆ¶å…ƒç´ çš„é«˜åº¦æœ‰å½±å“2.ä½¿ç”¨çˆ¶å…ƒç´ çš„ä¸Šå†…è¾¹è·æ¥å–ä»£å­å…ƒç´ çš„ä¸Šå¤–è¾¹è·  å¼Šç«¯ï¼šå¯¹çˆ¶å…ƒç´ çš„é«˜åº¦æœ‰å½±å“3.åœ¨çˆ¶å…ƒç´ çš„ç¬¬ä¸€ä¸ªå­å…ƒç´ ä½ç½®å¤„,å¢åŠ ä¸€ä¸ªç©º(table) è¡Œå†…å…ƒç´ ä»¥åŠè¡Œå†…å—å…ƒç´ çš„å‚ç›´å¤–è¾¹è·     1.è¡Œå†…å…ƒç´ å‚ç›´å¤–è¾¹è·æ— æ•ˆï¼ˆimgé™¤å¤–ï¼‰ 2.è¡Œå†…å—å…ƒç´ ,è®¾ç½®å‚ç›´å¤–è¾¹è·æ—¶,æ•´è¡Œå…ƒç´ éƒ½è·Ÿç€å‘ç”Ÿæ”¹å˜</code></pre><h3 id="8-å†…è¾¹è·"><a href="#8-å†…è¾¹è·" class="headerlink" title="8.å†…è¾¹è·"></a>8.å†…è¾¹è·</h3><p>1.ä»€ä¹ˆæ˜¯å†…è¾¹è·</p><pre class="language-none"><code class="language-none">CODEå…ƒç´ è¾¹æ¡†ä¸å†…å®¹ä¹‹é—´çš„ç©ºç™½è·ç¦»å†…è¾¹è·ä¼šæ‰©å¤§å…ƒç´ è¾¹æ¡†å åœ°åŒºåŸŸ</code></pre><p>2.è¯­æ³•</p><pre class="language-none"><code class="language-none">CODEå±æ€§ï¼š   padding å››ä¸ªæ–¹å‘çš„å†…è¾¹è·   padding-top/bottom/left/right è®¾ç½®å•è¾¹å†…è¾¹è·å–å€¼ï¼š      ä»¥pxä¸ºå•ä½çš„æ•°å€¼      ä»¥%å½¢å¼è®¾ç½®ç®€å†™æ–¹å¼ï¼š      1.padding:value;  å››ä¸ªæ–¹å‘çš„å†…è¾¹è·  2.padding:v1 v2;     v1:ä¸Šä¸‹å†…è¾¹è·    v2:å·¦å³å†…è¾¹è·  3.padding:v1 v2 v3;    v1:ä¸Š    v2:å·¦å³    v3:ä¸‹  4.padding:v1 v2 v3 v4;            ä¸Š å³ ä¸‹ å·¦ ï¼ˆé¡ºæ—¶é’ˆï¼‰</code></pre><h3 id="9-å±æ€§ï¼šbox-sizing"><a href="#9-å±æ€§ï¼šbox-sizing" class="headerlink" title="9.å±æ€§ï¼šbox-sizing"></a>9.å±æ€§ï¼šbox-sizing</h3><p>ä½œç”¨ï¼šæŒ‡å®šæ¡†æ¨¡å‹çš„è®¡ç®—æ–¹å¼</p><pre class="language-none"><code class="language-none">CODEå–å€¼ï¼š   1.content-box     é»˜è®¤å€¼,é‡‡ç”¨é»˜è®¤çš„è®¡ç®—å…ƒç´ çš„å åœ°åŒºåŸŸ å®é™…å åœ°å®½åº¦=å·¦å³è¾¹æ¡†+å·¦å³å¤–è¾¹è·+å·¦å³å†…è¾¹è·+width; å®é™…å åœ°é«˜åº¦=ä¸Šä¸‹è¾¹æ¡†+ä¸Šä¸‹å¤–è¾¹è·+ä¸Šä¸‹å†…è¾¹è·+height;   2.border-box     å…ƒç´ çš„å°ºå¯¸,ä¼šåŒ…å«borderä»¥åŠpaddingçš„å€¼ å®é™…å åœ°å®½åº¦=width(åŒ…å«äº†borderå’Œpadding) å®é™…å åœ°é«˜åº¦=height(åŒ…å«äº†borderå’Œpadding)</code></pre><p>3.èƒŒæ™¯å±æ€§<br>èƒŒæ™¯ï¼šå¯ä»¥æ˜¯å•ä¸€é¢œè‰²æˆ–å›¾ç‰‡å¡«å……å…ƒç´ <br>1.èƒŒæ™¯è‰²</p><pre class="language-none"><code class="language-none">CODEå±æ€§ï¼šbackground-colorå–å€¼ï¼šåˆæ³•çš„é¢œè‰²å€¼æ³¨æ„ï¼šèƒŒæ™¯é¢œè‰²é»˜è®¤æ˜¯ä»è¾¹æ¡†çš„ä½ç½®å¤„å¼€å§‹å¡«å……çš„</code></pre><p>2.èƒŒæ™¯å›¾ç‰‡</p><pre class="language-none"><code class="language-none">CODEå±æ€§ï¼šbackground-imageå–å€¼ï¼šurl(å›¾ç‰‡çš„è·¯å¾„);ex:background-image:url(a.jpg);</code></pre><p>3.èƒŒæ™¯å›¾ç‰‡å¹³é“º</p><pre class="language-none"><code class="language-none">CODEå±æ€§ï¼šbackground-repeatå–å€¼ï¼š   repeat é»˜è®¤å€¼,æ¨ªå‘çºµå‘éƒ½å¹³é“º   no-repeat ä¸å¹³é“ºï¼ˆå›¾ç‰‡åªæ˜¾ç¤ºä¸€æ¬¡ï¼‰   repeat-x åªåœ¨æ°´å¹³æ–¹å‘å¹³é“º   repeat-y åªåœ¨å‚ç›´æ–¹å‘å¹³é“º</code></pre><p>4.èƒŒæ™¯å›¾ç‰‡å°ºå¯¸</p><pre class="language-none"><code class="language-none">CODEå±æ€§ï¼šbackground-sizeå–å€¼ï¼š   1.width/height  (ex:200px 300px)   2.width%/height%  (ex:50% 50% æ˜¯å…ƒç´ è‡ªå·±çš„é«˜å®½å æ¯”)   3.cover     å°†èƒŒæ™¯å›¾ç­‰æ¯”æ”¾å¤§,ç›´åˆ°èƒŒæ™¯å›¾å®Œå…¨è¦†ç›–åˆ°å…ƒç´ çš„æ‰€æœ‰åŒºåŸŸä¸ºæ­¢ã€‚   4.contain     å°†èƒŒæ™¯å›¾ç­‰æ¯”æ”¾å¤§,ç›´åˆ°èƒŒæ™¯å›¾ç¢°åˆ°å…ƒç´ çš„æŸä¸€ä¸ªè¾¹ç¼˜ä¸ºæ­¢</code></pre><p>5.èƒŒæ™¯å›¾ç‰‡å›ºå®š</p><pre class="language-none"><code class="language-none">CODEä½œç”¨ï¼šå°†èƒŒæ™¯å›¾å›ºå®šåœ¨ç½‘é¡µçš„æŸä¸ªä½ç½®å¤„,ä¸€ç›´åœ¨å¯è§†åŒºåŸŸä¸­,ä¸ä¼šéšç€æ»šåŠ¨æ¡è€Œå‘ç”Ÿä½ç½®çš„å˜åŒ–ã€‚å±æ€§ï¼šbackground-attachmentå–å€¼ï¼š   1.scroll é»˜è®¤å€¼,æ»šåŠ¨   2.fixed å›ºå®š</code></pre><p>6.èƒŒæ™¯å›¾ç‰‡å®šä½</p><pre class="language-none"><code class="language-none">CODEä½œç”¨ï¼šæ”¹å˜èƒŒæ™¯å›¾åœ¨å…ƒç´ ä¸­çš„ä½ç½®å±æ€§ï¼šbackground-positionå–å€¼ï¼š   1.x y  å…·ä½“çš„æ•°å€¼ï¼ˆpxï¼‰     x:   èƒŒæ™¯å›¾æ°´å¹³åç§»è·ç¦»   å–å€¼ä¸ºæ­£,å‘å³ç§»åŠ¨   å–å€¼ä¸ºè´Ÿ,å‘å·¦ç§»åŠ¨ y:   èƒŒæ™¯å›¾å‚ç›´åç§»è·ç¦»   å–å€¼ä¸ºæ­£,å‘ä¸‹ç§»åŠ¨   å–å€¼ä¸ºè´Ÿ,å‘ä¸Šç§»åŠ¨   2.x% y%     0% 0% èƒŒæ™¯å›¾åœ¨å·¦ä¸Šè§’ 100% 100% èƒŒæ™¯å›¾åœ¨å³ä¸‹è§’ 50% 50% èƒŒæ™¯å›¾åœ¨ä¸­é—´ä½ç½®   3.å…³é”®å­— x:left/center/right y:top/center/bottom ex:background-position:right top;</code></pre><p>7.èƒŒæ™¯ç®€å†™å±æ€§</p><pre class="language-none"><code class="language-none">CODEåœ¨ä¸€ä¸ªå±æ€§ä¸­æŒ‡å®šèƒŒæ™¯çš„å¤šä¸ªå±æ€§å€¼å±æ€§ï¼šbackgroundå–å€¼ï¼šcolor url() repeat attachment positionexï¼š  background:gray url(a.jpg);æ³¨æ„ï¼š  å¦‚æœä¸è®¾ç½®å…¶ä¸­æŸä¸ªå±æ€§å€¼çš„è¯,è¯¥ä½ç½®é‡‡ç”¨é»˜è®¤å€¼ã€‚</code></pre><h3 id="8-æ¸å˜"><a href="#8-æ¸å˜" class="headerlink" title="8.æ¸å˜"></a>8.æ¸å˜</h3><p>1.ä»€ä¹ˆæ˜¯æ¸å˜</p><pre class="language-none"><code class="language-none">CODEæ¸å˜æŒ‡å®šæ˜¯å¤šç§é¢œè‰²å¹³ç¼“å˜æ¢çš„ä¸€ç§æ˜¾ç¤ºæ•ˆæœã€‚</code></pre><p>2.æ¸å˜çš„ä¸»è¦å› ç´ </p><pre class="language-none"><code class="language-none">CODE1.è‰²æ ‡ï¼šä¸€ç§é¢œè‰²åŠå…¶å‡ºç°çš„ä½ç½®2.ä¸€ä¸ªæ¸å˜æ˜¯ç”±å¤šä¸ªè‰²æ ‡ç»„æˆï¼ˆè‡³å°‘ä¸¤ä¸ªï¼‰</code></pre><p>3.æ¸å˜åˆ†ç±»</p><pre class="language-none"><code class="language-none">CODE1.çº¿æ€§æ¸å˜  ä»¥ç›´çº¿çš„æ–¹å‘æ¥å¡«å……æ•ˆæœ2.å¾„å‘æ¸å˜  ä»¥åœ†å½¢çš„æ–¹å¼æ¥å®ç°å¡«å……3.é‡å¤æ¸å˜  å°†çº¿æ€§æ¸å˜æˆ–å¾„å‘æ¸å˜ é‡å¤å‡ æ¬¡å®ç°å¡«å……</code></pre><p>4.æ¸å˜è¯¦è§£</p><pre class="language-none"><code class="language-none">CODE1.çº¿æ€§æ¸å˜  å±æ€§ï¼šbackground-image  å–å€¼ï¼šlinear-gradient(angle,color-point1,color-point2,....);    1.angle  è¡¨ç¤ºæ¸å˜å¡«å……çš„æ–¹å‘æˆ–è§’åº¦  å–å€¼ï¼š    1.å…³é”®å­—      to top ä»ä¸‹å‘ä¸Šå¡«å……æ¸å˜è‰²      to bottom ä»ä¸Šå‘ä¸‹å¡«å……æ¸å˜è‰²      to left ä»å³å‘å·¦å¡«å……æ¸å˜è‰²      to right ä»å·¦å‘å³å¡«å……æ¸å˜è‰²    2.è§’åº¦å€¼     0deg ä»ä¸‹å‘ä¸Šå¡«å……,ç­‰åŒäºto top     90deg ä»å·¦å‘å³å¡«å……,ç­‰åŒäºto right     180deg ä»ä¸Šåˆ°ä¸‹å¡«å……,ç­‰åŒäºto bottom     270deg ä»å³å‘å·¦å¡«å……,ç­‰åŒäºto left    2.color-point  è‰²æ ‡ï¼šé¢œè‰² åŠå…¶ ä½ç½®  å–å€¼ï¼šé¢œè‰² ä»¥åŠ ä½ç½®çš„ç»„åˆ,ä¸­é—´ç”¨ç©ºæ ¼åˆ†å¼€  ex:    1.red 0%      åœ¨å¡«å……æ–¹å‘çš„å¼€å§‹ä½ç½®å¤„é¢œè‰²ä¸ºçº¢è‰²    2.green 50%      åˆ°å¡«å……æ–¹å‘ä¸€åŠçš„ä½ç½®å¤„,é¢œè‰²å˜ä¸ºç»¿è‰²    3.blue 200px      åˆ°å¡«å……æ–¹å‘çš„200pxçš„ä½ç½®å¤„,é¢œè‰²å˜ä¸ºè“è‰²2.å¾„å‘æ¸å˜  å±æ€§ï¼š  background-image:radial-gradient([size at position],  color-point1,color-point2,...);  size at position:       size:åŠå¾„,ä»¥pxä¸ºå•ä½çš„æ•°å€¼  position:åœ†å¿ƒæ‰€åœ¨ä½ç½®       1.x y å…·ä½“æ•°å€¼       2.x% y% å…ƒç´ å®½å’Œé«˜çš„å æ¯”       3.å…³é”®å­—         x:left,center,right     y:top,center,bottom  exï¼š    100px at right top åŠå¾„     å³ä¸Šè§’ä½ç½®3.é‡å¤æ¸å˜  1.é‡å¤çº¿æ€§æ¸å˜    background-image:repeating-linear-gradient    (angle,color-point1,color-point2,...);color-point:ä½ç½®ä¸€å®šè¦ç»™ç»å¯¹æ•°å€¼ï¼ˆpxï¼‰,ä¸è¦ç”¨ç›¸å¯¹å•ä½%  2.é‡å¤å¾„å‘æ¸å˜    background-image:repeating-radial-gradient    ([size at position],color-point1,color-point2,...);</code></pre><h3 id="9-æµè§ˆå™¨å…¼å®¹æ€§"><a href="#9-æµè§ˆå™¨å…¼å®¹æ€§" class="headerlink" title="9.æµè§ˆå™¨å…¼å®¹æ€§"></a>9.æµè§ˆå™¨å…¼å®¹æ€§</h3><pre class="language-none"><code class="language-none">CODE å„ä¸ªæµè§ˆå™¨çš„æ–°ç‰ˆæœ¬éƒ½æ”¯æŒæ¸å˜å±æ€§å¯¹äºä¸æ”¯æŒçš„æµè§ˆå™¨ç‰ˆæœ¬,å¯ä»¥é€šè¿‡å¢åŠ æµè§ˆå™¨å‰ç¼€çš„æ–¹å¼,è®©æµè§ˆå™¨æ”¯æŒæ¸å˜å±æ€§Firefox:-moz-Chrome &amp; Sagari:-webkit-Opera:-o-IE:-ms-</code></pre><p>2.æ–‡æœ¬æ ¼å¼åŒ–å±æ€§<br>1.å­—ä½“å±æ€§</p><pre class="language-none"><code class="language-none">CODE1.æŒ‡å®šå­—ä½“  å±æ€§ï¼šfont-family  å–å€¼ï¼šå­—ä½“åç§°,åç§°ä¹‹é—´ç”¨é€—å·éš”å¼€  exï¼š  font-family:"å¾®è½¯é›…é»‘",Arial,"é»‘ä½“";2.å­—ä½“å¤§å°  å±æ€§ï¼šfont-size  å–å€¼ï¼šä»¥pxæˆ–ptä¸ºå•ä½çš„æ•°å­—3.å­—ä½“åŠ ç²—  å±æ€§ï¼šfont-weight  å–å€¼ï¼š     1.bold åŠ ç²—ï¼ˆb,hnï¼‰ 2.normal æ­£å¸¸ 3.value æ— å•ä½çš„æ•°å­—ï¼ˆæ•´ç™¾å€ï¼‰   400-900   400ï¼šç­‰åŒäºnormal   900ï¼šç­‰åŒäºbold4.å­—ä½“æ ·å¼  å±æ€§ï¼šfont-style  å–å€¼ï¼š     1.normal æ­£å¸¸æ˜¾ç¤º  2.italic æ–œä½“æ˜¾ç¤º5.å°å‹å¤§å†™å­—æ¯   å°†å°å†™å­—ç¬¦å˜æˆå¤§å†™,ä½†æ–‡æœ¬çš„å¤§å°ä¸å°å†™å­—ç¬¦ä¸€è‡´   å±æ€§ï¼šfont-variant   å–å€¼ï¼š      1.normal æ­£å¸¸  2.small-caps å°å‹çš„å¤§å†™å­—ç¬¦6.å­—ä½“å±æ€§ç®€å†™  å±æ€§ï¼šfont  å–å€¼ï¼šstyle variant weight size family;  æ³¨æ„ï¼š    å¦‚æœç”¨ç®€å†™æ–¹å¼,å¿…é¡»è®¾ç½®familyçš„å€¼,å¦åˆ™æ— æ•ˆã€‚font:12px; é”™è¯¯font:12px "é»‘ä½“"; æ­£ç¡®</code></pre><p>2.æ–‡æœ¬æ ¼å¼</p><pre class="language-none"><code class="language-none">CODE1.æ–‡æœ¬é¢œè‰²  å±æ€§ï¼šcolor  å–å€¼ï¼šåˆæ³•çš„é¢œè‰²å€¼2.æ–‡æœ¬æ’åˆ—  ä½œç”¨ï¼šæŒ‡å®šæ–‡æœ¬,è¡Œå†…,è¡Œå†…å—å…ƒç´ çš„æ°´å¹³å¯¹é½æ–¹å¼ã€‚  å±æ€§ï¼štext-align  å–å€¼ï¼šleft/center/right/justify(ä¸¤ç«¯å¯¹é½)3.æ–‡å­—ä¿®é¥°ï¼ˆçº¿æ¡ï¼‰  å±æ€§ï¼štext-decoration  å–å€¼ï¼š    none:æ— ä»»ä½•çº¿æ¡ä¿®é¥°underline:ä¸‹åˆ’çº¿ä¿®é¥°overline:ä¸Šåˆ’çº¿ä¿®é¥°    line-through:åˆ é™¤çº¿ä¿®é¥°4.è¡Œé«˜  ä½œç”¨:å®šä¹‰ä¸€è¡Œæ–‡æœ¬çš„é«˜åº¦  ç‰¹ç‚¹ï¼šå¦‚æœè¡Œé«˜çš„é«˜åº¦å¤§äºå­—ä½“æœ¬èº«çš„å¤§å°,é‚£ä¹ˆè¯¥è¡Œæ–‡æœ¬å°†åœ¨æŒ‡å®šçš„è¡Œé«˜å†…å‘ˆç°å‚ç›´å±…ä¸­çš„æ•ˆæœã€‚  å±æ€§:line-height  å–å€¼ï¼šä»¥pxä¸ºå•ä½æ•°å€¼5.é¦–è¡Œæ–‡æœ¬ç¼©è¿›  å±æ€§ï¼štext-indent  å–å€¼ï¼šä»¥pxä¸ºå•ä½çš„æ•°å€¼6.æ–‡æœ¬é˜´å½±  å±æ€§ï¼štext-shadow  å–å€¼ï¼šh-shadow v-shadow blur color;</code></pre><h3 id="10-è¡¨æ ¼"><a href="#10-è¡¨æ ¼" class="headerlink" title="10.è¡¨æ ¼"></a>10.è¡¨æ ¼</h3><p>1.è¡¨æ ¼çš„å¸¸ç”¨å±æ€§</p><pre class="language-none"><code class="language-none">CODE1.è¾¹è·å±æ€§ï¼špadding2.è¾¹æ¡†å±æ€§ï¼šborder3.å°ºå¯¸å±æ€§ï¼šwidth,height4.æ–‡æœ¬æ ¼å¼åŒ–å±æ€§ï¼šfont-*,text-*,line-height5.èƒŒæ™¯å±æ€§ï¼šé¢œè‰²,å›¾ç‰‡,æ¸å˜6.vertical-align  ä½œç”¨ï¼šæŒ‡å®šå•å…ƒæ ¼æ•°æ®å‚ç›´å¯¹é½æ–¹å¼  å–å€¼ï¼š     top:ä¸Šå¯¹é½ middle:å±…ä¸­å¯¹é½ bottom:ä¸‹å¯¹é½ ç»ƒä¹ ï¼šåˆ›å»ºç½‘é¡µ,å¹¶åœ¨ç½‘é¡µä¸­æ·»åŠ è¡¨æ ¼     1.è¡¨æ ¼å°ºå¯¸ä¸º400*400,4è¡Œ4åˆ—; 2.æ¯ä¸ªå•å…ƒæ ¼çš„å°ºå¯¸ä¸º100*100,å†…å®¹éšæ„; 3.è®¾ç½®è¡¨æ ¼å’Œå•ä½å…ƒæ ¼çš„è¾¹æ¡†ä¸º1px solid #000; 4.è®¾ç½®æ¯ä¸ªå•å…ƒæ ¼çš„å·¦å†…è¾¹è·ä¸º20px; 5.å°è¯•ä¸ºæ¯ä¸ªå•å…ƒæ ¼å¢åŠ ä¸Šå¤–è¾¹è·15pxã€‚</code></pre><p>2.è¡¨æ ¼çš„ç‰¹æ®Šå±æ€§</p><pre class="language-none"><code class="language-none">CODE1.è¾¹æ¡†åˆå¹¶  å–å€¼ï¼šborder-collapse  å–å€¼ï¼š     1.separate   é»˜è®¤å€¼,å³åˆ†ç¦»è¾¹æ¡†æ¨¡å¼ 2.collapse   è¾¹æ¡†åˆå¹¶2.è¾¹æ¡†è¾¹è·  ä½œç”¨ï¼šè®¾ç½®å•å…ƒæ ¼ä¹‹é—´æˆ–å•å…ƒæ ¼ä¸è¡¨æ ¼ä¹‹é—´çš„è·ç¦»  å±æ€§ï¼šborder-spacing  å–å€¼ï¼š    1.ç»™å®šä¸€ä¸ªå€¼ï¼šæ°´å¹³å’Œå‚ç›´çš„é—´è·ç›¸åŒ2.ç»™ä¸¤ä¸ªå€¼ï¼š  ç¬¬ä¸€ä¸ªå€¼ è¡¨ç¤ºæ°´å¹³é—´è·  ç¬¬äºŒä¸ªå€¼ è¡¨ç¤ºå‚ç›´é—´è·æ³¨æ„ï¼šåªæœ‰åœ¨è¾¹æ¡†åˆ†ç¦»æ¨¡å¼ä¸‹,è¾¹æ¡†è¾¹è·æ‰æœ‰æ•ˆæœ,å³border-collapse:separateæ—¶,border-spacingæ‰æœ‰æ•ˆã€‚</code></pre><p>3.è¡¨æ ¼æ ‡é¢˜ä½ç½®</p><pre class="language-none"><code class="language-none">CODEå±æ€§ï¼šcaption-sideå–å€¼ï¼š    1.top:é»˜è®¤å€¼,æ ‡é¢˜åœ¨è¡¨æ ¼å†…å®¹ä¹‹ä¸Š2.bottom:æ ‡é¢˜åœ¨è¡¨æ ¼å†…å®¹ä¹‹ä¸‹</code></pre><p>4.æ˜¾ç¤ºè§„åˆ™</p><pre class="language-none"><code class="language-none">CODEä½œç”¨ï¼šç”¨æ¥å¸®åŠ©æµè§ˆå™¨æŒ‡å®šå¦‚ä½•å¸ƒå±€ä¸€å¼ è¡¨,ä¹Ÿå°±æ˜¯æŒ‡å®štdå°ºå¯¸çš„è®¡ç®—æ–¹å¼ã€‚å±æ€§ï¼štable-layoutå–å€¼ï¼š   1.auto     é»˜è®¤å€¼,å³è‡ªåŠ¨å¸ƒå±€è¡¨æ ¼,åˆ—çš„å°ºå¯¸å®é™…ä¸Šç”±å†…å®¹æ¥å†³å®šçš„ã€‚   2.fixed     å›ºå®šè¡¨æ ¼å¸ƒå±€,åˆ—çš„å°ºå¯¸ç”±è®¾ç½®çš„å€¼ä¸ºå‡†è‡ªåŠ¨è¡¨æ ¼å¸ƒå±€VSå›ºå®šè¡¨æ ¼å¸ƒå±€ï¼š    1.è‡ªåŠ¨è¡¨æ ¼å¸ƒå±€  1.å•å…ƒæ ¼çš„å¤§å°ä¼šé€‚åº”å†…å®¹  2.è¡¨æ ¼å¤æ‚æ—¶,åŠ è½½é€Ÿåº¦è¾ƒæ…¢ï¼ˆç¼ºç‚¹ï¼‰  3.è‡ªåŠ¨è¡¨æ ¼å¸ƒå±€ä¼šæ¯”è¾ƒçµæ´»ï¼ˆä¼˜ç‚¹ï¼‰  4.é€‚ç”¨äºä¸ç¡®å®šæ¯åˆ—å¤§å°æ—¶ä½¿ç”¨    2.å›ºå®šè¡¨æ ¼å¸ƒå±€  1.å•å…ƒæ ¼çš„å°ºå¯¸å–å†³äºè®¾å®šçš„å€¼  2.ä»»ä½•æƒ…å†µä¸‹éƒ½ä¼šåŠ è½½æ˜¾ç¤ºè¡¨æ ¼ï¼ˆä¼˜ç‚¹ï¼‰  3.é€‚ç”¨äºç¡®å®šæ¯åˆ—å¤§å°æ—¶ä½¿ç”¨  4.å›ºå®šè¡¨æ ¼å¸ƒå±€ä¸å¤Ÿçµæ´»ï¼ˆç¼ºç‚¹ï¼‰</code></pre><h3 id="11-å®šä½-æµ®åŠ¨å®šä½"><a href="#11-å®šä½-æµ®åŠ¨å®šä½" class="headerlink" title="11.å®šä½-æµ®åŠ¨å®šä½"></a>11.å®šä½-æµ®åŠ¨å®šä½</h3><p>1.å®šä½</p><pre class="language-none"><code class="language-none">CODEå®šä½ï¼šæŒ‡çš„æ˜¯æ”¹å˜å…ƒç´ åœ¨é¡µé¢ä¸­çš„é»˜è®¤ä½ç½®</code></pre><p>2.å®šä½çš„åˆ†ç±»</p><pre class="language-none"><code class="language-none">CODEæŒ‰ç…§å®šä½çš„æ•ˆæœ,å¯ä»¥åˆ†æˆä»¥ä¸‹å‡ ç±»ï¼š   1.æ™®é€šæµå®šä½ï¼ˆé»˜è®¤çš„å®šä½æ–¹å¼ï¼‰   2.æµ®åŠ¨å®šä½   3.ç›¸å¯¹å®šä½   4.ç»å¯¹å®šä½   5.å›ºå®šå®šä½</code></pre><p>3.å®šä½è¯¦è§£</p><pre class="language-none"><code class="language-none">CODE1.æ™®é€šæµå®šä½  åˆç§°ä¸ºæ–‡æ¡£æµå®šä½,é¡µé¢ä¸­å…ƒç´ çš„é»˜è®¤å®šä½æ–¹å¼  1.æ¯ä¸ªå…ƒç´ åœ¨é¡µé¢ä¸­éƒ½æœ‰è‡ªå·±çš„ç©ºé—´  2.æ¯ä¸ªå…ƒç´ é»˜è®¤éƒ½æ˜¯åœ¨å…¶çˆ¶å…ƒç´ çš„å·¦ä¸Šè§’å¼€å§‹æ˜¾ç¤º  3.é¡µé¢ä¸­çš„å—çº§å…ƒç´ éƒ½æ˜¯ä»ä¸Šå¾€ä¸‹æ’åˆ—,æ¯ä¸ªå…ƒç´ ç‹¬å ä¸€è¡Œ  4.é¡µé¢ä¸­çš„è¡Œå†…å…ƒç´ ä»¥åŠè¡Œå†…å—éƒ½æ˜¯æŒ‰ç…§ä»å·¦åˆ°å³çš„é¡ºåºæ¥æ’åˆ—çš„  è¦è§£å†³çš„é—®é¢˜ï¼šè®©å¤šä¸ªå—çº§å…ƒç´ åœ¨ä¸€è¡Œä¸­æ˜¾ç¤º2.æµ®åŠ¨å®šä½  1.ä»€ä¹ˆæ˜¯æµ®åŠ¨&amp;ç‰¹ç‚¹    1.å…ƒç´ ä¸€æ—¦æµ®åŠ¨èµ·æ¥,å°†ä¸å æ®é¡µé¢ç©ºé—´ï¼ˆè„±ç¦»äº†æ–‡æ¡£æµï¼‰,å…¶å®ƒæœªæµ®åŠ¨å…ƒç´ å°†ä¸Šå‰è¡¥ä½ã€‚2.æµ®åŠ¨å…ƒç´ ä¼šåœé åœ¨çˆ¶å…ƒç´ çš„å·¦è¾¹æˆ–å³è¾¹,æˆ–å…¶å®ƒå·²ç»æµ®åŠ¨çš„å…ƒç´ çš„è¾¹ç¼˜ä¸Šã€‚3.æµ®åŠ¨å®šä½è§£å†³çš„é—®é¢˜ï¼šèƒ½å¤Ÿè®©å¤šä¸ªå—çº§å…ƒç´ åœ¨ä¸€è¡Œä¸­æ˜¾ç¤ºã€‚  2.è¯­æ³•    å±æ€§ï¼šfloatå–å€¼ï¼š   1.left     å·¦æµ®åŠ¨,è®©å…ƒç´ åœé åœ¨çˆ¶å…ƒç´ çš„å·¦è¾¹æˆ–æŒ¨ç€å·¦ä¾§å·²ç»æµ®åŠ¨çš„å…ƒç´    2.right     å³æµ®åŠ¨,è®©å…ƒç´ åœé åœ¨çˆ¶å…ƒç´ çš„å³è¾¹æˆ–æŒ¨ç€å³ä¾§å·²ç»æµ®åŠ¨çš„å…ƒç´    3.none     é»˜è®¤å€¼,å³æ— ä»»ä½•æµ®åŠ¨æ•ˆæœ</code></pre><h3 id="12-æµ®åŠ¨å¼•å‘çš„ç‰¹æ®Šæ•ˆæœ"><a href="#12-æµ®åŠ¨å¼•å‘çš„ç‰¹æ®Šæ•ˆæœ" class="headerlink" title="12.æµ®åŠ¨å¼•å‘çš„ç‰¹æ®Šæ•ˆæœ"></a>12.æµ®åŠ¨å¼•å‘çš„ç‰¹æ®Šæ•ˆæœ</h3><p>1.å…ƒç´ ä¸€æ—¦æµ®åŠ¨èµ·æ¥ä»¥åå°±ä¼šå˜æˆå—çº§å…ƒç´ </p><pre class="language-none"><code class="language-none">CODEå…è®¸ä¿®æ”¹å°ºå¯¸èƒ½æ­£å¸¸å¤„ç†å‚ç›´æ–¹å‘å¤–è¾¹è·</code></pre><p>2.å½“çˆ¶å…ƒç´ æ˜¾ç¤ºä¸ä¸‹æ‰€æœ‰å·²æµ®åŠ¨å…ƒç´ æ—¶,æœ€åä¸€ä¸ªå°†æ¢è¡Œ,ä½†æ˜¯,æœ‰å¯èƒ½è¢«å¡ä½ï¼›<br>3.å…ƒç´ ä¸€æ—¦æµ®åŠ¨èµ·æ¥å,å®½åº¦å°†ä»¥å†…å®¹ä¸ºä¸»ï¼ˆæœªæŒ‡å®šå®½åº¦æƒ…å†µä¸‹ï¼‰ï¼›<br>4.æ–‡æœ¬,è¡Œå†…å…ƒç´ ,è¡Œå†…å—å…ƒç´ æ˜¯é‡‡ç”¨ç¯ç»•çš„æ–¹å¼æ¥æ’åˆ—çš„,æ˜¯ä¸ä¼šåˆ«æµ®åŠ¨å…ƒç´ å‹åœ¨åº•ä¸‹çš„,è€Œä¼šå·§å¦™çš„é¿å¼€æµ®åŠ¨å…ƒç´ ã€‚</p><h3 id="13-æ¸…é™¤æµ®åŠ¨å¸¦æ¥çš„å½±å“"><a href="#13-æ¸…é™¤æµ®åŠ¨å¸¦æ¥çš„å½±å“" class="headerlink" title="13.æ¸…é™¤æµ®åŠ¨å¸¦æ¥çš„å½±å“"></a>13.æ¸…é™¤æµ®åŠ¨å¸¦æ¥çš„å½±å“</h3><p>å…ƒç´ ä¸€æ—¦æµ®åŠ¨èµ·æ¥ä¹‹å,å°±ä¼šå¯¹åç»­å…ƒç´ å¸¦æ¥ä¸€å®šçš„ä½ç½®å½±å“ï¼ˆåç»­å…ƒç´ è¦ä¸Šå‰è¡¥ä½ï¼‰,å¦‚æœåç»­å…ƒç´ ä¸æƒ³è¢«å½±å“ï¼ˆä¸æƒ³è¡¥ä½ï¼‰,é‚£ä¹ˆå°±å¯ä»¥é€šè¿‡æ¸…é™¤æµ®åŠ¨çš„æ–¹å¼æ¥è§£å†³<br>å±æ€§ï¼šclear<br>å–å€¼ï¼š</p><pre class="language-none"><code class="language-none">CODE1.left  æ¸…é™¤å½“å‰å…ƒç´ å‰é¢çš„å…ƒç´ å·¦æµ®åŠ¨æ‰€å¸¦æ¥çš„å½±å“2.right  æ¸…é™¤å½“å‰å…ƒç´ å‰é¢çš„å…ƒç´ å³æµ®åŠ¨æ‰€å¸¦æ¥çš„å½±å“3.both  æ¸…é™¤å½“å‰å…ƒç´ å‰é¢å…ƒç´ ä»»ä½•ä¸€ç§æµ®åŠ¨æ‰€å¸¦æ¥çš„å½±å“4.none  é»˜è®¤å€¼,ä¸åšä»»ä½•çš„æ¸…é™¤æµ®åŠ¨æ“ä½œ</code></pre><h3 id="14-æµ®åŠ¨å…ƒç´ å¯¹çˆ¶å…ƒç´ é«˜åº¦çš„å½±å“"><a href="#14-æµ®åŠ¨å…ƒç´ å¯¹çˆ¶å…ƒç´ é«˜åº¦çš„å½±å“" class="headerlink" title="14.æµ®åŠ¨å…ƒç´ å¯¹çˆ¶å…ƒç´ é«˜åº¦çš„å½±å“"></a>14.æµ®åŠ¨å…ƒç´ å¯¹çˆ¶å…ƒç´ é«˜åº¦çš„å½±å“</h3><p>1.å…ƒç´ çš„é«˜åº¦éƒ½æ˜¯ä»¥æœªæµ®åŠ¨å…ƒç´ çš„é«˜åº¦ä¸ºå‡†çš„,æµ®åŠ¨å…ƒç´ æ˜¯ä¸å é¡µé¢çš„é«˜åº¦çš„</p><pre class="language-none"><code class="language-none">CODE è§£å†³çˆ¶å…ƒç´ çš„é«˜åº¦æ–¹æ¡ˆå¦‚ä¸‹ï¼š    1.ç›´æ¥è®¾ç½®çˆ¶å…ƒç´ çš„é«˜åº¦  å¼Šç«¯ï¼šä¸æ˜¯æ¯æ¬¡éƒ½çŸ¥é“çˆ¶å…ƒç´ çš„é«˜åº¦2.è®¾ç½®çˆ¶å…ƒç´ ä¹Ÿæµ®åŠ¨  å¼Šç«¯ï¼šä¸æ˜¯ä»»ä½•æ—¶å€™çˆ¶å…ƒç´ éƒ½éœ€è¦æµ®åŠ¨,è€Œä¸”æµ®åŠ¨ä¼šå½±å“åç»­å…ƒç´ 3.ä¸ºçˆ¶å…ƒç´ è®¾ç½®overflow  å–å€¼ï¼šhiddenæˆ–auto  å¼Šç«¯ï¼šå¦‚æœæœ‰å†…å®¹éœ€è¦æº¢å‡ºæ˜¾ç¤ºçš„è¯,ä¹Ÿä¼šä¸€åŒè¢«éšè—4.åœ¨çˆ¶å…ƒç´ ä¸­,è¿½åŠ ç©ºå­å…ƒç´ (å—çº§),å¹¶è®¾ç½®å…¶clear:both;</code></pre><h3 id="15-æ˜¾ç¤º"><a href="#15-æ˜¾ç¤º" class="headerlink" title="15.æ˜¾ç¤º"></a>15.æ˜¾ç¤º</h3><p>1.æ˜¾ç¤ºæ–¹å¼</p><pre class="language-none"><code class="language-none">CODE1.ä»€ä¹ˆæ˜¯æ˜¾ç¤ºæ–¹å¼  å†³å®šäº†å…ƒç´ åœ¨ç½‘é¡µä¸­çš„è¡¨ç°å½¢å¼ï¼ˆå—çº§,è¡Œå†…,è¡Œå†…å—ï¼‰2.è¯­æ³•  å±æ€§ï¼šdisplay  å–å€¼ï¼š     1.none ä¸æ˜¾ç¤ºå…ƒç´ -éšè—   ç‰¹ç‚¹ï¼šè„±ç¦»æ–‡æ¡£æµ,ä¸å æ®é¡µé¢ç©ºé—´ 2.block   è®©å…ƒç´ è¡¨ç°çš„å’Œå—çº§å…ƒç´ ä¸€è‡´   ç‰¹ç‚¹ï¼š      ç‹¬å ä¸€è¡Œ,å¯æ˜¯ä¿®æ”¹é«˜å®½ 3.inline   è®©å…ƒç´ è¡¨ç°çš„å’Œè¡Œå†…å…ƒç´ ä¸€è‡´   ç‰¹ç‚¹ï¼š      ä¸å…è®¸ä¿®æ”¹å°ºå¯¸      å¤šä¸ªå…ƒç´ åœ¨ä¸€è¡Œä¸­æ˜¾ç¤º      æ— æ³•è®¾ç½®å‚ç›´å¤–è¾¹è· 4.inline-block   è®©å…ƒç´ è¡¨ç°çš„å’Œè¡Œå†…å—å…ƒç´ ä¸€è‡´   ç‰¹ç‚¹ï¼š     å¤šä¸ªå…ƒç´ åœ¨ä¸€è¡Œä¸­æ˜¾ç¤º,ä½†æ˜¯å¯ä»¥ä¿®æ”¹å°ºå¯¸ 5.table   è®©å…ƒç´ è¡¨ç°çš„ä¸è¡¨æ ¼ä¸€è‡´   ç‰¹ç‚¹ï¼š      å°ºå¯¸ä»¥å†…å®¹ä¸ºå‡†      æ¯ä¸ªå…ƒç´ ç‹¬å ä¸€è¡Œ      å…è®¸ä¿®æ”¹å°ºå¯¸</code></pre><p>2.æ˜¾ç¤ºæ•ˆæœ</p><pre class="language-none"><code class="language-none">CODE1.æ˜¾ç¤º/éšè—  å±æ€§ï¼švisibility  å–å€¼ï¼š      1.visible:é»˜è®¤å€¼,å…ƒç´ å¯è§  2.hidden:å…ƒç´ ä¸å¯è§-éšè—  é¢è¯•ï¼šdisplay:noneå’Œvisibility:hiddençš„åŒºåˆ«        display:none ä¸å é¡µé¢ç©ºé—´    visibility:hidden å é¡µé¢ç©ºé—´2.é€æ˜åº¦  å±æ€§ï¼šopacity  å–å€¼ï¼š0.0ï¼ˆå®Œå…¨é€æ˜ï¼‰~1.0ï¼ˆå®Œå…¨ä¸é€æ˜ï¼‰ä¹‹é—´çš„å°æ•°3.å‚ç›´æ–¹å‘å¯¹é½æ–¹å¼  å±æ€§ï¼švertical-align  åœºåˆï¼š     1.è¡¨æ ¼ä¸­ä½¿ç”¨   å–å€¼ï¼štop/bottom/middle 2.å›¾ç‰‡ï¼ˆimgï¼‰ä¸­ä½¿ç”¨   å–å€¼ï¼š      topï¼šä¸Š      bottomï¼šä¸‹      middleï¼šä¸­é—´      baseline:åŸºçº¿å¯¹é½,é»˜è®¤å€¼</code></pre><h3 id="16-å…‰æ ‡"><a href="#16-å…‰æ ‡" class="headerlink" title="16.å…‰æ ‡"></a>16.å…‰æ ‡</h3><p>1.ä½œç”¨</p><pre class="language-none"><code class="language-none">CODEæ”¹å˜é¼ æ ‡æ‚¬åœåœ¨å…ƒç´ ä¸Šæ—¶,é¼ æ ‡çš„çŠ¶æ€</code></pre><p>2.è¯­æ³•</p><pre class="language-none"><code class="language-none">CODEå±æ€§ï¼šcursorå–å€¼ï¼š    1.default: é»˜è®¤2.pointer: å°æ‰‹3.crosshair: +4.text: I5.wait: ç­‰å¾…6.help: å¸®åŠ© ç»ƒä¹ ï¼š   æ–°å»ºä¸€ä¸ªdivå…ƒç´ ,å½“é¼ æ ‡ç§»å…¥åˆ°divä¸Šæ—¶,è®©å…‰æ ‡å˜æˆå°æ‰‹çŠ¶æ€ã€‚</code></pre><h3 id="17-åˆ—è¡¨"><a href="#17-åˆ—è¡¨" class="headerlink" title="17.åˆ—è¡¨"></a>17.åˆ—è¡¨</h3><p>1.åˆ—è¡¨é¡¹æ ‡è®°</p><pre class="language-none"><code class="language-none">CODEå±æ€§ï¼šlist-style-typeå–å€¼ï¼š   1.none   2.disc   3.circle   4.square</code></pre><p>2.åˆ—è¡¨é¡¹å›¾åƒ</p><pre class="language-none"><code class="language-none">CODEä½œç”¨ï¼šä½¿ç”¨è‡ªå®šä¹‰å›¾åƒä½œä¸ºåˆ—è¡¨é¡¹æ ‡è¯†å±æ€§ï¼šlist-style-imageå–å€¼ï¼šurl(å›¾åƒè·¯å¾„);</code></pre><p>3.åˆ—è¡¨é¡¹ä½ç½®</p><pre class="language-none"><code class="language-none">CODEä½œç”¨ï¼šå°†é»˜è®¤çš„åˆ—è¡¨é¡¹æ ‡è¯†çš„ä½ç½®,æ”¾åˆ°lié‡Œé¢å±æ€§ï¼šlist-style-positionå–å€¼ï¼š   1.outside é»˜è®¤å€¼,å°†æ ‡è¯†æ˜¾ç¤ºåœ¨liå¤–é¢çš„   2.inside å°†æ ‡è¯†æ”¾äºlié‡Œé¢</code></pre><p>4.åˆ—è¡¨å±æ€§ç®€å†™</p><pre class="language-none"><code class="language-none">CODEå±æ€§ï¼šlist-styleå–å€¼ï¼štype url() position;å¸¸ç”¨æ–¹å¼ï¼šlist-style:none;åˆ—è¡¨çš„ä½¿ç”¨åœºåˆï¼š   æ¨ªå‘æ’åˆ—æˆ–çºµå‘æ’åˆ—çš„å†…å®¹,éƒ½å¯ä»¥ä½¿ç”¨åˆ—è¡¨æ¥å®ç°ã€‚</code></pre><h3 id="18-å®šä½"><a href="#18-å®šä½" class="headerlink" title="18.å®šä½"></a>18.å®šä½</h3><p>ç›¸å¯¹å®šä½,ç»å¯¹å®šä½,å›ºå®šå®šä½<br>1.å®šä½ç›¸å…³å±æ€§</p><pre class="language-none"><code class="language-none">CODEå±æ€§ï¼špositionå–å€¼ï¼š   1.static:é™æ€,é»˜è®¤å€¼   2.relative:ç›¸å¯¹å®šä½   3.absolute:ç»å¯¹å®šä½   4.fixed:å›ºå®šå®šä½</code></pre><p>2.åç§»å±æ€§</p><pre class="language-none"><code class="language-none">CODEtop/bottom/left/rightä»¥ä¸Šå››ä¸ªå±æ€§çš„å–å€¼å‡ä¸ºæ•°å­—ex:  top:150px å…ƒç´ å‘ä¸‹ç§»åŠ¨150px  left:20px å…ƒç´ å‘å³ç§»åŠ¨20px  right:-150px å…ƒç´ å‘å³ç§»åŠ¨150pxæ³¨æ„ï¼š  åªæœ‰å·²å®šä½å…ƒç´ æ‰èƒ½ä½¿ç”¨åç§»å±æ€§</code></pre><p>3.å®šä½è¯¦è§£</p><pre class="language-none"><code class="language-none">CODE1.ç›¸å¯¹å®šä½  1.ä»€ä¹ˆæ˜¯ç›¸å¯¹å®šä½    å…ƒç´ ç›¸å¯¹äºå®ƒåŸæ¥çš„ä½ç½®åç§»æŸä¸ªè·ç¦»  2.ä½¿ç”¨åœºåˆ    åšå…ƒç´ ä½ç½®å¾®è°ƒæ—¶ä½¿ç”¨  3.è¯­æ³•      position:relative;      é…åˆåç§»å±æ€§æ¥å®ç°ä½ç½®çš„ç§»åŠ¨      left:10px;      top:10px;2.ç»å¯¹å®šä½  1.ä»€ä¹ˆæ˜¯ç»å¯¹å®šä½&amp;ç‰¹ç‚¹    1.ç»å¯¹å®šä½çš„å…ƒç´ ä¼šè„±ç¦»æ–‡æ¡£æµ-ä¸å é¡µé¢ç©ºé—´2.ç»å¯¹å®šä½çš„å…ƒç´ ä¼šç›¸å¯¹äºç¦»ä»–æœ€è¿‘çš„,å·²å®šä½çš„,ç¥–å…ˆå…ƒç´  å»å®ç°ä½ç½®çš„åˆå§‹åŒ–ã€‚3.å¦‚æœæ²¡æœ‰å·²å®šä½çš„ç¥–å…ˆå…ƒç´ ,é‚£ä¹ˆè¯¥å…ƒç´ å°±ç›¸å¯¹äºbodyå»å®ç°ä½ç½®çš„åˆå§‹åŒ–4.é…åˆåç§»å±æ€§ å®ç°å…ƒç´ ä½ç½®çš„ä¿®æ”¹  2.è¯­æ³•    position:absolute;é…åˆåç§»å±æ€§å®ç°ä½ç½®çš„ä¿®æ”¹  3.ä½¿ç”¨åœºåˆ    1.æœ‰å †å æ•ˆæœçš„å…ƒç´ 2.å¼¹å‡ºèœå•  4.æ³¨æ„ï¼š    1.è„±ç¦»æ–‡æ¡£æµ-ä¸å æ®é¡µé¢ç©ºé—´2.ç»å¯¹å®šä½å…ƒç´ ä¼šå˜æˆå—çº§å…ƒç´   5.å †å é¡ºåº    ä¸€æ—¦å…ƒç´ å˜ä¸ºå·²å®šä½å…ƒç´ çš„è¯,å…ƒç´ ä»¬åˆ™æœ‰å¯èƒ½å‡ºç°å †å çš„æ•ˆæœå±æ€§ï¼šz-indexå–å€¼ï¼šæ— å•ä½çš„æ•°å­—,æ•°å­—è¶Šå¤§è¶Šé ä¸Š    æ³¨æ„ï¼š  1.åªæœ‰å·²å®šä½å…ƒç´ æ‰èƒ½å®ç°å †å é¡ºåºçš„æ”¹å˜ï¼ˆz-indexï¼‰  2.çˆ¶å­å…ƒç´ é—´,z-indexæ— æ•ˆ,æ°¸è¿œéƒ½æ˜¯å­å…ƒç´ å‹åœ¨çˆ¶å…ƒç´ ä¸Šæ–¹3.å›ºå®šå®šä½  1.ä»€ä¹ˆæ˜¯å›ºå®šå®šä½    å°†å…ƒç´ å›ºå®šåœ¨ç½‘é¡µçš„æŸä¸ªä½ç½®å¤„,ä½ç½®ä¸ä¼šéšç€æ»šåŠ¨æ¡è€Œå‘ç”Ÿæ”¹å˜,å›ºå®šåœ¨å¯è§†åŒºåŸŸä¸­ã€‚  2.è¯­æ³•    position:fixed;é…åˆåç§»å±æ€§ä½¿ç”¨  æ³¨æ„ï¼š    1.å›ºå®šå®šä½çš„å…ƒç´ æ°¸è¿œéƒ½æ˜¯ç›¸å¯¹äºbodyå»å®ç°ä½ç½®çš„åˆå§‹åŒ–å’Œåç§»ã€‚2.å›ºå®šå®šä½çš„å…ƒç´ ä¼šå˜æˆå—çº§å…ƒç´ 3.å›ºå®šå®šä½å…ƒç´ ä¼šè„±ç¦»æ–‡æ¡£æµ-ä¸å é¡µé¢ç©ºé—´</code></pre>]]></content>
      
      
      <categories>
          
          <category> CSS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å‰ç«¯ </tag>
            
            <tag> CSS </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
